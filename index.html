<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
    body { margin: 0; }
    .slider-wrapper {
      width: 90%;
      margin: 5% 0 0 5%;
      overflow: auto;
      outline: 1px solid #FF66FF;
    }
    .slider:after {
      content: '';
      display: table;
      clear: both;
    }
    .slider {
      /*width: -webkit-calc(100% * 13 / 7);*/
      /*width: -moz-calc(100% * 13 / 7);*/
      /*width: calc(100% * 13 / 7);*/
      /*width: 185.7142857143%;*/
    }
    .slider > div {
      /*width: -webkit-calc(100% / 13);*/
      /*width: -moz-calc(100% / 13);*/
      /*width: calc(100% / 13);*/
      /*width: 7.6923076923%;*/
      /*margin-right: -100%;*/
      float: left;
      height: 300px;
      font-size: 30px;
      text-align: center;
      font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
    }
    .sl-1 { background-color: #FEBFC0; }
    .sl-2 { background-color: #C1FFBF; }
    .sl-3 { background-color: #FFECBF; }
    .sl-4 { background-color: #C1FFEA; }
    .sl-5 { background-color: #EAFFBE; }
    .sl-6 { background-color: #C1FFD4; }
    .sl-7 { background-color: #FFD5C0; }
    .sl-8 { background-color: #C1FFD4; }
    .sl-9 { background-color: #FFFFBE; }
    .sl-10 { background-color: #C1FFFF; }
    .sl-11 { background-color: #D6FFBF; }
    .sl-12 { background-color: #C1D3FF; }
    .sl-13 { background-color: #FFECBF; }
  </style>
</head>
<body class="body">
  <div class="slider-wrapper">
    <div class="slider">
      <div class="sl-1">1</div>
      <div class="sl-2">2</div>
      <div class="sl-3">3</div>
      <div class="sl-4">4</div>
      <div class="sl-5">5</div>
      <div class="sl-6">6</div>
      <div class="sl-7">7</div>
      <div class="sl-8">8</div>
      <div class="sl-9">9</div>
      <div class="sl-10">10</div>
      <div class="sl-11">11</div>
      <div class="sl-12">12</div>
      <div class="sl-13">13</div>
    </div>
  </div>
  <script>
    function createSheet () {
      // Create the <style> tag
      var style = document.createElement("style");
      // style.setAttribute("type", "text/css");

      // Add a media (and/or media query) here if you'd like!
      // style.setAttribute("media", "screen")
      // style.setAttribute("media", "only screen and (max-width : 1024px)")

      // WebKit hack :(
      // style.appendChild(document.createTextNode(""));

      // Add the <style> element to the page
      document.querySelector('head').appendChild(style);

      return (style.sheet) ? style.sheet : style.styleSheet;
    };

    function addCSSRule(sheet, selector, rules, index) {
      if("insertRule" in sheet) {
        sheet.insertRule(selector + "{" + rules + "}", index);
      }
      else if("addRule" in sheet) {
        sheet.addRule(selector, rules, index);
      }
    }

    function GetCalc() {
      var doc = document, el = doc.createElement('div'), result = null;
      doc.body.appendChild(el);
      try {
        var vals = ['calc(10px)', '-moz-calc(10px)', '-webkit-calc(10px)'], val;
        for (var i = 0; i < 3; i++) {
          val = vals[i];
          el.style.width = val;
          if (el.offsetWidth === 10) { 
            result = val.replace('(10px)', ''); 
            break;
          }
        }
      } catch (e) {}
      doc.body.removeChild(el);

      return result;
    }
    var calc = GetCalc();

    // var sliderSheet = document.createElement('style');
    // sliderSheet.setAttribute("type", "text/css");
    // document.querySelector('head').appendChild(sliderSheet);
    // document.head.appendChild(sliderSheet);
    // var sheet = sliderSheet.styleSheet;

    var sheet = createSheet();
    var wrapperWidth, sliderWidth, full = 13, page = 7;
    if (calc == null) {
      wrapperWidth = 100 * full / page + '%';
      sliderWidth = 100 / full + '%';
    } else {
      wrapperWidth = calc + '(100% * ' + full + ' / ' + page + ')';
      sliderWidth = calc + '(100% / ' + full + ')';
    }

    addCSSRule(sheet, '.slider', 'width: ' + wrapperWidth, 0);
    addCSSRule(sheet, '.slider > div', 'width: ' + sliderWidth, 1);
    // sheet.addRule('.slider', 'width: ' + wrapperWidth, 0);
    // sheet.addRule('.slider > div', 'width: ' + sliderWidth, 1);
    // alert("insertRule" in sheet);
    // alert("addRule" in sheet);
    // sheet.insertRule('.slider { width: ' + wrapperWidth + '; }', 0);
    // sheet.insertRule('.slider > div { width: ' + sliderWidth + '; }', 1);

    // addCSSRule(sheet, "body", "background-color: #fce", sheet.cssRules.length);
    // https://davidwalsh.name/add-rules-stylesheets
    // http://www.rainbodesign.com/pub/css/css-javascript.html

    // IE: the last column down
    // chrome, Opera: subpixel issue

  </script>
</body>
</html>