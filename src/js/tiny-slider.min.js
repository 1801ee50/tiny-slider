/**
 * tiny-slider
 * @version 0.2.2
 * @author William Lin
 * @license The MIT License (MIT)
 * @github https://github.com/ganlanyuan/tiny-slider/
 **/
!function(t){window.tinySlider=t()}(function(){"usr strict";function t(){for(var t,i,e,n=arguments[0]||{},o=1,a=arguments.length;a>o;o++)if(null!==(t=arguments[o]))for(i in t)e=t[i],n!==e&&void 0!==e&&(n[i]=e);return n}function i(t,i,e){t=t||window;var n=i+Math.round(99999999*Math.random());t.attachEvent?(t["e"+n]=e,t[n]=function(){t["e"+n](window.event)},t.attachEvent("on"+i,t[n])):t.addEventListener(i,e,!1)}function e(t,i){return-1!==(" "+t.className+" ").indexOf(" "+i+" ")}function n(t,i){for(var n=Array.isArray(i)?i:[i],o=0;o<n.length;o++)e(t,n[o])||(t.className=t.className+" "+n[o])}function o(t,i){for(var n=Array.isArray(i)?i:[i],o=0;o<n.length;o++)e(t,n[o])&&(t.className=t.className.replace(" "+n[o],""))}function a(t){return t*(180/Math.PI)}function s(t,i){return Math.abs(90-Math.abs(t))>=90-i?"horizontal":Math.abs(90-Math.abs(t))<=i?"vertical":!1}function r(t){return t&&"object"==typeof t?Object.keys(t):!1}function l(t,i){if(t&&"object"==typeof t){for(var e=[],n=0;n<i.length;n++){var o=i[n];e.push(t[o])}return e}return!1}function c(){return winW=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function h(t,i,e){var n=c();if(void 0===t.length||void 0===i||t.length!==i.length)return e;if(n<t[0])return e;if(n>=t[t.length-1])return i[i.length-1];for(var o=0;o<t.length-1;o++)if(n>=t[o]&&n<=t[o+1])return i[o]}function d(t){for(var i=document.documentElement,e=0;e<t.length;e++)if(t[e]in i.style)return t[e]}function f(t){var i;if(t.container){i=void 0===t.container.length?[t.container]:t.container;for(var e=0;e<i.length;e++){var n=t;n.container=i[e];var o=new u(n)}}}function u(e){e=t({container:document.querySelector(".slider"),items:1,fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,nav:!0,navText:["prev","next"],navContainer:!1,dots:!0,dotsContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",loop:!0,responsive:!1},e||{}),this.container=e.container,this.children=this.container.children,this.cl=this.cul=this.children.length,this.fw=e.fixedWidth,this.nav=e.nav,this.navText=e.navText,this.navContainer=e.navContainer,this.dots=e.dots,this.dotsContainer=e.dotsContainer,this.arrowKeys=e.arrowKeys,this.speed=m?e.speed:0,this.autoplay=e.autoplay,this.autoplayTimeout=e.autoplayTimeout,this.autoplayDirection="forward"===e.autoplayDirection?1:-1,this.loop=e.loop,this.slideByPage=e.slideByPage,this.responsive=this.fw?!1:e.responsive,this.bp=r(this.responsive),this.vals=l(this.responsive,this.bp),this.itemsMax=void 0!==this.vals.length?Math.max.apply(Math,this.vals):e.items,this.items=h(this.bp,this.vals,e.items),this.animating=!1,this.index=0,this.fw&&(this.items=Math.floor(this.container.parentNode.offsetWidth/this.fw),e.maxContainerWidth?this.itemsMax=Math.ceil(e.maxContainerWidth/this.fw):this.loop=!1),this.itemsMax=Math.min(this.cl,this.itemsMax),this.items=Math.min(this.cl,this.items),this.init();var n=this,o;if(i(window,"resize",function(){clearTimeout(o),o=setTimeout(function(){n.items=n.fw?Math.floor(n.container.parentNode.offsetWidth/n.fw):h(n.bp,n.vals,e.items),n.items=Math.min(n.cl,n.items),n.speed=n.slideByPage?e.speed*n.items:e.speed,n.makeLayout(n),n.move(n),n.dots&&!n.dotsContainer&&(n.displayDots(n),n.dotsActive(n))},100)}),this.nav&&(i(this.next,"click",function(){n.onNavClick(n,1)}),i(this.prev,"click",function(){n.onNavClick(n,-1)})),this.arrowKeys&&i(document,"keydown",function(t){t=t||window.event,37===t.keyCode?n.onNavClick(n,-1):39===t.keyCode&&n.onNavClick(n,1)}),this.dots)for(var a=0;a<this.allDots.length;a++)i(this.allDots[a],"click",this.fireDotClick(this));this.autoplay&&setInterval(function(){n.onNavClick(n,n.autoplayDirection)},n.autoplayTimeout)}Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var i=Array.prototype.slice.call(arguments,1),e=this,n=function(){},o=function(){return e.apply(this instanceof n?this:t,i.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),o.prototype=new n,o}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Object.keys||(Object.keys=function(t){if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var i=[],e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i});var m=d(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),v=d(["transform","WebkitTransform","MozTransform","OTransform"]);return u.prototype={init:function(){n(this.container,"tiny-content");var t=this.container.parentNode,i=this.container.nextSibling,e=document.createElement("div"),o=e.cloneNode(!0);if(o.className="tiny-slider",o.appendChild(this.container),i?t.insertBefore(o,i):t.appendChild(o),this.dots)if(this.dotsContainer)this.allDots=this.dotsContainer.children,n(this.allDots[0],"tiny-active");else{var a=e.cloneNode(!0),s=e.cloneNode(!0);a.className="tiny-dots",s.className="tiny-dot";for(var r=this.cl-1;r>=0;r--){var l=r>0?s.cloneNode(!0):s;a.appendChild(l)}o.appendChild(a),this.allDots=a.querySelectorAll(".tiny-dot")}if(this.nav){var c;if(this.navContainer)c=this.navContainer.children,this.prev=c[0],this.next=c[1];else{c=e.cloneNode(!0);var h=e.cloneNode(!0),d=e.cloneNode(!0);c.className="tiny-nav",h.className="tiny-prev",d.className="tiny-next",2===this.navText.length&&(h.innerHTML=this.navText[0],d.innerHTML=this.navText[1]),c.appendChild(h),c.appendChild(d),o.appendChild(c),this.prev=h,this.next=d}}if(this.loop){for(var f=[],u=[],m=this.container.children[0],v=0;v<this.itemsMax;v++){var p=this.children[v].cloneNode(!0),y=this.children[this.children.length-1-v].cloneNode(!0);f.push(p),u.push(y)}for(var x=0;x<f.length;x++)this.container.appendChild(f[x]);for(var g=u.length-1;g>=0;g--)this.container.insertBefore(u[g],m);this.cul=this.container.children.length,this.children=this.container.children}this.makeLayout(this),this.move(this),this.itemActive(this),this.dots&&!this.dotsContainer&&(this.displayDots(this),this.dotsActive(this))},makeLayout:function(t){t.itemWidth=t.fw?t.fw:t.container.parentNode.offsetWidth/t.items,t.container.style.width=t.itemWidth*t.cul+"px";for(var i=0;i<t.cul;i++)t.children[i].style.width=t.itemWidth+"px";if(t.loop){var e=-(t.itemsMax*t.itemWidth);t.container.style.marginLeft=e+"px"}},getFCL:function(t){var i=t.getAbsIndex(t),e=t.container.parentNode.offsetWidth;return i+t.items+1>=t.cul?-(t.cul*t.fw-e):-(t.fw*t.index)},move:function(t){var i=t.fw?t.getFCL(t):-t.itemWidth*t.index;v?t.container.style[v]="translate3d("+i+"px, 0, 0)":t.container.style.left=i+"px"},getAbsIndex:function(t){var i=t.index;return 0>i?i+=t.cl:i>=t.cl&&(i-=t.cl),i},fireDotClick:function(t){return function(){for(var i,e=0;e<t.allDots.length;e++)t.allDots[e]===this&&(i=e);t.onDotClick(t,i)}},itemActive:function(t){for(var i=0;i<t.cul;i++)o(t.children[i],["tiny-current","tiny-visible"]);for(var e=t.loop?t.index+t.itemsMax:t.index,a=e;a<e+t.items;a++)n(t.children[a],"tiny-visible");n(t.children[e],"tiny-current")},addStatus:function(t,i){if(!t.slideByPage&&!t.fw){var e=t.loop?t.index+t.itemsMax:t.index;-1===i?(n(t.children[e],"tiny-left-in"),n(t.children[e+t.items],"tiny-right-out")):(n(t.children[e-1],"tiny-left-out"),n(t.children[e+t.items-1],"tiny-right-in"))}},removeStatus:function(t){if(!t.slideByPage&&!t.fw)for(var i=0;i<t.cul;i++)o(t.children[i],["tiny-left-in","tiny-left-out","tiny-right-in","tiny-right-out"])},displayDots:function(t){for(var i=Math.ceil(t.cl/t.items),e=t.allDots,a=0;a<e.length;a++)i>a?o(e[a],"tiny-hide"):n(e[a],"tiny-hide")},dotsActive:function(t){var i,e=t.getAbsIndex(t),a=t.allDots,s=t.dotsContainer?t.cl:Math.ceil(t.cl/t.items);if(i=t.dotsContainer?e:t.fw&&e+t.items+1>=t.cul?s-1:Math.floor(e/t.items),!t.loop&&!t.dotsContainer){var r=/^-?[0-9]+$/,l=r.test(t.cl/t.items);l||t.index!==t.cl-t.items||(i+=1)}for(var c=0;s>c;c++)c===i?n(a[c],"tiny-active"):o(a[c],"tiny-active")},onNavClick:function(t,i){if(!t.animating){var e=t.index;t.slideByPage&&(i*=t.items),t.index+=i,t.loop||(t.index=Math.max(0,Math.min(t.index,t.cl-t.items)));var n=Math.abs(t.index-e);m&&(t.container.style[m]=t.speed*n/1e3+"s",t.animating=!0,t.addStatus(t,i)),t.move(t),setTimeout(function(){t.loop&&t.clickFallback(t),t.dots&&t.dotsActive(t),m&&t.removeStatus(t),t.itemActive(t),t.animating=!1},t.speed*n)}},clickFallback:function(t){var i=t.slideByPage?t.index<-(t.itemsMax-t.items):t.index<=-t.itemsMax,e=t.slideByPage?t.index>t.cl+t.itemsMax-2*t.items-1:t.index>=t.cl+t.itemsMax-t.items;t.fw&&t.itemsMax&&!t.slideByPage&&(e=t.index>=t.cl+t.itemsMax-t.items-1),i&&(t.index+=t.cl),e&&(t.index-=t.cl),m&&(t.container.style[m]="0s");var n=-t.itemWidth*t.index;v?t.container.style[v]="translate3d("+n+"px, 0, 0)":t.container.style.left=n+"px"},onDotClick:function(t,i){if(!t.animating){var e=t.index;t.loop?t.index=t.dotsContainer?i:i*t.items:t.dotsContainer?t.index=Math.min(i,t.cl-t.items):t.index=Math.min(i*t.items,t.cl-t.items);var a=Math.abs(t.index-e);m&&(t.container.style[m]=t.speed*a/1e3+"s",t.animating=!0),t.move(t),setTimeout(function(){for(var e=0;e<t.allDots.length;e++)e===i?n(t.allDots[e],"tiny-active"):o(t.allDots[e],"tiny-active");t.clickFallback(t),t.itemActive(t),t.animating=!1},t.speed*a)}}},f});