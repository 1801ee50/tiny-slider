/**
  * tiny-slider.native
  * @version 0.3.1
  * @author William Lin
  * @license The MIT License (MIT)
  * @github https://github.com/ganlanyuan/tiny-slider/
  */
var tinySlider=function(){"use strict";function t(t){function o(){C.style.width=V*w+"px",B&&(C.style.marginLeft=-(G*V)+"px");for(var t=w;t--;)E[t].style.width=V+"px"}function s(){for(var t=B?tt+G:tt,n=[],e,i=w;i--;)i>=t&&t+J>i&&n.push(E[i].offsetHeight);e=Math.max.apply(null,n),a&&(C.style[a]=N/1e3+"s"),C.style.height=e+"px",nt=!0,setTimeout(function(){a&&(C.style[a]="0s"),nt=!1},N)}function c(t){a&&(C.style[a]=N*t/1e3+"s",nt=!0)}function l(){navigator.msMaxTouchPoints&&(C.parentNode.style.msScrollSnapPointsX="snapInterval(0%, "+V+")")}function d(){for(var t=B?tt+G:tt,n=w;n--;)t>n||n>=t+J?(null!==E[n].getAttribute("tabindex")&&E[n].removeAttribute("tabindex"),E[n].classList.contains("visible")&&E[n].classList.remove("current","visible")):n===t?(E[n].setAttribute("tabindex",-1),E[n].classList.add("current","visible")):(null!==E[n].getAttribute("tabindex")&&E[n].removeAttribute("tabindex"),E[n].classList.contains("visible")||(E[n].classList.remove("current"),E[n].classList.add("visible")))}function u(){B||(J>=S?(0!==tt&&(tt=0,h()),Q.classList.contains("disabled")||(Q.disabled=!0),R.classList.contains("disabled")||(R.disabled=!0)):(0===tt?Q.disabled=!0:Q.disabled=!1,tt===S-J?R.disabled=!0:R.disabled=!1))}function f(){if(D&&!t.navContainer)for(var n=Z;n--;){var e=U[n];_>n?e.classList.contains("tiny-hidden")&&e.classList.remove("tiny-hidden"):e.classList.contains("tiny-hidden")||e.classList.add("tiny-hidden")}}function v(){if(D){var n;if(-1===et){var e=0>tt?tt+S:tt>=S?tt-S:tt;if(n=t.navContainer?e:Math.floor(e/J),!B&&!t.navContainer){var i=/^-?[0-9]+$/,a=i.test(S/J);a||tt!==S-J||(n+=1)}}else n=et,et=-1;for(var r=_;r--;){var o=U[r];r===n?o.classList.contains("current")||o.classList.add("current"):o.classList.contains("current")&&o.classList.remove("current")}}}function h(){var t=C.parentNode.offsetWidth;st=-V*tt,A&&!B&&(st=Math.max(st,-Math.abs(S*V-t))),r?C.style[r]="translate3d("+st+"px, 0, 0)":C.style.left=st+"px"}function p(){if(B){var t=F?J-G>tt:-G>=tt,n=F?tt>S+G-2*J-1:tt>=S+G-J;A&&G&&!F&&(n=tt>=S+G-J-1),t&&(tt+=S),n&&(tt-=S),a&&(C.style[a]="0s"),h()}}function y(){p(),d(),u(),v(),L(),X&&s(),nt=!1}function m(t){if(!nt){t=F?t*J:t;var n=Math.abs(t);tt=B?tt+t:Math.max(0,Math.min(tt+t,S-J)),c(n),h(),setTimeout(function(){y()},N*n)}}function b(){return function(){var t=gn.indexOf(U,this);g(t)}}function g(n){if(!nt){et=n;var e,i;e=t.navContainer?n:n*J,e=B?e:Math.min(e,S-J),i=Math.abs(e-tt),tt=e,c(i),h(),setTimeout(function(){y()},N*i)}}function L(){if(gn.isInViewport(C)){var t=C.querySelectorAll(".visible .tiny-lazy");if(0!==t.length)for(var n=0,e=t.length;e>n;n++)t[n].classList.contains("loaded")||(t[n].src=t[n].getAttribute("data-src"),t[n].classList.add("loaded"))}}function x(){return function(t){var n=t.changedTouches[0];rt=parseInt(n.clientX),ot=parseInt(n.clientY)}}function M(){return function(t){var i=t.changedTouches[0];ct=parseInt(i.clientX)-rt,lt=parseInt(i.clientY)-ot;var o=n(Math.atan2(lt,ct)),s=e(o,15);if("horizontal"===s&&nt===!1&&(dt=!0),dt){a&&(C.style[a]="0s");var c=B?-(S+G-J)*V:-(S-J)*V,l=B?G*V:0;!B&&A&&(c=-(S*V-C.parentNode.offsetWidth)),st=-tt*V+ct,st=Math.max(c,Math.min(st,l)),r?C.style[r]="translate3d("+st+"px, 0, 0)":C.style.left=st+"px",t.preventDefault()}}}function T(){return function(t){var n=t.changedTouches[0];if(ct=parseInt(n.clientX)-rt,dt&&0!==ct){t.preventDefault(),dt=!1,st=-tt*V+ct;var e,i=B?-G:0,a=B?S+G-J:S-J;e=-(st/V),e=0>ct?Math.ceil(e):Math.floor(e),e=Math.max(i,Math.min(e,a)),tt=e,c(1),h(),setTimeout(function(){y()},N)}}}t=gn.extend({container:document.querySelector(".slider"),items:1,fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0},t||{});var C=t.container,E=C.children,S=E.length,w=E.length,A=t.fixedWidth,k=t.controls,W=t.controlsText,q=t.controlsContainer?t.controlsContainer:!1,D=t.nav,I=t.navContainer?t.navContainer:!1,z=t.arrowKeys,N=a?t.speed:0,P=t.autoplay,H=t.autoplayTimeout,O="forward"===t.autoplayDirection?1:-1,j=t.autoplayText,B=A&&!t.maxContainerWidth?!1:t.loop,X=t.autoHeight,F=t.slideByPage,K=t.lazyload,Y=t.touch,V,G,J,Q,R,U,Z,_,tt=0,nt=!1,et=-1;if(P)var it,at=!1;if(Y)var rt=0,ot=0,st=0,ct=0,lt=0,dt=!1,ut=!1;var ft=A?!1:t.responsive,vt="object"!=typeof ft?!1:Object.keys(ft),ht=i(ft),pt=function(){return A?function(){return Math.max(Math.min(S,Math.floor(C.parentNode.offsetWidth/A)),1)}:function(){var n,e=document.documentElement.clientWidth;if(void 0!==vt.length&&void 0!==ht&&vt.length===ht.length)if(e<vt[0])n=t.items;else if(e>=vt[vt.length-1])n=ht[ht.length-1];else for(var i=0;i<vt.length-1;i++)e>=vt[i]&&e<=vt[i+1]&&(n=ht[i]);else n=t.items;return Math.max(Math.min(S,n),1)}}(),yt=function(){var n;return n=A?t.maxContainerWidth?Math.ceil(t.maxContainerWidth/A):!1:void 0!==ht.length?Math.max.apply(Math,ht):t.items,n?Math.min(S,n):n},mt=function(){return A?function(){return A}:function(){return C.parentNode.offsetWidth/J}}(),bt=function(){return t.navContainer?function(){return S}:function(){return Math.ceil(S/J)}}();return J=pt(),G=yt(),V=mt(),_=bt(),{init:function(){C.classList.add("tiny-content");var t=document.createElement("div");if(t.className="tiny-slider",gn.wrap(C,t),navigator.msMaxTouchPoints&&(t.classList.add("ms-touch"),t.addEventListener("scroll",function(){a&&(C.style[a]="0s"),C.style.transform="translate3d(-"+-C.scrollLeft()+"px,0,0)"})),D){if(!I){for(var n="",e=0;S>e;e++)n+='<button data-slide="'+e+'" type="button"></button>';P&&(n+='<button data-action="stop" type="button"><span class="tiny-hidden">Stop Animation</span>'+j[0]+"</button>"),n='<div class="tiny-nav">'+n+"</div>",gn.append(t,n),I=t.querySelector(".tiny-nav"),U=t.querySelectorAll("[data-slide]")}U=I.querySelectorAll("[data-slide]"),Z=U.length,U[0].classList.add("current")}if(k&&(q?(Q=q.firstElementChild,R=q.lastElementChild):(gn.append(t,'<div class="tiny-controls"><button class="tiny-prev" type="button">'+W[0]+'</button><button class="tiny-next" type="button">'+W[1]+"</button></div>"),Q=t.querySelector(".tiny-prev"),R=t.querySelector(".tiny-next"))),P&&(I||(gn.append(t,'<div class="tiny-nav"><button data-action="stop" type="button"><span class="tiny-hidden">Stop Animation</span>'+j[0]+"</button></div>"),I=t.querySelector(".tiny-nav")),it=I.querySelector("[data-action]")),B){for(var i=document.createDocumentFragment(),r=document.createDocumentFragment(),c=G;c--;){var p=E[c].cloneNode(!0),y=E[S-1-c].cloneNode(!0);i.insertBefore(p,i.firstChild),r.appendChild(y)}C.appendChild(i),C.insertBefore(r,C.firstChild),w=C.children.length,E=C.children}if(o(),X&&s(),l(),h(),d(),k&&(u(),R.addEventListener("click",function(){m(1)}),Q.addEventListener("click",function(){m(-1)})),f(),v(),D)for(var g=0;Z>g;g++)U[g].addEventListener("click",b(),!1);if(K&&L(),z&&document.addEventListener("keydown",function(t){t=t||window.event,37===t.keyCode?m(-1):39===t.keyCode&&m(1)}),P){var A,N=function(){A=setInterval(function(){m(O)},H),it.setAttribute("data-action","stop"),it.innerHTML='<span class="tiny-hidden">Stop Animation</span>'+j[1],at=!0};N();var F=function(){clearInterval(A),it.setAttribute("data-action","start"),it.innerHTML='<span class="tiny-hidden">Stop Animation</span>'+j[0],at=!1},tt=function(){at?F():N()},nt=function(){at&&F()};if(it.addEventListener("click",tt,!1),k&&(Q.addEventListener("click",nt,!1),R.addEventListener("click",nt,!1)),D)for(var et=0;Z>et;et++)U[et].addEventListener("click",nt,!1)}Y&&!ut&&C.addEventListener&&(C.addEventListener("touchstart",x(),!1),C.addEventListener("touchmove",M(),!1),C.addEventListener("touchend",T(),!1),C.addEventListener("touchcancel",T(),!1),ut=!0);var rt;window.addEventListener("resize",function(){clearTimeout(rt),rt=setTimeout(function(){J=pt(),V=mt(),_=bt(),o(),l(),h(),f(),u(),v(),X&&s(),K&&L()},100)});var ot=!1;window.addEventListener("scroll",function(){ot||window.requestAnimationFrame(function(){K&&L(),ot=!1}),ot=!0})}}}function n(t){return t*(180/Math.PI)}function e(t,n){return Math.abs(90-Math.abs(t))>=90-n?"horizontal":Math.abs(90-Math.abs(t))<=n?"vertical":!1}function i(t){if("object"==typeof t){for(var n=[],e=Object.keys(t),i=0,a=e.length;a>i;i++){var r=e[i];n.push(t[r])}return n}return!1}var a=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),r=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]);return t}();
//# sourceMappingURL=./tiny-slider.native.js.map