/**
  * tiny-slider.native
  * @version 0.3.1
  * @author William Lin
  * @license The MIT License (MIT)
  * @github https://github.com/ganlanyuan/tiny-slider/
  */
var tinySlider=function(){"use strict";function t(t){function o(){E.style.width=G*k+"px",F&&(E.style.marginLeft=-(J*G)+"px");for(var t=k;t--;)T[t].style.width=G+"px"}function s(){for(var t=F?nt+J:nt,n=[],e,i=k;i--;)i>=t&&t+Q>i&&n.push(T[i].offsetHeight);e=Math.max.apply(null,n),a&&(E.style[a]=N/1e3+"s"),E.style.height=e+"px",et=!0,setTimeout(function(){a&&(E.style[a]="0s"),et=!1},N)}function c(t){a&&(E.style[a]=N*t/1e3+"s",et=!0)}function l(){navigator.msMaxTouchPoints&&(E.parentNode.style.msScrollSnapPointsX="snapInterval(0%, "+G+")")}function d(){for(var t=F?nt+J:nt,n=k;n--;)t>n||n>=t+Q?(null!==T[n].getAttribute("tabindex")&&T[n].removeAttribute("tabindex"),T[n].classList.contains("tiny-visible")&&T[n].classList.remove("tiny-current","tiny-visible")):n===t?(T[n].setAttribute("tabindex",-1),T[n].classList.add("tiny-current","tiny-visible")):(null!==T[n].getAttribute("tabindex")&&T[n].removeAttribute("tabindex"),T[n].classList.contains("tiny-visible")||(T[n].classList.remove("tiny-current"),T[n].classList.add("tiny-visible")))}function u(){F||(Q>=w?(0!==nt&&(nt=0,h()),R.classList.contains("disabled")||(R.disabled=!0),U.classList.contains("disabled")||(U.disabled=!0)):(0===nt?R.disabled=!0:R.disabled=!1,nt===w-Q?U.disabled=!0:U.disabled=!1))}function f(){if(A&&!q)for(var t=_;t--;){var n=Z[t];tt>t?n.classList.contains("tiny-hide")&&n.classList.remove("tiny-hide"):n.classList.contains("tiny-hide")||n.classList.add("tiny-hide")}}function v(){if(A){var t;if(-1===at){var n=0>nt?nt+w:nt>=w?nt-w:nt;if(t=q?n:Math.floor(n/Q),!F&&!q){var e=/^-?[0-9]+$/,i=e.test(w/Q);i||nt!==w-Q||(t+=1)}}else t=at,at=-1;for(var a=tt;a--;){var r=Z[a];a===t?r.classList.contains("tiny-active")||r.classList.add("tiny-active"):r.classList.contains("tiny-active")&&r.classList.remove("tiny-active")}}}function h(){var t=E.parentNode.offsetWidth;lt=-G*nt,W&&!F&&(lt=Math.max(lt,-Math.abs(w*G-t))),r?E.style[r]="translate3d("+lt+"px, 0, 0)":E.style.left=lt+"px"}function y(){if(F){var t=K?Q-J>nt:-J>=nt,n=K?nt>w+J-2*Q-1:nt>=w+J-Q;W&&J&&!K&&(n=nt>=w+J-Q-1),t&&(nt+=w),n&&(nt-=w),a&&(E.style[a]="0s"),h()}}function p(){y(),d(),u(),v(),L(),H&&s(),et=!1}function m(t){if(!et){t=K?t*Q:t;var n=Math.abs(t);nt=F?nt+t:Math.max(0,Math.min(nt+t,w-Q)),c(n),h(),setTimeout(function(){p()},N*n)}}function b(){return function(){var t=gn.indexOf(Z,this);g(t)}}function g(t){if(!et){at=t;var n,e;n=q?t:t*Q,n=F?n:Math.min(n,w-Q),e=Math.abs(n-nt),nt=n,c(e),h(),setTimeout(function(){p()},N*e)}}function L(){if(gn.isInViewport(E)){var t=E.querySelectorAll(".tiny-visible .tiny-lazy");if(0!==t.length)for(var n=0,e=t.length;e>n;n++)t[n].classList.contains("loaded")||(t[n].src=t[n].getAttribute("data-src"),t[n].classList.add("loaded"))}}function x(){return function(t){var n=t.changedTouches[0];st=parseInt(n.clientX),ct=parseInt(n.clientY)}}function M(){return function(t){var i=t.changedTouches[0];dt=parseInt(i.clientX)-st,ut=parseInt(i.clientY)-ct;var o=n(Math.atan2(ut,dt)),s=e(o,15);if("horizontal"===s&&et===!1&&(ft=!0),ft){a&&(E.style[a]="0s");var c=F?-(w+J-Q)*G:-(w-Q)*G,l=F?J*G:0;!F&&W&&(c=-(w*G-E.parentNode.offsetWidth)),lt=-nt*G+dt,lt=Math.max(c,Math.min(lt,l)),r?E.style[r]="translate3d("+lt+"px, 0, 0)":E.style.left=lt+"px",t.preventDefault()}}}function C(){return function(t){var n=t.changedTouches[0];if(dt=parseInt(n.clientX)-st,ft&&0!==dt){t.preventDefault(),ft=!1,lt=-nt*G+dt;var e,i=F?-J:0,a=F?w+J-Q:w-Q;e=-(lt/G),e=0>dt?Math.ceil(e):Math.floor(e),e=Math.max(i,Math.min(e,a)),nt=e,c(1),h(),setTimeout(function(){p()},N)}}}t=gn.extend({container:document.querySelector(".slider"),items:1,fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,nav:!0,navText:["prev","next"],navContainer:!1,dots:!0,dotsContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoText:["start","stop"],autoContainer:!1,loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0},t||{});var E=t.container,T=E.children,w=T.length,k=T.length,W=t.fixedWidth,S=t.nav,D=t.navText,I=t.navContainer?t.navContainer:!1,A=t.dots,q=t.dotsContainer?t.dotsContainer:!1,z=t.arrowKeys,N=a?t.speed:0,P=t.autoplay,O=t.autoplayTimeout,j="forward"===t.autoplayDirection?1:-1,B=t.autoText,X=t.autoContainer?t.autoContainer:!1,F=W&&!t.maxContainerWidth?!1:t.loop,H=t.autoHeight,K=t.slideByPage,Y=t.lazyload,V=t.touch,G,J,Q,R,U,Z,_,tt,nt=0,et=!1,it=!1,at=-1;if(P)var rt,ot;if(V)var st=0,ct=0,lt=0,dt=0,ut=0,ft=!1,vt=!1;var ht=W?!1:t.responsive,yt="object"!=typeof ht?!1:Object.keys(ht),pt=i(ht),mt=function(){return W?function(){return Math.max(Math.min(w,Math.floor(E.parentNode.offsetWidth/W)),1)}:function(){var n,e=document.documentElement.clientWidth;if(void 0!==yt.length&&void 0!==pt&&yt.length===pt.length)if(e<yt[0])n=t.items;else if(e>=yt[yt.length-1])n=pt[pt.length-1];else for(var i=0;i<yt.length-1;i++)e>=yt[i]&&e<=yt[i+1]&&(n=pt[i]);else n=t.items;return Math.max(Math.min(w,n),1)}}(),bt=function(){var n;return n=W?t.maxContainerWidth?Math.ceil(t.maxContainerWidth/W):!1:void 0!==pt.length?Math.max.apply(Math,pt):t.items,n?Math.min(w,n):n},gt=function(){return W?function(){return W}:function(){return E.parentNode.offsetWidth/Q}}(),Lt=function(){return q?function(){return w}:function(){return Math.ceil(w/Q)}}();return Q=mt(),J=bt(),G=gt(),tt=Lt(),{init:function(){function t(){K=setInterval(function(){m(j)},O)}function n(){clearInterval(K)}E.classList.add("tiny-content");var e=document.createElement("div");if(e.className="tiny-slider",gn.wrap(E,e),navigator.msMaxTouchPoints&&(e.classList.add("ms-touch"),e.addEventListener("scroll",function(){a&&(E.style[a]="0s"),E.style.transform="translate3d(-"+-E.scrollLeft()+"px,0,0)"})),A){if(q)Z=q.children,Z[0].classList.add("tiny-active");else{for(var i="",r=w;r--;)i+='<button class="tiny-dot" type="button"></button>';i='<div class="tiny-dots">'+i+"</div>",gn.append(e,i),Z=e.querySelectorAll(".tiny-dot")}_=Z.length}if(S&&(I?(R=I.firstElementChild,U=I.lastElementChild):(gn.append(e,'<div class="tiny-nav"><button class="tiny-prev" type="button">'+D[0]+'</button><button class="tiny-next" type="button">'+D[1]+"</button></div>"),R=e.querySelector(".tiny-prev"),U=e.querySelector(".tiny-next"))),P&&(X?(rt=X.firstElementChild,ot=X.lastElementChild):(gn.append(e,'<div class="tiny-auto"><button class="tiny-start" type="button">'+B[0]+'</button><button class="tiny-stop" type="button">'+B[1]+"</button></div>"),rt=e.querySelector(".tiny-start"),ot=e.querySelector(".tiny-stop"))),F){for(var c=document.createDocumentFragment(),y=document.createDocumentFragment(),p=J;p--;){var g=T[p].cloneNode(!0),W=T[w-1-p].cloneNode(!0);c.insertBefore(g,c.firstChild),y.appendChild(W)}E.appendChild(c),E.insertBefore(y,E.firstChild),k=E.children.length,T=E.children}if(o(),H&&s(),l(),h(),d(),S&&(u(),U.addEventListener("click",function(){m(1)}),R.addEventListener("click",function(){m(-1)})),f(),v(),A)for(var N=0;_>N;N++)Z[N].addEventListener("click",b(),!1);if(Y&&L(),z&&document.addEventListener("keydown",function(t){t=t||window.event,37===t.keyCode?m(-1):39===t.keyCode&&m(1)}),P){var K;if(t(),rt.addEventListener("click",t,!1),ot.addEventListener("click",n,!1),S&&(R.addEventListener("click",n,!1),U.addEventListener("click",n,!1)),A)for(var N=0;_>N;N++)Z[N].addEventListener("click",n,!1)}V&&!vt&&E.addEventListener&&(E.addEventListener("touchstart",x(),!1),E.addEventListener("touchmove",M(),!1),E.addEventListener("touchend",C(),!1),E.addEventListener("touchcancel",C(),!1),vt=!0);var nt;window.addEventListener("resize",function(){clearTimeout(nt),nt=setTimeout(function(){Q=mt(),G=gt(),tt=Lt(),o(),l(),h(),f(),u(),v(),H&&s(),Y&&L()},100)});var et=!1;window.addEventListener("scroll",function(){et||window.requestAnimationFrame(function(){Y&&L(),et=!1}),et=!0})}}}function n(t){return t*(180/Math.PI)}function e(t,n){return Math.abs(90-Math.abs(t))>=90-n?"horizontal":Math.abs(90-Math.abs(t))<=n?"vertical":!1}function i(t){if("object"==typeof t){for(var n=[],e=Object.keys(t),i=0,a=e.length;a>i;i++){var r=e[i];n.push(t[r])}return n}return!1}var a=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),r=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]);return t}();
//# sourceMappingURL=./tiny-slider.native.js.map