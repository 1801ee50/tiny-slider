/**
  * tiny-slider.native
  * @version 0.3.1
  * @author William Lin
  * @license The MIT License (MIT)
  * @github https://github.com/ganlanyuan/tiny-slider/
  */
var tinySlider=function(){"use strict";function t(t){function r(){C.style.width=Y*W+"px",B&&(C.style.marginLeft=-(V*Y)+"px");for(var t=W;t--;)w[t].style.width=Y+"px"}function o(){for(var t=B?_+V:_,n=[],e,i=W;i--;)i>=t&&t+G>i&&n.push(w[i].offsetHeight);e=Math.max.apply(null,n),a&&(C.style[a]=q/1e3+"s"),C.style.height=e+"px",tt=!0,setTimeout(function(){a&&(C.style[a]="0s"),tt=!1},q)}function c(t){a&&(C.style[a]=q*t/1e3+"s",tt=!0)}function l(){navigator.msMaxTouchPoints&&(C.parentNode.style.msScrollSnapPointsX="snapInterval(0%, "+Y+")")}function d(){for(var t=B?_+V:_,n=W;n--;)t>n||n>=t+G?w[n].classList.contains("tiny-visible")&&w[n].classList.remove("tiny-current","tiny-visible"):n===t?w[n].classList.add("tiny-current","tiny-visible"):w[n].classList.contains("tiny-visible")||(w[n].classList.remove("tiny-current"),w[n].classList.add("tiny-visible"))}function u(){B||(G>=E?(0!==_&&(_=0,h()),J.classList.contains("disabled")||J.classList.add("disabled"),Q.classList.contains("disabled")||Q.classList.add("disabled")):(0===_?J.classList.add("disabled"):J.classList.remove("disabled"),_===E-G?Q.classList.add("disabled"):Q.classList.remove("disabled")))}function f(){if(z&&!N)for(var t=U;t--;){var n=R[t];Z>t?n.classList.contains("tiny-hide")&&n.classList.remove("tiny-hide"):n.classList.contains("tiny-hide")||n.classList.add("tiny-hide")}}function v(){if(z){var t;if(-1===nt){var n=0>_?_+E:_>=E?_-E:_;if(t=N?n:Math.floor(n/G),!B&&!N){var e=/^-?[0-9]+$/,i=e.test(E/G);i||_!==E-G||(t+=1)}}else t=nt,nt=-1;for(var a=Z;a--;){var s=R[a];a===t?s.classList.contains("tiny-active")||s.classList.add("tiny-active"):s.classList.contains("tiny-active")&&s.classList.remove("tiny-active")}}}function h(){var t=C.parentNode.offsetWidth;at=-Y*_,k&&!B&&(at=Math.max(at,-Math.abs(E*Y-t))),s?C.style[s]="translate3d("+at+"px, 0, 0)":C.style.left=at+"px"}function y(){if(B){var t=F?G-V>_:-V>=_,n=F?_>E+V-2*G-1:_>=E+V-G;k&&V&&!F&&(n=_>=E+V-G-1),t&&(_+=E),n&&(_-=E),a&&(C.style[a]="0s"),h()}}function m(){y(),d(),u(),v(),M(),X&&o(),tt=!1}function p(t){if(!tt){t=F?t*G:t;var n=Math.abs(t);_=B?_+t:Math.max(0,Math.min(_+t,E-G)),c(n),h(),setTimeout(function(){m()},q*n)}}function L(){return function(){var t=gn.indexOf(R,this);g(t)}}function g(t){if(!tt){nt=t;var n,e;n=N?t:t*G,n=B?n:Math.min(n,E-G),e=Math.abs(n-_),_=n,c(e),h(),setTimeout(function(){m()},q*e)}}function M(){if(gn.isInViewport(C)){var t=C.querySelectorAll(".tiny-visible .tiny-lazy");if(0!==t.length)for(var n=0,e=t.length;e>n;n++)t[n].classList.contains("loaded")||(t[n].src=t[n].getAttribute("data-src"),t[n].classList.add("loaded"))}}function x(){return function(t){var n=t.changedTouches[0];et=parseInt(n.clientX),it=parseInt(n.clientY)}}function b(){return function(t){var i=t.changedTouches[0];st=parseInt(i.clientX)-et,rt=parseInt(i.clientY)-it;var r=n(Math.atan2(rt,st)),o=e(r,15);if("horizontal"===o&&tt===!1&&(ot=!0),ot){a&&(C.style[a]="0s");var c=B?-(E+V-G)*Y:-(E-G)*Y,l=B?V*Y:0;!B&&k&&(c=-(E*Y-C.parentNode.offsetWidth)),at=-_*Y+st,at=Math.max(c,Math.min(at,l)),s?C.style[s]="translate3d("+at+"px, 0, 0)":C.style.left=at+"px",t.preventDefault()}}}function T(){return function(t){var n=t.changedTouches[0];if(st=parseInt(n.clientX)-et,ot&&0!==st){t.preventDefault(),ot=!1,at=-_*Y+st;var e,i=B?-V:0,a=B?E+V-G:E-G;e=-(at/Y),e=0>st?Math.ceil(e):Math.floor(e),e=Math.max(i,Math.min(e,a)),_=e,c(1),h(),setTimeout(function(){m()},q)}}}t=gn.extend({container:document.querySelector(".slider"),items:1,fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,nav:!0,navText:["prev","next"],navContainer:!1,dots:!0,dotsContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0},t||{});var C=t.container,w=C.children,E=w.length,W=w.length,k=t.fixedWidth,D=t.nav,S=t.navText,I=t.navContainer?t.navContainer:!1,z=t.dots,N=t.dotsContainer?t.dotsContainer:!1,P=t.arrowKeys,q=a?t.speed:0,O=t.autoplay,j=t.autoplayTimeout,A="forward"===t.autoplayDirection?1:-1,B=k&&!t.maxContainerWidth?!1:t.loop,X=t.autoHeight,F=t.slideByPage,H=t.lazyload,K=t.touch,Y,V,G,J,Q,R,U,Z,_=0,tt=!1,nt=-1;if(K)var et=0,it=0,at=0,st=0,rt=0,ot=!1,ct=!1;var lt=k?!1:t.responsive,dt="object"!=typeof lt?!1:Object.keys(lt),ut=i(lt),ft=function(){return k?function(){return Math.max(Math.min(E,Math.floor(C.parentNode.offsetWidth/k)),1)}:function(){var n,e=document.documentElement.clientWidth;if(void 0!==dt.length&&void 0!==ut&&dt.length===ut.length)if(e<dt[0])n=t.items;else if(e>=dt[dt.length-1])n=ut[ut.length-1];else for(var i=0;i<dt.length-1;i++)e>=dt[i]&&e<=dt[i+1]&&(n=ut[i]);else n=t.items;return Math.max(Math.min(E,n),1)}}(),vt=function(){var n;return n=k?t.maxContainerWidth?Math.ceil(t.maxContainerWidth/k):!1:void 0!==ut.length?Math.max.apply(Math,ut):t.items,n?Math.min(E,n):n},ht=function(){return k?function(){return k}:function(){return C.parentNode.offsetWidth/G}}(),yt=function(){return N?function(){return E}:function(){return Math.ceil(E/G)}}();return G=ft(),V=vt(),Y=ht(),Z=yt(),{init:function(){C.classList.add("tiny-content");var t=document.createElement("div");if(t.className="tiny-slider",gn.wrap(C,t),navigator.msMaxTouchPoints&&(t.classList.add("ms-touch"),t.addEventListener("scroll",function(){a&&(C.style[a]="0s"),C.style.transform="translate3d(-"+-C.scrollLeft()+"px,0,0)"})),z){if(N)R=N.children,R[0].classList.add("tiny-active");else{for(var n="",e=E;e--;)n+='<div class="tiny-dot"></div>';n='<div class="tiny-dots">'+n+"</div>",gn.append(t,n),R=t.querySelectorAll(".tiny-dot")}U=R.length}if(D&&(I?(J=I.firstElementChild,Q=I.lastElementChild):(gn.append(t,'<div class="tiny-nav"><div class="tiny-prev">'+S[0]+'</div><div class="tiny-next">'+S[1]+"</div></div>"),J=t.querySelector(".tiny-prev"),Q=t.querySelector(".tiny-next"))),B){for(var i=document.createDocumentFragment(),s=document.createDocumentFragment(),c=V;c--;){var y=w[c].cloneNode(!0),m=w[E-1-c].cloneNode(!0);i.insertBefore(y,i.firstChild),s.appendChild(m)}C.appendChild(i),C.insertBefore(s,C.firstChild),W=C.children.length,w=C.children}if(r(),X&&o(),l(),h(),d(),D&&(u(),Q.addEventListener("click",function(){p(1)}),J.addEventListener("click",function(){p(-1)})),f(),v(),z)for(var g=0;U>g;g++)R[g].addEventListener("click",L());H&&M(),P&&document.addEventListener("keydown",function(t){t=t||window.event,37===t.keyCode?p(-1):39===t.keyCode&&p(1)}),O&&setInterval(function(){p(A)},j),K&&!ct&&C.addEventListener&&(C.addEventListener("touchstart",x(),!1),C.addEventListener("touchmove",b(),!1),C.addEventListener("touchend",T(),!1),C.addEventListener("touchcancel",T(),!1),ct=!0);var k;window.addEventListener("resize",function(){clearTimeout(k),k=setTimeout(function(){G=ft(),Y=ht(),Z=yt(),r(),l(),h(),f(),u(),v(),X&&o(),H&&M()},100)});var q=!1;window.addEventListener("scroll",function(){q||window.requestAnimationFrame(function(){H&&M(),q=!1}),q=!0})}}}function n(t){return t*(180/Math.PI)}function e(t,n){return Math.abs(90-Math.abs(t))>=90-n?"horizontal":Math.abs(90-Math.abs(t))<=n?"vertical":!1}function i(t){if("object"==typeof t){for(var n=[],e=Object.keys(t),i=0,a=e.length;a>i;i++){var s=e[i];n.push(t[s])}return n}return!1}var a=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),s=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]);return t}();
//# sourceMappingURL=./tiny-slider.native.js.map