var tinySlider=function(){"use strict";function t(t){function s(){tt.style.width=B*rt+"px";var t=X*B,e="marginLeft"===ot?at:0,n=lt?st?-(st/2+at):-B/2:0,i=t+e+n;0!==i&&(tt.style.marginLeft=-i+"px");for(var r=rt;r--;)nt[r].style.width=B-at+"px",0!==at&&(nt[r].style[ot]=at+"px")}function d(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function u(t){for(var e=t.length;e--;)d(t[e])&&t.splice(e,1);0===t.length?c():setTimeout(function(){u(t)},16)}function c(){for(var t,e=Kt(),n=[],i=lt?1:0,r=rt;r--;)r>=e-i&&r<e+K&&n.push(nt[r].offsetHeight);t=Math.max.apply(null,n),a&&(tt.style[a]=mt/1e3+"s"),tt.style.height=t+"px",kt=!0,setTimeout(function(){a&&(tt.style[a]="0s"),kt=!1},mt)}function v(){navigator.msMaxTouchPoints&&(et.style.msScrollSnapPointsX="snapInterval(0%, "+B+")")}function f(){for(var t=J;t--;){var e=$[t];t<Q?e.hasAttribute("hidden")&&e.removeAttribute("hidden"):e.hasAttribute("hidden")||e.setAttribute("hidden","")}}function b(){K=Ft(),it<=K&&(At=Et=vt=dt=wt=!1),B=Bt(),Q=Xt(),s(),v(),vt&&!t.navContainer&&f(),p(),h()}function m(t){tt.setAttribute("aria-busy","true"),y(t),p(),setTimeout(function(){At&&g(),h(),kt=!1,tt.setAttribute("aria-busy","false")},mt*t)}function h(){E(),vt&&A(),dt&&!At&&L(),xt&&w(),Lt&&x()}function y(t){a&&(tt.style[a]=mt*t/1e3+"s",kt=!0)}function p(){Ot=-B*Mt,o?tt.style[o]="translate3d("+Ot+"px, 0, 0)":tt.style.left=Ot+"px"}function g(){var t,e,n=lt?1:0;wt?(t=K+n-X,e=it+X-2*K-1):(t=n-X,e=it+X-K),(Mt<t||Mt>e)&&(Mt-it>t?Mt-=it:Mt+=it,a&&(tt.style[a]="0s"),p())}function E(){for(var t=rt;t--;){var e=Kt(),n=nt[t];t>=e&&t<e+K?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function A(){var e;if(Tt===-1){var n=Mt<0?Mt+it:Mt>=it?Mt-it:Mt;if(e=t.navContainer?n:Math.floor(n/K),!At&&!t.navContainer){var i=/^-?[0-9]+$/,r=i.test(it/K);r||Mt!==it-K||(e+=1)}}else e=Tt,Tt=-1;for(var a=Q;a--;){var o=$[a];a===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}function L(){var t=lt?it+1:it;t>K?(0===Mt?(Y.disabled=!0,I(Y,V)):Y.disabled=!1,Et||Mt!==t-K?V.disabled=!1:(V.disabled=!0,I(V,Y))):(0!==Mt&&(Mt=0,p()),Y.disabled=!0,V.disabled=!0,Y.setAttribute("tabindex","-1"),V.setAttribute("tabindex","-1"),Y===document.activeElement&&Y.blur(),V===document.activeElement&&V.blur())}function w(){if(gn.isInViewport(tt)){if(lt)for(var t=nt[X+Mt-1].querySelectorAll(".tiny-lazy"),e=0,n=t.length;e<n;e++){var i=t[e];i.classList.contains("loaded")||(i.src=i.getAttribute("data-src"),i.classList.add("loaded"))}for(var r=tt.querySelectorAll('[aria-hidden="false"] .tiny-lazy'),e=0,n=r.length;e<n;e++){var i=r[e];i.classList.contains("loaded")||(i.src=i.getAttribute("data-src"),i.classList.add("loaded"))}}}function x(){for(var t=Kt(),e=[],n=rt;n--;)if(n>=t&&n<t+K)for(var i=nt[n].querySelectorAll("img"),r=i.length;r--;)e.push(i[r]);0===e.length?c():u(e)}function C(t){if(!kt){t=wt?t*K:t;var e=Math.abs(t),n=lt?it+1:it;Mt=At?Mt+t:Math.max(0,Math.min(Mt+t,n-K)),m(e)}}function T(){C(-1)}function M(){var t=lt?it+1:it;C(Et&&Mt===t-K?-t+K:1)}function k(e){if(!kt){for(var n,i=e.target||e.srcElement;gn.indexOf($,i)===-1;)i=i.parentNode;Tt=n=Number(i.getAttribute("data-slide"));var r,a;r=t.navContainer?n:n*K,r=At?r:Math.min(r,it-K),a=Math.abs(r-Mt),Mt=r,m(a)}}function S(){Pt=setInterval(function(){C(pt)},yt),Nt.setAttribute("data-action","stop"),Nt.innerHTML="<span hidden>Stop Animation</span>"+gt[1],Dt=!0}function P(){clearInterval(Pt),Nt.setAttribute("data-action","start"),Nt.innerHTML="<span hidden>Stop Animation</span>"+gt[0],Dt=!1}function N(){Dt?P():S()}function D(){Dt&&P()}function W(t){t=t||window.event,t.keyCode===l.LEFT?C(-1):t.keyCode===l.RIGHT&&C(1)}function I(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function O(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==l.LEFT&&e!==l.UP&&e!==l.HOME&&e!==l.PAGEUP||n!==Y&&Y.disabled!==!0&&I(n,Y),e!==l.RIGHT&&e!==l.DOWN&&e!==l.END&&e!==l.PAGEDOWN||n!==V&&V.disabled!==!0&&I(n,V),e!==l.ENTER&&e!==l.SPACE||(n===V?M():T())}function q(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==l.LEFT&&e!==l.PAGEUP||n.getAttribute("data-slide")>0&&I(n,n.previousElementSibling),e!==l.UP&&e!==l.HOME||0!==n.getAttribute("data-slide")&&I(n,$[0]),e!==l.RIGHT&&e!==l.PAGEDOWN||n.getAttribute("data-slide")<Q-1&&I(n,n.nextElementSibling),e!==l.DOWN&&e!==l.END||n.getAttribute("data-slide")<Q-1&&I(n,$[Q-1]),e!==l.ENTER&&e!==l.SPACE||k(t)}function H(){tt.style[a]="0s",tt.style.transform="translate3d(-"+-tt.scrollLeft()+"px,0,0)"}function z(t){var e=t.changedTouches[0];Wt=parseInt(e.clientX),It=parseInt(e.clientY)}function G(t){var e=t.changedTouches[0];qt=parseInt(e.clientX)-Wt,Ht=parseInt(e.clientY)-It;var r=n(Math.atan2(Ht,qt)),l=i(r,15);if("horizontal"===l&&kt===!1&&(zt=!0),zt){a&&(tt.style[a]="0s");var s=At?-(it+X-K)*B:-(it-K)*B,d=At?X*B:0;!At&&st&&(s=-(it*B-et.clientWidth)),Ot=-Mt*B+qt,Ot=Math.max(s,Math.min(Ot,d)),o?tt.style[o]="translate3d("+Ot+"px, 0, 0)":tt.style.left=Ot+"px",t.preventDefault()}}function R(t){var e=t.changedTouches[0];if(qt=parseInt(e.clientX)-Wt,zt&&0!==qt){t.preventDefault(),zt=!1,Ot=-Mt*B+qt;var n,i=At?-X:0,r=At?it+X-K:it-K;n=-(Ot/B),n=qt<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,r)),Mt=n,m(1)}}function j(){clearTimeout(Z),Z=setTimeout(function(){b()},100)}function F(){St||window.requestAnimationFrame(function(){xt&&w(),St=!1}),St=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",center:!1,fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var U,B,X,K,Y,V,$,J,Q,Z,_=t.transform,tt=t.container,et=document.createElement("div"),nt=tt.children,it=nt.length,rt=nt.length,at=t.gutter,ot="right"===t.gutterPosition?"marginRight":"marginLeft",lt=t.center,st=t.fixedWidth,dt=(t.maxContainerWidth,t.controls),ut=t.controlsText,ct=!!t.controlsContainer&&t.controlsContainer,vt=t.nav,ft=!!t.navContainer&&t.navContainer,bt=t.arrowKeys,mt=a?t.speed:0,ht=t.autoplay,yt=t.autoplayTimeout,pt="forward"===t.autoplayDirection?1:-1,gt=t.autoplayText,Et=t.rewind,At=!Et&&t.loop,Lt=t.autoHeight,wt=t.slideByPage,xt=t.lazyload,Ct=t.touch,Tt=-1,Mt=0,kt=!1,St=!1;if(ht)var Pt,Nt,Dt=!1;if(Ct)var Wt=0,It=0,Ot=0,qt=0,Ht=0,zt=!1;var Gt=!st&&t.responsive,Rt="object"==typeof Gt&&Object.keys(Gt),jt=r(Gt),Ft=function(){return st?function(){return Math.max(Math.min(it,Math.floor(et.clientWidth/st)),1)}:function(){var e,n=document.documentElement.clientWidth;if(void 0!==Rt.length&&void 0!==jt&&Rt.length===jt.length)if(n<Rt[0])e=t.items;else if(n>=Rt[Rt.length-1])e=jt[jt.length-1];else for(var i=0;i<Rt.length-1;i++)n>=Rt[i]&&n<=Rt[i+1]&&(e=jt[i]);else e=t.items;return Math.max(Math.min(it,e),1)}}(),Ut=function(){return At?it:lt?1:void 0},Bt=function(){return function(){return st?st+at:(et.clientWidth+at)/K}}(),Xt=function(){return function(){return t.navContainer?it:Math.ceil(it/K)}}(),Kt=function(){return function(){return Mt+X}}();return{init:function(){tt.classList.add("tiny-content",_),0===tt.id.length?tt.id=U=e():U=tt.id,et.className="tiny-slider",gn.wrap(tt,et),navigator.msMaxTouchPoints&&(et.classList.add("ms-touch"),et.addEventListener("scroll",H,!1));for(var n=0;n<it;n++)nt[n].id=U+"item"+n;if(K=Ft(),it<=K&&(At=Et=vt=dt=wt=!1),X=Ut(),At||lt){for(var i=document.createDocumentFragment(),r=document.createDocumentFragment(),a=X;a--;){var o=nt[a].cloneNode(!0),l=nt[it-1-a].cloneNode(!0);o.id="",l.id="",i.insertBefore(o,i.firstChild),r.appendChild(l)}tt.appendChild(i),tt.insertBefore(r,tt.firstChild),rt=tt.children.length,nt=tt.children}if(vt){if(!t.navContainer){for(var s="",d=0;d<it;d++)s+='<button data-slide="'+d+'" tabindex="-1" aria-selected="false" aria-controls="'+U+"item"+d+'" type="button"></button>';ht&&(s+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+gt[0]+"</button>"),s='<div class="tiny-nav" aria-label="Carousel Pagination">'+s+"</div>",gn.append(et,s),ft=et.querySelector(".tiny-nav")}if($=ft.querySelectorAll("[data-slide]"),J=$.length,!ft.hasAttribute("aria-label")){ft.setAttribute("aria-label","Carousel Pagination");for(var u=0;u<J;u++){var c=$[u];c.setAttribute("tabindex","-1"),c.setAttribute("aria-selected","false"),c.setAttribute("aria-controls",U+"item"+u)}}}if(dt&&(t.controlsContainer||(gn.append(et,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+U+'" type="button">'+ut[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+U+'" type="button">'+ut[1]+"</button></div>"),ct=et.querySelector(".tiny-controls")),Y=ct.querySelector('[data-controls="prev"]'),V=ct.querySelector('[data-controls="next"]'),ct.hasAttribute("tabindex")||(ct.setAttribute("aria-label","Carousel Navigation"),Y.setAttribute("aria-controls",U),V.setAttribute("aria-controls",U),Y.setAttribute("tabindex","-1"),V.setAttribute("tabindex","0"))),ht&&(ft||(gn.append(et,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+gt[0]+"</button></div>"),ft=et.querySelector(".tiny-nav")),Nt=ft.querySelector("[data-action]")),b(),Ct&&(tt.addEventListener("touchstart",z,!1),tt.addEventListener("touchmove",G,!1),tt.addEventListener("touchend",R,!1),tt.addEventListener("touchcancel",R,!1)),dt&&(At||L(),Y.addEventListener("click",T,!1),V.addEventListener("click",M,!1),Y.addEventListener("keydown",O,!1),V.addEventListener("keydown",O,!1)),vt)for(var v=$.length;v--;)$[v].addEventListener("click",k,!1),$[v].addEventListener("keydown",q,!1);if(ht&&(S(),Nt.addEventListener("click",N,!1),dt&&(Y.addEventListener("click",D,!1),V.addEventListener("click",D,!1)),vt))for(var f=0;f<J;f++)$[f].addEventListener("click",D,!1);bt&&document.addEventListener("keydown",W,!1),window.addEventListener("resize",j,!1),window.addEventListener("scroll",F,!1)},destory:function(){if(tt.classList.remove("tiny-content"),tt.style.width="",tt.style[a]="",tt.style.transform="",tt.style.marginLeft="",tt.style.left="",gn.unwrap(et),At)for(var e=X;e--;)nt[0].remove(),nt[nt.length-1].remove();if(void 0!==U){U=null,tt.removeAttribute("id");for(var n=it;n--;)nt[n].removeAttribute("id"),nt[n].removeAttribute("aria-hidden"),nt[n].style.width=""}if(Ct&&(tt.removeEventListener("touchstart",z,!1),tt.removeEventListener("touchmove",G,!1),tt.removeEventListener("touchend",R,!1),tt.removeEventListener("touchcancel",R,!1)),dt&&(t.controlsContainer?(ct.removeAttribute("aria-label"),Y.removeAttribute("aria-controls"),Y.removeAttribute("tabindex"),Y.removeEventListener("click",T,!1),Y.removeEventListener("keydown",O,!1),V.removeAttribute("aria-controls"),V.removeAttribute("tabindex"),V.removeEventListener("click",M,!1),V.removeEventListener("keydown",O,!1)):(ct.remove(),ct=null,Y=null,V=null)),vt){if(t.navContainer){ft.removeAttribute("aria-label");for(var i=$.length;i--;)$[i].removeAttribute("aria-selected"),$[i].removeAttribute("aria-controls"),$[i].removeEventListener("click",k,!1),$[i].removeEventListener("keydown",q,!1)}else ft.remove(),ft=null;$=null,J=null}if(ht)if(t.navContainer||null===ft){if(Nt.removeEventListener("click",N,!1),Nt=null,dt&&t.controlsContainer&&(Y.removeEventListener("click",D,!1),V.removeEventListener("click",D,!1)),vt&&t.navContainer)for(var r=0;r<J;r++)$[r].removeEventListener("click",D,!1)}else ft.remove(),ft=null;bt&&document.removeEventListener("keydown",bt,!1),window.removeEventListener("resize",j,!1),window.removeEventListener("scroll",F,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function r(t){if("object"==typeof t){for(var e=[],n=Object.keys(t),i=0,r=n.length;i<r;i++){var a=n[i];e.push(t[a])}return e}return!1}var a=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),o=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),l={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
