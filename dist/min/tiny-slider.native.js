var tinySlider=function(){"use strict";function t(t){function f(){ct.className="tiny-slider",gn.wrap(lt,ct),lt.classList.add("tiny-content",dt),zt&&(lt.addEventListener("touchstart",V,!1),lt.addEventListener("touchmove",$,!1),lt.addEventListener("touchend",J,!1),lt.addEventListener("touchcancel",J,!1))}function v(){navigator.msMaxTouchPoints&&(ct.classList.add("ms-touch"),ct.addEventListener("scroll",Y,!1))}function h(){""===lt.id?lt.id=_=e():_=lt.id;for(var t=0;t<ft;t++)ut[t].id=_+"item"+t}function p(){if(Dt||mt){for(var t=document.createDocumentFragment(),e=document.createDocumentFragment(),n=Bt;n--;){var i=ut[n].cloneNode(!0),a=ut[ft-1-n].cloneNode(!0);i.id="",a.id="",t.insertBefore(i,t.firstChild),e.appendChild(a)}lt.appendChild(t),lt.insertBefore(e,lt.firstChild),vt=lt.children.length,ut=lt.children}}function y(){st=ie(),tt=ae(),rt=re(),Ht=It||"page"===t.slideBy?st:t.slideBy,ft<=st?(Lt=Et=At=Dt=kt=!1,jt=0):(Lt=t.nav,Et=t.controls,At=t.autoplay,Dt=!t.rewind&&t.loop,kt=t.rewind)}function m(){if(Lt)if(Rt)Mt&&a(Mt,"hidden")&&d(Mt,"hidden");else{if(!t.navContainer){for(var e="",n=0;n<ft;n++)e+='<button data-slide="'+n+'" tabindex="-1" aria-selected="false" aria-controls="'+_+"item"+n+'" type="button"></button>';At&&(e+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Nt[0]+"</button>"),e='<div class="tiny-nav" aria-label="Carousel Pagination">'+e+"</div>",gn.append(ct,e),Mt=ct.querySelector(".tiny-nav")}it=Mt.querySelectorAll("[data-slide]"),at=it.length,a(Mt,"aria-label")||(o(Mt,{"aria-label":"Carousel Pagination"}),o(it,{tabindex:"-1","aria-selected":"false","aria-controls":_+"item"+i}));for(var i=0;i<at;i++)it[i].addEventListener("click",z,!1),it[i].addEventListener("keydown",K,!1);Rt=!0}else Rt&&Mt&&!a(Mt,"hidden")&&o(Mt,{hidden:"true"})}function b(){Et?Ft?a(wt,"hidden")&&d(wt,"hidden"):(t.controlsContainer||(gn.append(ct,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+_+'" type="button">'+xt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+_+'" type="button">'+xt[1]+"</button></div>"),wt=ct.querySelector(".tiny-controls")),et=wt.querySelector('[data-controls="prev"]'),nt=wt.querySelector('[data-controls="next"]'),a(wt,"tabindex")||(o(wt,{"aria-label":"Carousel Navigation"}),o(wt.children,{"aria-controls":_,tabindex:"-1"}),o(nt,{tabindex:"0"})),Dt||D(),et.addEventListener("click",H,!1),nt.addEventListener("click",q,!1),et.addEventListener("keydown",X,!1),nt.addEventListener("keydown",X,!1),Ft=!0):Ft&&!a(wt,"hidden")&&o(wt,{hidden:"true"})}function g(){if(At)if(Ut)a($t,"hidden")&&d($t,"hidden");else{if(Mt||(gn.append(ct,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Nt[0]+"</button></div>"),Mt=ct.querySelector(".tiny-nav")),$t=Mt.querySelector("[data-action]"),B(),$t.addEventListener("click",j,!1),Et&&(et.addEventListener("click",R,!1),nt.addEventListener("click",R,!1)),Lt)for(var t=0;t<at;t++)it[t].addEventListener("click",R,!1);Ut=!0}else Ut&&!a($t,"hidden")&&o($t,{hidden:"true"})}function E(){if(!Xt||!gt){lt.style.width=(tt+1)*vt+"px";var t=Bt*tt+yt;lt.style.marginLeft=-t+"px";for(var e=vt;e--;)ut[e].style.width=tt-ht+"px"}if(mt&&!Xt||gt){var n=mt;if(gt){var i=ct.clientWidth;n=(i-tt*Math.floor(i/tt)+ht)/2}lt.style.paddingLeft=n+"px"}if(!Xt&&0!==ht)for(var a=vt;a--;)ut[a].style[pt]=ht+"px";Xt=!0}function x(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function w(t){for(var e=t.length;e--;)x(t[e])&&t.splice(e,1);0===t.length?L():setTimeout(function(){w(t)},16)}function L(){for(var t,e=oe(),n=[],i=e-bt;i<e+st;i++)n.push(ut[i].offsetHeight);t=Math.max.apply(null,n),de(1),lt.style.height=t+"px",Kt=!0,setTimeout(function(){Kt=!1},Ct)}function M(){ct.style.msScrollSnapPointsX="snapInterval(0%, "+tt+")"}function T(){if(Lt&&!t.navContainer){for(var e=0;e<rt;e++)d(it[e],"hidden");for(var n=rt;n<at;n++){var i=it[n];a(i,"hidden")||o(i,{hidden:""})}}}function C(){y(),E(),m(),T(),b(),g(),navigator.msMaxTouchPoints&&M(),de(0),se(),P()}function A(t){lt.setAttribute("aria-busy","true"),Kt=!0,de(t),se(),setTimeout(function(){Dt&&S(),P(),Kt=!1,lt.setAttribute("aria-busy","false")},Ct*t)}function P(){N(),Lt&&k(),Et&&!Dt&&D(),qt&&W(),Wt&&O()}function S(){var t=Ht-Bt+bt,e=ft+Bt-st-Ht-1;(jt<t||jt>e)&&(jt-ft>=t&&jt-ft<=e?jt-=ft:jt+=ft,Kt=!0,de(0),se(),Kt=!1)}function N(){for(var t=oe(),e=vt;e--;){var n=ut[e];e>=t&&e<t+st?a(n,"aria-hidden")&&"true"!==r(n,"aria-hidden")||o(n,{"aria-hidden":"false"}):a(n,"aria-hidden")&&"false"!==r(n,"aria-hidden")||o(n,{"aria-hidden":"true"})}}function k(){var e;if(Gt===-1){var n=jt<0?jt+ft:jt>=ft?jt-ft:jt;if(e=t.navContainer?n:Math.floor(n/st),!Dt&&!t.navContainer){var i=/^-?[0-9]+$/,a=i.test(ft/st);a||jt!==ft-st||(e+=1)}}else e=Gt,Gt=-1;for(var d=rt;d--;){var s=it[d];d===e?"false"===r(s,"aria-selected")&&o(s,{tabindex:"0","aria-selected":"true"}):"true"===r(s,"aria-selected")&&o(s,{tabindex:"-1","aria-selected":"false"})}}function D(){0===jt?(et.disabled=!0,et.setAttribute("tabindex","-1"),nt.setAttribute("tabindex","0"),U(et,nt)):et.disabled=!1,kt||jt!==ft-st?nt.disabled=!1:(nt.disabled=!0,nt.setAttribute("tabindex","-1"),et.setAttribute("tabindex","0"),U(nt,et))}function W(){if(gn.isInViewport(lt)){for(var t=[],e=jt+Bt,n=e-1;n<e+st+1;n++){for(var i=ut[n].querySelectorAll(".tiny-lazy"),a=i.length;a--;t.unshift(i[a]));t.unshift()}for(var o=t.length;o--;){var d=t[o];d.classList.contains("loaded")||(d.src=r(d,"data-src"),d.classList.add("loaded"))}}}function O(){for(var t=oe(),e=[],n=vt;n--;)if(n>=t-1&&n<=t+st)for(var i=ut[n].querySelectorAll("img"),a=i.length;a--;)e.push(i[a]);0===e.length?L():w(e)}function I(t){if(!Kt){var e=jt+t*Ht,n=Math.abs(t*Ht);jt=Dt?e:Math.max(0,Math.min(e,ft-st)),A(n)}}function H(){I(-1)}function q(){I(kt&&jt===ft-st?(st-ft)/Ht:1)}function z(e){if(!Kt){for(var n,i=e.target||e.srcElement;gn.indexOf(it,i)===-1;)i=i.parentNode;Gt=n=Number(r(i,"data-slide"));var a,o;a=t.navContainer?n:n*st,a=Dt?a:Math.min(a,ft-st),o=Math.abs(a-jt),jt=a,A(o)}}function B(){Vt=setInterval(function(){I(St)},Pt),$t.setAttribute("data-action","stop"),$t.innerHTML="<span hidden>Stop Animation</span>"+Nt[1],Jt=!0}function G(){clearInterval(Vt),$t.setAttribute("data-action","start"),$t.innerHTML="<span hidden>Stop Animation</span>"+Nt[0],Jt=!1}function j(){Jt?G():B()}function R(){Jt&&G()}function F(t){t=t||window.event,t.keyCode===u.LEFT?I(-1):t.keyCode===u.RIGHT&&I(kt&&jt===ft-st?(st-ft)/Ht:1)}function U(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function X(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;switch(e){case u.LEFT:case u.UP:case u.HOME:case u.PAGEUP:n!==et&&et.disabled!==!0&&U(n,et);break;case u.RIGHT:case u.DOWN:case u.END:case u.PAGEDOWN:n!==nt&&nt.disabled!==!0&&U(n,nt);break;case u.ENTER:case u.SPACE:n===nt?q():H()}}function K(t){t=t||window.event;var e=t.keyCode,n=document.activeElement,i=r(n,"data-slide");switch(e){case u.LEFT:case u.PAGEUP:i>0&&U(n,n.previousElementSibling);break;case u.UP:case u.HOME:0!==i&&U(n,it[0]);break;case u.RIGHT:case u.PAGEDOWN:i<rt-1&&U(n,n.nextElementSibling);break;case u.DOWN:case u.END:i<rt-1&&U(n,it[rt-1]);break;case u.ENTER:case u.SPACE:z(t)}}function Y(){lt.style[l]="0s",lt.style.transform="translate3d(-"+-lt.scrollLeft()+"px,0,0)"}function V(t){var e=t.changedTouches[0];Qt=parseInt(e.clientX),Zt=parseInt(e.clientY)}function $(t){var e=t.changedTouches[0];te=parseInt(e.clientX)-Qt,ee=parseInt(e.clientY)-Zt;var a=n(Math.atan2(ee,te)),r=i(a,15);if("horizontal"===r&&Kt===!1&&(ne=!0),ne){l&&(lt.style[l]="0s");var o=Dt?-(ft+Bt-st)*tt:-(ft-st)*tt,d=Dt?Bt*tt:0;!Dt&&gt&&(o=-(ft*tt-ct.clientWidth)),_t=-jt*tt+te,_t=Math.max(o,Math.min(_t,d)),c?lt.style[c]="translate3d("+_t+"px, 0, 0)":lt.style.left=_t+"px",t.preventDefault()}}function J(t){var e=t.changedTouches[0];if(te=parseInt(e.clientX)-Qt,ne&&0!==te){t.preventDefault(),ne=!1,_t=-jt*tt+te;var n,i=Dt?-Bt:0,a=Dt?ft+Bt-st:ft-st;n=-(_t/tt),n=te<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,a)),jt=n,A(1)}}function Q(){clearTimeout(ot),ot=setTimeout(function(){C()},100)}function Z(){Yt||window.requestAnimationFrame(function(){qt&&W(),Yt=!1}),Yt=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var _,tt,et,nt,it,at,rt,ot,dt=t.transform,st=t.items,lt=t.container,ct=document.createElement("div"),ut=lt.children,ft=ut.length,vt=ut.length,ht=t.gutter,pt="right"===t.gutterPosition?"marginRight":"marginLeft",yt="marginLeft"===pt?ht:0,mt=t.edgePadding,bt=mt?1:0,gt=t.fixedWidth,Et=t.controls,xt=t.controlsText,wt=!!t.controlsContainer&&t.controlsContainer,Lt=t.nav,Mt=!!t.navContainer&&t.navContainer,Tt=t.arrowKeys,Ct=l?t.speed:0,At=t.autoplay,Pt=t.autoplayTimeout,St="forward"===t.autoplayDirection?1:-1,Nt=t.autoplayText,kt=t.rewind,Dt=!t.rewind&&t.loop,Wt=t.autoHeight,Ot=!gt&&t.responsive,It=t.slideByPage,Ht=It||"page"===t.slideBy?st:t.slideBy,qt=t.lazyload,zt=t.touch,Bt=Dt?ft:mt?1:0,Gt=-1,jt=0,Rt=!1,Ft=!1,Ut=!1,Xt=!1,Kt=!1,Yt=!1;if(At)var Vt,$t,Jt=!1;if(zt)var Qt=0,Zt=0,_t=0,te=0,ee=0,ne=!1;var ie=function(){return gt?function(){return Math.max(1,Math.min(ft,Math.floor(ct.clientWidth/gt)))}:function(){var e=t.items,n=document.documentElement.clientWidth,i="object"==typeof Ot&&Object.keys(Ot);if(i)for(var a=0;a<i.length;a++)n>=i[a]&&(e=Ot[i[a]]);return Math.max(1,Math.min(ft,e))}}(),ae=function(){return gt?function(){return gt+ht}:function(){return(ct.clientWidth+ht-2*mt)/st}}(),re=function(){return t.navContainer?function(){return ft}:function(){return Math.ceil(ft/st)}}(),oe=function(){return jt+Bt},de=function(){return l?function(t){lt.style[l]=Ct*t/1e3+"s"}:function(){}}(),se=function(){return c?function(){lt.style[c]="translate3d("+-tt*jt+"px, 0, 0)"}:function(){lt.style.left=-tt*jt+"px"}}();return{init:function(){f(),v(),h(),p(),C(),Tt&&document.addEventListener("keydown",F,!1),window.addEventListener("resize",Q,!1),window.addEventListener("scroll",Z,!1)},destory:function(){if(gn.unwrap(ct),ct=null,lt.classList.remove("tiny-content",dt),d(lt,["id","style"]),Dt)for(var e=Bt;e--;)ut[0].remove(),ut[ut.length-1].remove();d(ut,["id","style","aria-hidden"]),_=ft=null,Et&&(t.controlsContainer?(d(wt,["aria-label"]),d(wt.children,["aria-controls","tabindex"]),s(wt)):(wt.remove(),wt=et=nt=null)),Lt&&(t.navContainer?(d(Mt,["aria-label"]),d(it,["aria-selected","aria-controls","tabindex"]),s(Mt)):(Mt.remove(),Mt=null),it=at=null),At&&(t.navContainer||null===Mt?s($t):(Mt.remove(),Mt=null)),zt&&s(lt),Tt&&document.removeEventListener("keydown",Tt,!1),window.removeEventListener("resize",Q,!1),window.removeEventListener("scroll",Z,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function a(t,e){return t.hasAttribute(e)}function r(t,e){return t.getAttribute(e)}function o(t,e){if(t=gn.isNodeList(t)?t:[t],"[object Object]"===Object.prototype.toString.call(e))for(var n=t.length;n--;)for(var i in e)t[n].setAttribute(i,e[i])}function d(t,e){t=gn.isNodeList(t)?t:[t],e=e instanceof Array?e:[e];for(var n=e.length,i=t.length;i--;)for(var a=n;a--;)t[i].removeAttribute(e[a])}function s(t){var e=t.cloneNode(!0),n=t.parentNode;n.insertBefore(e,t),t.remove(),t=null}var l=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),c=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),u={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
