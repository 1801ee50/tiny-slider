var tinySlider=function(){"use strict";function t(t){function u(){at.className="tiny-slider",gn.wrap(it,at),it.classList.add("tiny-content",nt),navigator.msMaxTouchPoints&&(at.classList.add("ms-touch"),at.addEventListener("scroll",R,!1)),0===it.id.length?it.id=Y=e():Y=it.id;for(var n=0;n<ot;n++)rt[n].id=Y+"item"+n;if(St=Vt(),ot<=St&&(Lt=wt=bt=ft=Tt=!1),$=$t(),Lt||ut){for(var i=document.createDocumentFragment(),a=document.createDocumentFragment(),r=$;r--;){var o=rt[r].cloneNode(!0),s=rt[ot-1-r].cloneNode(!0);o.id="",s.id="",i.insertBefore(o,i.firstChild),a.appendChild(s)}it.appendChild(i),it.insertBefore(a,it.firstChild),st=it.children.length,rt=it.children}if(bt){if(!t.navContainer){for(var l="",d=0;d<ot;d++)l+='<button data-slide="'+d+'" tabindex="-1" aria-selected="false" aria-controls="'+Y+"item"+d+'" type="button"></button>';gt&&(l+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+xt[0]+"</button>"),l='<div class="tiny-nav" aria-label="Carousel Pagination">'+l+"</div>",gn.append(at,l),mt=at.querySelector(".tiny-nav")}if(Z=mt.querySelectorAll("[data-slide]"),_=Z.length,!mt.hasAttribute("aria-label")){mt.setAttribute("aria-label","Carousel Pagination");for(var u=0;u<_;u++){var c=Z[u];c.setAttribute("tabindex","-1"),c.setAttribute("aria-selected","false"),c.setAttribute("aria-controls",Y+"item"+u)}}}ft&&(t.controlsContainer||(gn.append(at,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+Y+'" type="button">'+vt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+Y+'" type="button">'+vt[1]+"</button></div>"),ht=at.querySelector(".tiny-controls")),J=ht.querySelector('[data-controls="prev"]'),Q=ht.querySelector('[data-controls="next"]'),ht.hasAttribute("tabindex")||(ht.setAttribute("aria-label","Carousel Navigation"),J.setAttribute("aria-controls",Y),Q.setAttribute("aria-controls",Y),J.setAttribute("tabindex","-1"),Q.setAttribute("tabindex","0"))),gt&&(mt||(gn.append(at,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+xt[0]+"</button></div>"),mt=at.querySelector(".tiny-nav")),qt=mt.querySelector("[data-action]")),Wt=!0}function c(){if(It&&!Xt||(it.style.width=V*st+"px"),ut){var t=ut;if(ct){var e=at.clientWidth;t=(e-V*Math.floor(e/V)+lt)/2}It&&!ct||(it.style.paddingLeft=t+"px")}var n=$*V,i="marginLeft"===dt?lt:0,a=n+i;0!==a&&(it.style.marginLeft=-a+"px");for(var r=st;r--;)It&&ct||(rt[r].style.width=V-lt+"px"),It||0===lt||(rt[r].style[dt]=lt+"px");It=!0}function f(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function v(t){for(var e=t.length;e--;)f(t[e])&&t.splice(e,1);0===t.length?h():setTimeout(function(){v(t)},16)}function h(){for(var t,e=Zt(),n=[],i=ut?1:0,a=st;a--;)a>=e-i&&a<e+St&&n.push(rt[a].offsetHeight);t=Math.max.apply(null,n),s&&(it.style[s]=yt/1e3+"s"),it.style.height=t+"px",Dt=!0,setTimeout(function(){s&&(it.style[s]="0s"),Dt=!1},yt)}function b(){navigator.msMaxTouchPoints&&(at.style.msScrollSnapPointsX="snapInterval(0%, "+V+")")}function m(){for(var t=_;t--;){var e=Z[t];t<tt?e.hasAttribute("hidden")&&e.removeAttribute("hidden"):e.hasAttribute("hidden")||e.setAttribute("hidden","")}}function p(){St=Vt(),ot<=St&&(Lt=wt=bt=ft=Tt=!1),V=Jt(),tt=Qt(),c(),b(),bt&&!t.navContainer&&m(),E(),g()}function y(t){it.setAttribute("aria-busy","true"),A(t),E(),setTimeout(function(){Lt&&x(),g(),Dt=!1,it.setAttribute("aria-busy","false")},yt*t)}function g(){w(),bt&&L(),ft&&!Lt&&M(),Ct&&T(),Mt&&C()}function A(t){s&&(it.style[s]=yt*t/1e3+"s",Dt=!0)}function E(){jt=-V*kt,l?it.style[l]="translate3d("+jt+"px, 0, 0)":it.style.left=jt+"px"}function x(){var t,e,n=ut?1:0;Tt?(t=St-$+1+n,e=ot+$-2*St-1):(t=-$+1+n,e=ot+$-St-2),(kt<t||kt>e)&&(kt-ot>=t&&kt-ot<=e?kt-=ot:kt+=ot,s&&(it.style[s]="0s"),E())}function w(){for(var t=st;t--;){var e=Zt(),n=rt[t];t>=e&&t<e+St?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function L(){var e;if(Nt===-1){var n=kt<0?kt+ot:kt>=ot?kt-ot:kt;if(e=t.navContainer?n:Math.floor(n/St),!Lt&&!t.navContainer){var i=/^-?[0-9]+$/,a=i.test(ot/St);a||kt!==ot-St||(e+=1)}}else e=Nt,Nt=-1;for(var r=tt;r--;){var o=Z[r];r===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}function M(){var t=ut?ot+1:ot;t>St?(0===kt?(J.disabled=!0,q(J,Q)):J.disabled=!1,wt||kt!==t-St?Q.disabled=!1:(Q.disabled=!0,q(Q,J))):(0!==kt&&(kt=0,E()),J.disabled=!0,Q.disabled=!0,J.setAttribute("tabindex","-1"),Q.setAttribute("tabindex","-1"),J===document.activeElement&&J.blur(),Q===document.activeElement&&Q.blur())}function T(){if(gn.isInViewport(it)){for(var t=[],e=st;e--;){var n=kt+$-1;if(e>=n&&e<=n+St+1){for(var i=rt[e].querySelectorAll(".tiny-lazy"),a=i.length;a--;t.unshift(i[a]));t.unshift()}}for(var r=t.length;r--;){var o=t[r];o.classList.contains("loaded")||(o.src=o.getAttribute("data-src"),o.classList.add("loaded"))}}}function C(){for(var t=Zt(),e=[],n=st;n--;)if(n>=t-1&&n<=t+St)for(var i=rt[n].querySelectorAll("img"),a=i.length;a--;)e.push(i[a]);0===e.length?h():v(e)}function P(t){if(!Dt){t=Tt?t*St:t;var e=Math.abs(t),n=ut?ot+1:ot;kt=Lt?kt+t:Math.max(0,Math.min(kt+t,n-St)),y(e)}}function S(){P(-1)}function N(){var t=ut?ot+1:ot;P(wt&&kt===t-St?-t+St:1)}function k(e){if(!Dt){for(var n,i=e.target||e.srcElement;gn.indexOf(Z,i)===-1;)i=i.parentNode;Nt=n=Number(i.getAttribute("data-slide"));var a,r;a=t.navContainer?n:n*St,a=Lt?a:Math.min(a,ot-St),r=Math.abs(a-kt),kt=a,y(r)}}function D(){Ht=setInterval(function(){P(Et)},At),qt.setAttribute("data-action","stop"),qt.innerHTML="<span hidden>Stop Animation</span>"+xt[1],zt=!0}function W(){clearInterval(Ht),qt.setAttribute("data-action","start"),qt.innerHTML="<span hidden>Stop Animation</span>"+xt[0],zt=!1}function I(){zt?W():D()}function O(){zt&&W()}function H(t){t=t||window.event,t.keyCode===d.LEFT?P(-1):t.keyCode===d.RIGHT&&P(1)}function q(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function z(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==d.LEFT&&e!==d.UP&&e!==d.HOME&&e!==d.PAGEUP||n!==J&&J.disabled!==!0&&q(n,J),e!==d.RIGHT&&e!==d.DOWN&&e!==d.END&&e!==d.PAGEDOWN||n!==Q&&Q.disabled!==!0&&q(n,Q),e!==d.ENTER&&e!==d.SPACE||(n===Q?N():S())}function G(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==d.LEFT&&e!==d.PAGEUP||n.getAttribute("data-slide")>0&&q(n,n.previousElementSibling),e!==d.UP&&e!==d.HOME||0!==n.getAttribute("data-slide")&&q(n,Z[0]),e!==d.RIGHT&&e!==d.PAGEDOWN||n.getAttribute("data-slide")<tt-1&&q(n,n.nextElementSibling),e!==d.DOWN&&e!==d.END||n.getAttribute("data-slide")<tt-1&&q(n,Z[tt-1]),e!==d.ENTER&&e!==d.SPACE||k(t)}function R(){it.style[s]="0s",it.style.transform="translate3d(-"+-it.scrollLeft()+"px,0,0)"}function j(t){var e=t.changedTouches[0];Gt=parseInt(e.clientX),Rt=parseInt(e.clientY)}function F(t){var e=t.changedTouches[0];Ft=parseInt(e.clientX)-Gt,Ut=parseInt(e.clientY)-Rt;var a=n(Math.atan2(Ut,Ft)),r=i(a,15);if("horizontal"===r&&Dt===!1&&(Bt=!0),Bt){s&&(it.style[s]="0s");var o=Lt?-(ot+$-St)*V:-(ot-St)*V,d=Lt?$*V:0;!Lt&&ct&&(o=-(ot*V-at.clientWidth)),jt=-kt*V+Ft,jt=Math.max(o,Math.min(jt,d)),l?it.style[l]="translate3d("+jt+"px, 0, 0)":it.style.left=jt+"px",t.preventDefault()}}function U(t){var e=t.changedTouches[0];if(Ft=parseInt(e.clientX)-Gt,Bt&&0!==Ft){t.preventDefault(),Bt=!1,jt=-kt*V+Ft;var n,i=Lt?-$:0,a=Lt?ot+$-St:ot-St;n=-(jt/V),n=Ft<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,a)),kt=n,y(1)}}function B(){clearTimeout(et),et=setTimeout(function(){p()},100)}function X(){Ot||window.requestAnimationFrame(function(){Ct&&T(),Ot=!1}),Ot=!0}function K(){if(Pt&&(it.addEventListener("touchstart",j,!1),it.addEventListener("touchmove",F,!1),it.addEventListener("touchend",U,!1),it.addEventListener("touchcancel",U,!1)),ft&&(Lt||M(),J.addEventListener("click",S,!1),Q.addEventListener("click",N,!1),J.addEventListener("keydown",z,!1),Q.addEventListener("keydown",z,!1)),bt)for(var t=Z.length;t--;)Z[t].addEventListener("click",k,!1),Z[t].addEventListener("keydown",G,!1);if(gt&&(D(),qt.addEventListener("click",I,!1),ft&&(J.addEventListener("click",O,!1),Q.addEventListener("click",O,!1)),bt))for(var e=0;e<_;e++)Z[e].addEventListener("click",O,!1);pt&&document.addEventListener("keydown",H,!1),window.addEventListener("resize",B,!1),window.addEventListener("scroll",X,!1)}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var Y,V,$,J,Q,Z,_,tt,et,nt=t.transform,it=t.container,at=document.createElement("div"),rt=it.children,ot=rt.length,st=rt.length,lt=t.gutter,dt="right"===t.gutterPosition?"marginRight":"marginLeft",ut=t.rewind?0:t.edgePadding,ct=t.fixedWidth,ft=(t.maxContainerWidth,t.controls),vt=t.controlsText,ht=!!t.controlsContainer&&t.controlsContainer,bt=t.nav,mt=!!t.navContainer&&t.navContainer,pt=t.arrowKeys,yt=s?t.speed:0,gt=t.autoplay,At=t.autoplayTimeout,Et="forward"===t.autoplayDirection?1:-1,xt=t.autoplayText,wt=t.rewind,Lt=!wt&&t.loop,Mt=t.autoHeight,Tt=t.slideByPage,Ct=t.lazyload,Pt=t.touch,St=t.items,Nt=-1,kt=0,Dt=!1,Wt=!1,It=!1,Ot=!1;if(gt)var Ht,qt,zt=!1;if(Pt)var Gt=0,Rt=0,jt=0,Ft=0,Ut=0,Bt=!1;var Xt=!ct&&t.responsive,Kt="object"==typeof Xt&&Object.keys(Xt),Yt=a(Xt),Vt=function(){return ct?function(){return Math.max(1,Math.min(ot,Math.floor(at.clientWidth/ct)))}:function(){var e=t.items,n=document.documentElement.clientWidth;if(Yt)for(var i=0;i<Kt.length;i++)n>=Kt[i]&&(e=Yt[i]);return Math.max(1,Math.min(ot,e))}}(),$t=function(){return Lt?ot:ut?1:0},Jt=function(){return function(){return ct?ct+lt:(at.clientWidth+lt-2*ut)/St}}(),Qt=function(){return function(){return t.navContainer?ot:Math.ceil(ot/St)}}(),Zt=function(){return function(){return kt+$}}();return{init:function(){u(),p(),K()},destory:function(){if(gn.unwrap(at),at=null,it.classList.remove("tiny-content",nt),r(it,["id","style"]),Lt)for(var e=$;e--;)rt[0].remove(),rt[rt.length-1].remove();r(rt,["id","style","aria-hidden"]),Y=ot=null,ft&&(t.controlsContainer?(r(ht,["aria-label"]),r(ht.children,["aria-controls","tabindex"]),o(ht)):(ht.remove(),ht=J=Q=null)),bt&&(t.navContainer?(r(mt,["aria-label"]),r(Z,["aria-selected","aria-controls","tabindex"]),o(mt)):(mt.remove(),mt=null),Z=_=null),gt&&(t.navContainer||null===mt?o(qt):(mt.remove(),mt=null)),Pt&&o(it),pt&&document.removeEventListener("keydown",pt,!1),window.removeEventListener("resize",B,!1),window.removeEventListener("scroll",X,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function a(t){if("object"==typeof t){for(var e=[],n=Object.keys(t),i=0,a=n.length;i<a;i++){var r=n[i];e.push(t[r])}return e}return!1}function r(t,e){for(var t=gn.isNodeList(t)?t:[t],e=e instanceof Array?e:[e],n=e.length,i=t.length;i--;)for(var a=n;a--;)t[i].removeAttribute(e[a])}function o(t){var e=t.cloneNode(!0),n=t.parentNode;n.insertBefore(e,t),t.remove(),t=null}var s=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),l=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),d={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
