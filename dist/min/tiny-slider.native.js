var tinySlider=function(){"use strict";function t(t){function p(){bt.className="tiny-slider",gn.wrap(yt,bt)}function m(){mt=un(),dt=fn(),ft=vn(),Rt=Ft||"page"===t.slideBy?mt:t.slideBy}function y(){yt.classList.add("tiny-content",pt),yt.style.cssText="width: "+(dt+1)*Yt+"px; margin-left: "+-(Kt*dt+Mt)+"px; padding-left: "+Lt+"px"}function b(){navigator.msMaxTouchPoints&&(bt.classList.add("ms-touch"),bt.addEventListener("scroll",nt,!1))}function g(){""===yt.id?yt.id=ct=n():ct=yt.id;for(var t=0;t<Et;t++)gt[t].id=ct+"item"+t}function E(){if(Bt||Lt){for(var t=document.createDocumentFragment(),n=document.createDocumentFragment(),e=Kt;e--;){var a=gt[e].cloneNode(!0),i=gt[Et-1-e].cloneNode(!0);c(a,"id"),c(i,"id"),t.insertBefore(a,t.firstChild),n.appendChild(i)}yt.appendChild(t),yt.insertBefore(n,yt.firstChild),gt=yt.children}o(gt,{style:"width: "+(dt-xt)+"px; "+wt+": "+xt+"px","aria-hidden":"true"})}function x(){Ct&&(t.controlsContainer||(gn.append(bt,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+ct+'" type="button">'+St[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+ct+'" type="button">'+St[1]+"</button></div>"),At=bt.querySelector(".tiny-controls")),st=At.querySelector('[data-controls="prev"]'),lt=At.querySelector('[data-controls="next"]'),i(At,"tabindex")||(o(At,{"aria-label":"Carousel Navigation"}),o(At.children,{"aria-controls":ct,tabindex:"-1"})))}function w(){if(Nt){if(!t.navContainer){for(var n="",e=0;e<Et;e++)n+='<button data-slide="'+e+'" tabindex="-1" aria-selected="false" aria-controls="'+ct+"item"+e+'" type="button"></button>';Ot&&(n+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+qt[0]+"</button>"),n='<div class="tiny-nav" aria-label="Carousel Pagination">'+n+"</div>",gn.append(bt,n),kt=bt.querySelector(".tiny-nav")}if(ut=kt.querySelectorAll("[data-slide]"),!i(kt,"aria-label")){o(kt,{"aria-label":"Carousel Pagination"});for(var a=0;a<Et;a++)o(ut[a],{tabindex:"-1","aria-selected":"false","aria-controls":ct+"item"+a})}for(var r=ft;r<Et;r++)o(ut[r],{hidden:""});Vt=ft}}function M(){Ot&&(kt||(gn.append(bt,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+qt[0]+"</button></div>"),kt=bt.querySelector(".tiny-nav")),en=kt.querySelector("[data-action]"),Y())}function L(){vt=hn();for(var t=vt;t<vt+mt;t++)o(gt[t],{"aria-hidden":"false"});Ct&&(o(lt,{tabindex:"0"}),(0===$t&&!Bt||zt)&&(st.disabled=!0)),Nt&&o(ut[0],{tabindex:"0","aria-selected":"true"})}function T(){if(Xt&&(yt.addEventListener("touchstart",et,!1),yt.addEventListener("touchmove",at,!1),yt.addEventListener("touchend",it,!1),yt.addEventListener("touchcancel",it,!1)),Nt)for(var t=0;t<Et;t++)ut[t].addEventListener("click",K,!1),ut[t].addEventListener("keydown",tt,!1);if(Ct&&(st.addEventListener("click",U,!1),lt.addEventListener("click",X,!1),st.addEventListener("keydown",_,!1),lt.addEventListener("keydown",_,!1)),Ot&&(en.addEventListener("click",J,!1),Ct&&(st.addEventListener("click",Q,!1),lt.addEventListener("click",Q,!1)),Nt))for(var n=0;n<Et;n++)ut[n].addEventListener("click",Q,!1);Dt&&document.addEventListener("keydown",Z,!1),window.addEventListener("resize",rt,!1),window.addEventListener("scroll",ot,!1)}function P(){if(Ut&&gn.isInViewport(yt)){for(var t=[],n=$t+Kt,e=n-1;e<n+mt+1;e++){for(var a=gt[e].querySelectorAll(".tiny-lazy"),i=a.length;i--;t.unshift(a[i]));t.unshift()}for(var o=t.length;o--;){var c=t[o];c.classList.contains("loaded")||(c.src=r(c,"data-src"),c.classList.add("loaded"))}}}function C(){if(Gt){var t=[];vt=hn();for(var n=vt-1;n<vt+mt;n++)for(var e=gt[n].querySelectorAll("img"),a=e.length;a--;)t.push(e[a]);0===t.length?D():S(t)}}function S(t){for(var n=t.length;n--;)u(t[n])&&t.splice(n,1);0===t.length?D():setTimeout(function(){S(t)},16)}function A(){p(),m(),y(),b(),g(),E(),x(),w(),M(),L(),T(),N(),P(),C()}function N(){Et<=mt?(Nt=Ct=Ot=Bt=zt=!1,$t=0,kt&&s(kt),At&&s(At),en&&s(en)):(Nt=t.nav,Ct=t.controls,Ot=t.autoplay,Bt=!t.rewind&&t.loop,zt=t.rewind,Nt&&l(kt),Ct&&l(At),Ot&&l(en))}function k(){if(!Pt){yt.style.width=(dt+1)*Yt+"px",yt.style.marginLeft=-(Kt*dt+Mt)+"px";for(var t=Yt;t--;)gt[t].style.width=dt-xt+"px"}if(Pt){var n=bt.clientWidth;yt.style.paddingLeft=(n-dt*Math.floor(n/dt)+xt)/2+"px"}}function D(){var t,n=[];vt=hn();for(var e=vt-Tt;e<vt+mt;e++)n.push(gt[e].offsetHeight);t=Math.max.apply(null,n),pn(1),yt.style.height=t+"px",_t=!0,setTimeout(function(){_t=!1},Wt)}function W(){bt.style.msScrollSnapPointsX="snapInterval(0%, "+dt+")"}function O(){var t,n,e,a,i=vt;vt=hn(),vt!==i&&(vt>i?(t=i,n=Math.min(i+mt,vt),e=Math.max(i+mt,vt),a=vt+mt):(t=Math.max(vt+mt,i),n=i+mt,e=vt,a=Math.min(vt+mt,i))),Rt%1!==0&&(t=Math.round(t),n=Math.round(n),e=Math.round(e),a=Math.round(a));for(var r=t;r<n;r++)o(gt[r],{"aria-hidden":"true"});for(var c=e;c<a;c++)o(gt[c],{"aria-hidden":"false"})}function I(){if(ft!==Vt)if(ft>Vt)for(var t=Vt;t<ft;t++)c(ut[t],"hidden");else for(var n=ft;n<Vt;n++)o(ut[n],{hidden:""});Vt=ft}function H(){var n;if(Jt===-1){var e=$t<0?$t+Et:$t%Et;if(t.navContainer)return e;var n=Math.floor(e/mt);return Bt||Et%mt===0||$t!==Et-mt||(n+=1),n}return n=Jt,Jt=-1,n}function q(){Nt&&(Qt=H(),Qt!==Zt&&(o(ut[Zt],{tabindex:"-1","aria-selected":"false"}),o(ut[Qt],{tabindex:"0","aria-selected":"true"}),Zt=Qt))}function z(){if(Ct&&!Bt)if(0===$t||!zt&&$t===Et-mt){var t=0===$t?st:lt,n=0===$t?lt:st;$(t,n),t.disabled=!0,o(t,{tabindex:"-1"}),n.disabled=!1,o(n,{tabindex:"0"})}else st.disabled=!1,lt.disabled=!1}function B(){m(),N(),k(),I(),navigator.msMaxTouchPoints&&W(),pn(0),mn(),F()}function G(){var t=Rt-Kt+Tt,n=Et+Kt-mt-Rt-1;($t<t||$t>n)&&($t-Et>=t&&$t-Et<=n?$t-=Et:$t+=Et,_t=!0,pn(0),mn(),_t=!1)}function j(t){yt.setAttribute("aria-busy","true"),_t=!0,pn(t),mn(),setTimeout(function(){Bt&&G(),F(),_t=!1,yt.setAttribute("aria-busy","false")},Wt*t)}function F(){O(),q(),z(),P(),C()}function R(t){if(!_t){var n=$t+t*Rt,e=Math.abs(t*Rt);$t=Bt?n:Math.max(0,Math.min(n,Et-mt)),j(e)}}function U(){R(-1)}function X(){R(zt&&$t===Et-mt?(mt-Et)/Rt:1)}function K(n){if(!_t){for(var e,a=n.target||n.srcElement;gn.indexOf(ut,a)===-1;)a=a.parentNode;Jt=e=Number(r(a,"data-slide"));var i,o;i=t.navContainer?e:e*mt,i=Bt?i:Math.min(i,Et-mt),o=Math.abs(i-$t),$t=i,j(o)}}function Y(){nn=setInterval(function(){R(Ht)},It),en.setAttribute("data-action","stop"),en.innerHTML="<span hidden>Stop Animation</span>"+qt[1],an=!0}function V(){clearInterval(nn),en.setAttribute("data-action","start"),en.innerHTML="<span hidden>Stop Animation</span>"+qt[0],an=!1}function J(){an?V():Y()}function Q(){an&&V()}function Z(t){t=t||window.event,t.keyCode===h.LEFT?R(-1):t.keyCode===h.RIGHT&&R(zt&&$t===Et-mt?(mt-Et)/Rt:1)}function $(t,n){"object"==typeof t&&"object"==typeof n&&t===document.activeElement&&(t.blur(),n.focus())}function _(t){t=t||window.event;var n=t.keyCode,e=document.activeElement;switch(n){case h.LEFT:case h.UP:case h.HOME:case h.PAGEUP:e!==st&&st.disabled!==!0&&$(e,st);break;case h.RIGHT:case h.DOWN:case h.END:case h.PAGEDOWN:e!==lt&&lt.disabled!==!0&&$(e,lt);break;case h.ENTER:case h.SPACE:e===lt?X():U()}}function tt(t){t=t||window.event;var n=t.keyCode,e=document.activeElement,a=r(e,"data-slide");switch(n){case h.LEFT:case h.PAGEUP:a>0&&$(e,e.previousElementSibling);break;case h.UP:case h.HOME:0!==a&&$(e,ut[0]);break;case h.RIGHT:case h.PAGEDOWN:a<ft-1&&$(e,e.nextElementSibling);break;case h.DOWN:case h.END:a<ft-1&&$(e,ut[ft-1]);break;case h.ENTER:case h.SPACE:K(t)}}function nt(){pn(0),mn(yt.scrollLeft())}function et(t){var n=t.changedTouches[0];rn=parseInt(n.clientX),on=parseInt(n.clientY)}function at(t){var n=t.changedTouches[0];dn=parseInt(n.clientX)-rn,sn=parseInt(n.clientY)-on;var i=a(e(sn,dn),15);if("horizontal"===i&&_t===!1&&(ln=!0),ln){var r=Bt?-(Et+Kt-mt)*dt:-(Et-mt)*dt,o=Bt?Kt*dt:0;!Bt&&Pt&&(r=-(Et*dt-bt.clientWidth)),cn=-$t*dt+dn,cn=Math.max(r,Math.min(cn,o)),pn(0),mn(cn),t.preventDefault()}}function it(t){var n=t.changedTouches[0];if(dn=parseInt(n.clientX)-rn,ln&&0!==dn){t.preventDefault(),ln=!1,cn=-$t*dt+dn;var e,a=Bt?-Kt:0,i=Bt?Et+Kt-mt:Et-mt;e=-(cn/dt),e=dn<0?Math.ceil(e):Math.floor(e),e=Math.max(a,Math.min(e,i)),$t=e,j(1)}}function rt(){clearTimeout(ht),ht=setTimeout(function(){B()},100)}function ot(){tn||window.requestAnimationFrame(function(){P(),tn=!1}),tn=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var ct,dt,st,lt,ut,ft,vt,ht,pt=t.transform,mt=t.items,yt=t.container,bt=document.createElement("div"),gt=yt.children,Et=gt.length,xt=t.gutter,wt="right"===t.gutterPosition?"margin-right":"margin-left",Mt="left"===t.gutterPosition?xt:0,Lt=t.edgePadding,Tt=Lt?1:0,Pt=t.fixedWidth,Ct=t.controls,St=t.controlsText,At=!!t.controlsContainer&&t.controlsContainer,Nt=t.nav,kt=!!t.navContainer&&t.navContainer,Dt=t.arrowKeys,Wt=f?t.speed:0,Ot=t.autoplay,It=t.autoplayTimeout,Ht="forward"===t.autoplayDirection?1:-1,qt=t.autoplayText,zt=t.rewind,Bt=!t.rewind&&t.loop,Gt=t.autoHeight,jt=!Pt&&t.responsive,Ft=t.slideByPage,Rt=Ft||"page"===t.slideBy?mt:t.slideBy,Ut=t.lazyload,Xt=t.touch,Kt=Bt?Et:Lt?1:0,Yt=Et+2*Kt,Vt=Et,Jt=-1,Qt=0,Zt=0,$t=0,_t=!1,tn=!1;if(Ot)var nn,en,an=!1;if(Xt)var rn=0,on=0,cn=0,dn=0,sn=0,ln=!1;var un=function(){return Pt?function(){return Math.max(1,Math.min(Et,Math.floor(bt.clientWidth/Pt)))}:function(){var n=t.items,e=document.documentElement.clientWidth,a="object"==typeof jt&&Object.keys(jt);if(a)for(var i=0;i<a.length;i++)e>=a[i]&&(n=jt[a[i]]);return Math.max(1,Math.min(Et,n))}}(),fn=function(){return Pt?function(){return Pt+xt}:function(){return(bt.clientWidth+xt-2*Lt)/mt}}(),vn=function(){return t.navContainer?function(){return Et}:function(){return Math.ceil(Et/mt)}}(),hn=function(){return Kt+$t},pn=function(){return f?function(t){yt.style[f]=Wt*t/1e3+"s"}:function(){}}(),mn=function(){return v?function(t){var n=t||-dt*$t;yt.style[v]="translate3d("+n+"px, 0, 0)"}:function(t){var n=t||-dt*$t;yt.style.left=n+"px"}}();return{init:A,destory:function(){if(gn.unwrap(bt),bt=null,yt.classList.remove("tiny-content",pt),c(yt,["id","style"]),Bt)for(var n=Kt;n--;)gt[0].remove(),gt[gt.length-1].remove();c(gt,["id","style","aria-hidden"]),ct=Et=null,Ct&&(t.controlsContainer?(c(At,["aria-label"]),c(At.children,["aria-controls","tabindex"]),d(At)):(At.remove(),At=st=lt=null)),Nt&&(t.navContainer?(c(kt,["aria-label"]),c(ut,["aria-selected","aria-controls","tabindex"]),d(kt)):(kt.remove(),kt=null),ut=null),Ot&&(t.navContainer||null===kt?d(en):(kt.remove(),kt=null)),Xt&&d(yt),Dt&&document.removeEventListener("keydown",Dt,!1),window.removeEventListener("resize",rt,!1),window.removeEventListener("scroll",ot,!1)}}}function n(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function e(t,n){return Math.atan2(t,n)*(180/Math.PI)}function a(t,n){return Math.abs(90-Math.abs(t))>=90-n?"horizontal":Math.abs(90-Math.abs(t))<=n&&"vertical"}function i(t,n){return t.hasAttribute(n)}function r(t,n){return t.getAttribute(n)}function o(t,n){if(t=gn.isNodeList(t)||t instanceof Array?t:[t],"[object Object]"===Object.prototype.toString.call(n))for(var e=t.length;e--;)for(var a in n)t[e].setAttribute(a,n[a])}function c(t,n){t=gn.isNodeList(t)||t instanceof Array?t:[t],n=n instanceof Array?n:[n];for(var e=n.length,a=t.length;a--;)for(var i=e;i--;)t[a].removeAttribute(n[i])}function d(t){var n=t.cloneNode(!0),e=t.parentNode;e.insertBefore(n,t),t.remove(),t=null}function s(t){i(t,"hidden")||o(t,{hidden:""})}function l(t){i(t,"hidden")&&c(t,"hidden")}function u(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}var f=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),v=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),h={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
