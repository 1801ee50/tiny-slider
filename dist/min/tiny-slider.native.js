var tinySlider=function(){"use strict";function t(t){function p(){bt.className="tiny-slider",gn.wrap(yt,bt)}function m(){mt=ln(),ct=fn(),ft=vn(),Rt=Ft||"page"===t.slideBy?mt:t.slideBy}function y(){var t=Tt?k():Lt+xt;yt.classList.add("tiny-content",pt),yt.style.cssText+="width: "+(ct+1)*Kt+"px; margin-left: "+-(Vt*ct+Mt)+"px; padding-left: "+t+"px"}function b(){navigator.msMaxTouchPoints&&(bt.classList.add("ms-touch"),bt.addEventListener("scroll",nt,!1))}function g(){""===yt.id?yt.id=dt=n():dt=yt.id;for(var t=0;t<Et;t++)gt[t].id=dt+"item"+t}function E(){if(zt||Lt){for(var t=document.createDocumentFragment(),n=document.createDocumentFragment(),e=Vt;e--;){var i=gt[e].cloneNode(!0),a=gt[Et-1-e].cloneNode(!0);d(i,"id"),d(a,"id"),t.insertBefore(i,t.firstChild),n.appendChild(a)}yt.appendChild(t),yt.insertBefore(n,yt.firstChild),gt=yt.children}o(gt,{style:"width: "+(ct-xt)+"px; "+wt+": "+xt+"px","aria-hidden":"true"})}function x(){Pt&&(t.controlsContainer||(gn.append(bt,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+dt+'" type="button">'+At[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+dt+'" type="button">'+At[1]+"</button></div>"),St=bt.querySelector(".tiny-controls")),st=St.querySelector('[data-controls="prev"]'),ut=St.querySelector('[data-controls="next"]'),a(St,"tabindex")||(o(St,{"aria-label":"Carousel Navigation"}),o(St.children,{"aria-controls":dt,tabindex:"-1"})))}function w(){if(Nt){if(!t.navContainer){for(var n="",e=0;e<Et;e++)n+='<button data-slide="'+e+'" tabindex="-1" aria-selected="false" aria-controls="'+dt+"item"+e+'" type="button"></button>';It&&(n+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Ht[0]+"</button>"),n='<div class="tiny-nav" aria-label="Carousel Pagination">'+n+"</div>",gn.append(bt,n),kt=bt.querySelector(".tiny-nav")}if(lt=kt.querySelectorAll("[data-slide]"),!a(kt,"aria-label")){o(kt,{"aria-label":"Carousel Pagination"});for(var i=0;i<Et;i++)o(lt[i],{tabindex:"-1","aria-selected":"false","aria-controls":dt+"item"+i})}for(var r=ft;r<Et;r++)o(lt[r],{hidden:""});Yt=ft}}function M(){It&&(kt||(gn.append(bt,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Ht[0]+"</button></div>"),kt=bt.querySelector(".tiny-nav")),en=kt.querySelector("[data-action]"),K())}function L(){vt=hn();for(var t=vt;t<vt+mt;t++)o(gt[t],{"aria-hidden":"false"});Pt&&(o(ut,{tabindex:"0"}),(0===$t&&!zt||qt)&&(st.disabled=!0)),Nt&&o(lt[0],{tabindex:"0","aria-selected":"true"})}function C(){if(Xt&&(yt.addEventListener("touchstart",et,!1),yt.addEventListener("touchmove",it,!1),yt.addEventListener("touchend",at,!1),yt.addEventListener("touchcancel",at,!1)),Nt)for(var t=0;t<Et;t++)lt[t].addEventListener("click",V,!1),lt[t].addEventListener("keydown",tt,!1);if(Pt&&(st.addEventListener("click",U,!1),ut.addEventListener("click",X,!1),st.addEventListener("keydown",_,!1),ut.addEventListener("keydown",_,!1)),It&&(en.addEventListener("click",J,!1),Pt&&(st.addEventListener("click",Q,!1),ut.addEventListener("click",Q,!1)),Nt))for(var n=0;n<Et;n++)lt[n].addEventListener("click",Q,!1);Dt&&document.addEventListener("keydown",Z,!1),window.addEventListener("resize",rt,!1),window.addEventListener("scroll",ot,!1)}function T(){if(Ut&&gn.isInViewport(yt)){for(var t=[],n=$t+Vt,e=n-1;e<n+mt+1;e++){for(var i=gt[e].querySelectorAll(".tiny-lazy"),a=i.length;a--;t.unshift(i[a]));t.unshift()}for(var o=t.length;o--;){var d=t[o];d.classList.contains("loaded")||(d.src=r(d,"data-src"),d.classList.add("loaded"))}}}function P(){if(Gt){var t=[];vt=hn();for(var n=vt-1;n<vt+mt;n++)for(var e=gt[n].querySelectorAll("img"),i=e.length;i--;)t.push(e[i]);0===t.length?D():A(t)}}function A(t){for(var n=t.length;n--;)l(t[n])&&t.splice(n,1);0===t.length?D():setTimeout(function(){A(t)},16)}function S(){p(),m(),y(),b(),g(),E(),x(),w(),M(),L(),C(),N(),T(),P()}function N(){Et<=mt?(Nt=Pt=It=zt=qt=!1,$t=0,kt&&s(kt),St&&s(St),en&&s(en)):(Nt=t.nav,Pt=t.controls,It=t.autoplay,zt=!t.rewind&&t.loop,qt=t.rewind,Nt&&u(kt),Pt&&u(St),It&&u(en))}function k(){var t=bt.clientWidth;return(t-ct*Math.floor(t/ct)+xt)/2}function D(){var t,n=[];vt=hn();for(var e=vt-Ct;e<vt+mt;e++)n.push(gt[e].offsetHeight);t=Math.max.apply(null,n),mn(1),yt.style.height=t+"px",_t=!0,setTimeout(function(){_t=!1},Wt)}function W(){bt.style.msScrollSnapPointsX="snapInterval(0%, "+ct+")"}function I(){var t,n,e,i,a=vt;vt=hn(),vt!==a&&(vt>a?(t=a,n=Math.min(a+mt,vt),e=Math.max(a+mt,vt),i=vt+mt):(t=Math.max(vt+mt,a),n=a+mt,e=vt,i=Math.min(vt+mt,a))),Rt%1!==0&&(t=Math.round(t),n=Math.round(n),e=Math.round(e),i=Math.round(i));for(var r=t;r<n;r++)o(gt[r],{"aria-hidden":"true"});for(var d=e;d<i;d++)o(gt[d],{"aria-hidden":"false"})}function O(){if(ft!==Yt)if(ft>Yt)for(var t=Yt;t<ft;t++)d(lt[t],"hidden");else for(var n=ft;n<Yt;n++)o(lt[n],{hidden:""});Yt=ft}function B(){var n;if(Jt===-1){var e=$t<0?$t+Et:$t%Et;if(t.navContainer)return e;var n=Math.floor(e/mt);return zt||Et%mt===0||$t!==Et-mt||(n+=1),n}return n=Jt,Jt=-1,n}function H(){Nt&&(Qt=B(),Qt!==Zt&&(o(lt[Zt],{tabindex:"-1","aria-selected":"false"}),o(lt[Qt],{tabindex:"0","aria-selected":"true"}),Zt=Qt))}function q(){if(Pt&&!zt)if(0===$t||!qt&&$t===Et-mt){var t=0===$t?st:ut,n=0===$t?ut:st;$(t,n),t.disabled=!0,o(t,{tabindex:"-1"}),n.disabled=!1,o(n,{tabindex:"0"})}else st.disabled=!1,ut.disabled=!1}function z(){m(),N(),pn(),O(),navigator.msMaxTouchPoints&&W(),mn(0),yn(),F()}function G(){var t=Rt-Vt+Ct,n=Et+Vt-mt-Rt-1;($t<t||$t>n)&&($t-Et>=t&&$t-Et<=n?$t-=Et:$t+=Et,_t=!0,mn(0),yn(),_t=!1)}function j(t){yt.setAttribute("aria-busy","true"),_t=!0,mn(t),yn(),setTimeout(function(){zt&&G(),F(),_t=!1,yt.setAttribute("aria-busy","false")},Wt*t)}function F(){I(),H(),q(),T(),P()}function R(t){if(!_t){var n=$t+t*Rt,e=Math.abs(t*Rt);$t=zt?n:Math.max(0,Math.min(n,Et-mt)),j(e)}}function U(){R(-1)}function X(){R(qt&&$t===Et-mt?(mt-Et)/Rt:1)}function V(n){if(!_t){for(var e,i=n.target||n.srcElement;gn.indexOf(lt,i)===-1;)i=i.parentNode;Jt=e=Number(r(i,"data-slide"));var a,o;a=t.navContainer?e:e*mt,a=zt?a:Math.min(a,Et-mt),o=Math.abs(a-$t),$t=a,j(o)}}function K(){nn=setInterval(function(){R(Bt)},Ot),en.setAttribute("data-action","stop"),en.innerHTML="<span hidden>Stop Animation</span>"+Ht[1],an=!0}function Y(){clearInterval(nn),en.setAttribute("data-action","start"),en.innerHTML="<span hidden>Stop Animation</span>"+Ht[0],an=!1}function J(){an?Y():K()}function Q(){an&&Y()}function Z(t){t=t||window.event,t.keyCode===h.LEFT?R(-1):t.keyCode===h.RIGHT&&R(qt&&$t===Et-mt?(mt-Et)/Rt:1)}function $(t,n){"object"==typeof t&&"object"==typeof n&&t===document.activeElement&&(t.blur(),n.focus())}function _(t){t=t||window.event;var n=t.keyCode,e=document.activeElement;switch(n){case h.LEFT:case h.UP:case h.HOME:case h.PAGEUP:e!==st&&st.disabled!==!0&&$(e,st);break;case h.RIGHT:case h.DOWN:case h.END:case h.PAGEDOWN:e!==ut&&ut.disabled!==!0&&$(e,ut);break;case h.ENTER:case h.SPACE:e===ut?X():U()}}function tt(t){t=t||window.event;var n=t.keyCode,e=document.activeElement,i=r(e,"data-slide");switch(n){case h.LEFT:case h.PAGEUP:i>0&&$(e,e.previousElementSibling);break;case h.UP:case h.HOME:0!==i&&$(e,lt[0]);break;case h.RIGHT:case h.PAGEDOWN:i<ft-1&&$(e,e.nextElementSibling);break;case h.DOWN:case h.END:i<ft-1&&$(e,lt[ft-1]);break;case h.ENTER:case h.SPACE:V(t)}}function nt(){mn(0),yn(yt.scrollLeft())}function et(t){var n=t.changedTouches[0];rn=parseInt(n.clientX),on=parseInt(n.clientY)}function it(t){var n=t.changedTouches[0];cn=parseInt(n.clientX)-rn,sn=parseInt(n.clientY)-on;var a=i(e(sn,cn),15);if("horizontal"===a&&_t===!1&&(un=!0),un){var r=zt?-(Et+Vt-mt)*ct:-(Et-mt)*ct,o=zt?Vt*ct:0;!zt&&Tt&&(r=-(Et*ct-bt.clientWidth)),dn=-$t*ct+cn,dn=Math.max(r,Math.min(dn,o)),mn(0),yn(dn),t.preventDefault()}}function at(t){var n=t.changedTouches[0];if(cn=parseInt(n.clientX)-rn,un&&0!==cn){t.preventDefault(),un=!1,dn=-$t*ct+cn;var e,i=zt?-Vt:0,a=zt?Et+Vt-mt:Et-mt;e=-(dn/ct),e=cn<0?Math.ceil(e):Math.floor(e),e=Math.max(i,Math.min(e,a)),$t=e,j(1)}}function rt(){clearTimeout(ht),ht=setTimeout(function(){z()},100)}function ot(){tn||window.requestAnimationFrame(function(){T(),tn=!1}),tn=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var dt,ct,st,ut,lt,ft,vt,ht,pt=t.transform,mt=t.items,yt=t.container,bt=document.createElement("div"),gt=yt.children,Et=gt.length,xt=t.gutter,wt="right"===t.gutterPosition?"margin-right":"margin-left",Mt="left"===t.gutterPosition?xt:0,Lt=t.edgePadding,Ct=Lt?1:0,Tt=t.fixedWidth,Pt=t.controls,At=t.controlsText,St=!!t.controlsContainer&&t.controlsContainer,Nt=t.nav,kt=!!t.navContainer&&t.navContainer,Dt=t.arrowKeys,Wt=f?t.speed:0,It=t.autoplay,Ot=t.autoplayTimeout,Bt="forward"===t.autoplayDirection?1:-1,Ht=t.autoplayText,qt=t.rewind,zt=!t.rewind&&t.loop,Gt=t.autoHeight,jt=!Tt&&t.responsive,Ft=t.slideByPage,Rt=Ft||"page"===t.slideBy?mt:t.slideBy,Ut=t.lazyload,Xt=t.touch,Vt=zt?Et:Lt?1:0,Kt=Et+2*Vt,Yt=Et,Jt=-1,Qt=0,Zt=0,$t=0,_t=!1,tn=!1;if(It)var nn,en,an=!1;if(Xt)var rn=0,on=0,dn=0,cn=0,sn=0,un=!1;var ln=function(){return Tt?function(){return Math.max(1,Math.min(Et,Math.floor(bt.clientWidth/Tt)))}:function(){var n=t.items,e=document.documentElement.clientWidth,i="object"==typeof jt&&Object.keys(jt);if(i)for(var a=0;a<i.length;a++)e>=i[a]&&(n=jt[i[a]]);return Math.max(1,Math.min(Et,n))}}(),fn=function(){return Tt?function(){return Tt+xt}:navigator.appVersion.indexOf("MSIE 8")>0?function(){return Math.round((bt.clientWidth-xt-2*Lt)/mt)}:function(){return(bt.clientWidth-xt-2*Lt)/mt}}(),vn=function(){return t.navContainer?function(){return Et}:function(){return Math.ceil(Et/mt)}}(),hn=function(){return Vt+$t},pn=function(){return Tt?function(){yt.style.paddingLeft=k()+"px"}:function(){yt.style.width=(ct+1)*Kt+"px",yt.style.marginLeft=-(Vt*ct+Mt)+"px";for(var t=Kt;t--;)gt[t].style.width=ct-xt+"px"}}(),mn=function(){return f?function(t){yt.style[f]=Wt*t/1e3+"s"}:function(){}}(),yn=function(){return v?function(t){var n=t||-ct*$t;yt.style[v]="translate3d("+n+"px, 0, 0)"}:function(t){var n=t||-ct*$t;yt.style.left=n+"px"}}();return{init:S,destory:function(){if(gn.unwrap(bt),bt=null,yt.classList.remove("tiny-content",pt),d(yt,["id","style"]),zt)for(var n=Vt;n--;)gt[0].remove(),gt[gt.length-1].remove();d(gt,["id","style","aria-hidden"]),dt=Et=null,Pt&&(t.controlsContainer?(d(St,["aria-label"]),d(St.children,["aria-controls","tabindex"]),c(St)):(St.remove(),St=st=ut=null)),Nt&&(t.navContainer?(d(kt,["aria-label"]),d(lt,["aria-selected","aria-controls","tabindex"]),c(kt)):(kt.remove(),kt=null),lt=null),It&&(t.navContainer||null===kt?c(en):(kt.remove(),kt=null)),Xt&&c(yt),Dt&&document.removeEventListener("keydown",Dt,!1),window.removeEventListener("resize",rt,!1),window.removeEventListener("scroll",ot,!1)},hasAttr:a,getAttr:r,setAttrs:o,removeAttrs:d,removeEvents:c,getSliderId:n,toDegree:e,getPanDirection:i,hideElement:s,showElement:u,transform:pt,gutter:xt,gutterPosition:t.gutterPosition,edgePadding:Lt,fixedWidth:Tt,controls:Pt,nav:Nt,rewind:qt,loop:zt,autoHeight:Gt,slideBy:Rt,lazyload:Ut,touch:Xt,speed:Wt,items:ln(),navCountVisible:vn(),cloneCount:Vt,index:function(){return $t},running:function(){return _t},sliderContainer:yt,slideItems:gt,slideCount:Et,controlsContainer:function(){return St},prevButton:function(){return st},nextButton:function(){return ut},navContainer:function(){return kt},allNavs:function(){return lt}}}function n(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function e(t,n){return Math.atan2(t,n)*(180/Math.PI)}function i(t,n){return Math.abs(90-Math.abs(t))>=90-n?"horizontal":Math.abs(90-Math.abs(t))<=n&&"vertical"}function a(t,n){return t.hasAttribute(n)}function r(t,n){return t.getAttribute(n)}function o(t,n){if(t=gn.isNodeList(t)||t instanceof Array?t:[t],"[object Object]"===Object.prototype.toString.call(n))for(var e=t.length;e--;)for(var i in n)t[e].setAttribute(i,n[i])}function d(t,n){t=gn.isNodeList(t)||t instanceof Array?t:[t],n=n instanceof Array?n:[n];for(var e=n.length,i=t.length;i--;)for(var a=e;a--;)t[i].removeAttribute(n[a])}function c(t){var n=t.cloneNode(!0),e=t.parentNode;e.insertBefore(n,t),t.remove(),t=null}function s(t){a(t,"hidden")||o(t,{hidden:""})}function u(t){a(t,"hidden")&&d(t,"hidden")}function l(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}var f=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),v=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),h={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
