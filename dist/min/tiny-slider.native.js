var tinySlider=function(){"use strict";function t(t){function s(){tt.style.width=B*rt+"px";var t=Et?X*B:0,e="marginLeft"===ot?at:0,n=t+e;0!==n&&(tt.style.marginLeft=-n+"px");for(var i=rt;i--;)nt[i].style.width=B-at+"px",0!==at&&(nt[i].style[ot]=at+"px")}function d(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function u(t){for(var e=t.length;e--;)d(t[e])&&t.splice(e,1);0===t.length?c():setTimeout(function(){u(t)},16)}function c(){for(var t,e=Xt(),n=[],i=rt;i--;)i>=e&&i<e+K&&n.push(nt[i].offsetHeight);t=Math.max.apply(null,n),a&&(tt.style[a]=ht/1e3+"s"),tt.style.height=t+"px",Tt=!0,setTimeout(function(){a&&(tt.style[a]="0s"),Tt=!1},ht)}function v(){navigator.msMaxTouchPoints&&(et.style.msScrollSnapPointsX="snapInterval(0%, "+B+")")}function f(){for(var t=J;t--;){var e=$[t];t<Q?e.hasAttribute("hidden")&&e.removeAttribute("hidden"):e.hasAttribute("hidden")||e.setAttribute("hidden","")}}function h(){K=jt(),B=Ut(),Q=Bt(),s(),v(),ct&&!t.navContainer&&f(),p(),b()}function m(t){tt.setAttribute("aria-busy","true"),y(t),p(),setTimeout(function(){Et&&g(),b(),Tt=!1,tt.setAttribute("aria-busy","false")},ht*t)}function b(){E(),ct&&A(),st&&!Et&&L(),xt&&x(),At&&w()}function y(t){a&&(tt.style[a]=ht*t/1e3+"s",Tt=!0)}function p(){var t=et.clientWidth;It=-B*Ct,lt&&!Et&&(It=Math.max(It,-Math.abs(it*B-at-t))),o?tt.style[o]="translate3d("+It+"px, 0, 0)":tt.style.left=It+"px"}function g(){var t=Lt?Ct<K-X:Ct<=-X,e=Lt?Ct>it+X-2*K-1:Ct>=it+X-K;lt&&X&&!Lt&&(e=Ct>=it+X-K-1),t&&(Ct+=it),e&&(Ct-=it),a&&(tt.style[a]="0s"),p()}function E(){for(var t=rt;t--;){var e=Xt(),n=nt[t];t>=e&&t<e+K?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function A(){var e;if(Mt===-1){var n=Ct<0?Ct+it:Ct>=it?Ct-it:Ct;if(e=t.navContainer?n:Math.floor(n/K),!Et&&!t.navContainer){var i=/^-?[0-9]+$/,r=i.test(it/K);r||Ct!==it-K||(e+=1)}}else e=Mt,Mt=-1;for(var a=Q;a--;){var o=$[a];a===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}function L(){it>K?(0===Ct?(Y.disabled=!0,I(Y,V)):Y.disabled=!1,Ct!==it-K||gt?V.disabled=!1:(V.disabled=!0,I(V,Y))):(0!==Ct&&(Ct=0,p()),Y.disabled=!0,V.disabled=!0,Y.setAttribute("tabindex","-1"),V.setAttribute("tabindex","-1"),Y===document.activeElement&&Y.blur(),V===document.activeElement&&V.blur())}function x(){if(gn.isInViewport(tt)){var t=tt.querySelectorAll('[aria-hidden="false"] .tiny-lazy');if(0!==t.length)for(var e=0,n=t.length;e<n;e++)t[e].classList.contains("loaded")||(t[e].src=t[e].getAttribute("data-src"),t[e].classList.add("loaded"))}}function w(){for(var t=Xt(),e=[],n=rt;n--;)if(n>=t&&n<t+K)for(var i=nt[n].querySelectorAll("img"),r=i.length;r--;)e.push(i[r]);0===e.length?c():u(e)}function M(t){if(!Tt){t=Lt?t*K:t;var e=Math.abs(t);Ct=Et?Ct+t:Math.max(0,Math.min(Ct+t,it-K)),m(e)}}function C(){M(-1)}function T(){M(Ct===it-K&&gt?-it+K:1)}function k(e){if(!Tt){for(var n,i=e.target||e.srcElement;gn.indexOf($,i)===-1;)i=i.parentNode;Mt=n=Number(i.getAttribute("data-slide"));var r,a;r=t.navContainer?n:n*K,r=Et?r:Math.min(r,it-K),a=Math.abs(r-Ct),Ct=r,m(a)}}function S(){St=setInterval(function(){M(yt)},bt),Pt.setAttribute("data-action","stop"),Pt.innerHTML="<span hidden>Stop Animation</span>"+pt[1],Nt=!0}function P(){clearInterval(St),Pt.setAttribute("data-action","start"),Pt.innerHTML="<span hidden>Stop Animation</span>"+pt[0],Nt=!1}function N(){Nt?P():S()}function W(){Nt&&P()}function D(t){t=t||window.event,t.keyCode===l.LEFT?M(-1):t.keyCode===l.RIGHT&&M(1)}function I(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function O(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==l.LEFT&&e!==l.UP&&e!==l.HOME&&e!==l.PAGEUP||n!==Y&&Y.disabled!==!0&&I(n,Y),e!==l.RIGHT&&e!==l.DOWN&&e!==l.END&&e!==l.PAGEDOWN||n!==V&&V.disabled!==!0&&I(n,V),e!==l.ENTER&&e!==l.SPACE||(n===V?T():C())}function H(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==l.LEFT&&e!==l.PAGEUP||n.getAttribute("data-slide")>0&&I(n,n.previousElementSibling),e!==l.UP&&e!==l.HOME||0!==n.getAttribute("data-slide")&&I(n,$[0]),e!==l.RIGHT&&e!==l.PAGEDOWN||n.getAttribute("data-slide")<Q-1&&I(n,n.nextElementSibling),e!==l.DOWN&&e!==l.END||n.getAttribute("data-slide")<Q-1&&I(n,$[Q-1]),e!==l.ENTER&&e!==l.SPACE||k(t)}function q(){tt.style[a]="0s",tt.style.transform="translate3d(-"+-tt.scrollLeft()+"px,0,0)"}function z(t){var e=t.changedTouches[0];Wt=parseInt(e.clientX),Dt=parseInt(e.clientY)}function G(t){var e=t.changedTouches[0];Ot=parseInt(e.clientX)-Wt,Ht=parseInt(e.clientY)-Dt;var r=n(Math.atan2(Ht,Ot)),l=i(r,15);if("horizontal"===l&&Tt===!1&&(qt=!0),qt){a&&(tt.style[a]="0s");var s=Et?-(it+X-K)*B:-(it-K)*B,d=Et?X*B:0;!Et&&lt&&(s=-(it*B-et.clientWidth)),It=-Ct*B+Ot,It=Math.max(s,Math.min(It,d)),o?tt.style[o]="translate3d("+It+"px, 0, 0)":tt.style.left=It+"px",t.preventDefault()}}function R(t){var e=t.changedTouches[0];if(Ot=parseInt(e.clientX)-Wt,qt&&0!==Ot){t.preventDefault(),qt=!1,It=-Ct*B+Ot;var n,i=Et?-X:0,r=Et?it+X-K:it-K;n=-(It/B),n=Ot<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,r)),Ct=n,m(1)}}function j(){clearTimeout(Z),Z=setTimeout(function(){h()},100)}function F(){kt||window.requestAnimationFrame(function(){xt&&x(),kt=!1}),kt=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var U,B,X,K,Y,V,$,J,Q,Z,_=t.transform,tt=t.container,et=document.createElement("div"),nt=tt.children,it=nt.length,rt=nt.length,at=t.gutter,ot="right"===t.gutterPosition?"marginRight":"marginLeft",lt=t.fixedWidth,st=t.controls,dt=t.controlsText,ut=!!t.controlsContainer&&t.controlsContainer,ct=t.nav,vt=!!t.navContainer&&t.navContainer,ft=t.arrowKeys,ht=a?t.speed:0,mt=t.autoplay,bt=t.autoplayTimeout,yt="forward"===t.autoplayDirection?1:-1,pt=t.autoplayText,gt=t.rewind,Et=!(gt||lt&&!t.maxContainerWidth)&&t.loop,At=t.autoHeight,Lt=t.slideByPage,xt=t.lazyload,wt=t.touch,Mt=-1,Ct=0,Tt=!1,kt=!1;if(mt)var St,Pt,Nt=!1;if(wt)var Wt=0,Dt=0,It=0,Ot=0,Ht=0,qt=!1;var zt=!lt&&t.responsive,Gt="object"==typeof zt&&Object.keys(zt),Rt=r(zt),jt=function(){return lt?function(){return Math.max(Math.min(it,Math.floor(et.clientWidth/lt)),1)}:function(){var e,n=document.documentElement.clientWidth;if(void 0!==Gt.length&&void 0!==Rt&&Gt.length===Rt.length)if(n<Gt[0])e=t.items;else if(n>=Gt[Gt.length-1])e=Rt[Rt.length-1];else for(var i=0;i<Gt.length-1;i++)n>=Gt[i]&&n<=Gt[i+1]&&(e=Rt[i]);else e=t.items;return Math.max(Math.min(it,e),1)}}(),Ft=function(){var e;return e=lt?!!t.maxContainerWidth&&Math.ceil(t.maxContainerWidth/lt):void 0!==Rt.length?Math.max.apply(Math,Rt):t.items,e?Math.min(it,e):e},Ut=function(){return function(){return lt?lt+at:(et.clientWidth+at)/K}}(),Bt=function(){return function(){return t.navContainer?it:Math.ceil(it/K)}}(),Xt=function(){return function(){return Et?Ct+X:Ct}}();return X=Ft(),{init:function(){tt.classList.add("tiny-content",_),0===tt.id.length?tt.id=U=e():U=tt.id,et.className="tiny-slider",gn.wrap(tt,et),navigator.msMaxTouchPoints&&(et.classList.add("ms-touch"),et.addEventListener("scroll",q,!1));for(var n=0;n<it;n++)nt[n].id=U+"item"+n;if(Et){for(var i=document.createDocumentFragment(),r=document.createDocumentFragment(),a=X;a--;){var o=nt[a].cloneNode(!0),l=nt[it-1-a].cloneNode(!0);o.id="",l.id="",i.insertBefore(o,i.firstChild),r.appendChild(l)}tt.appendChild(i),tt.insertBefore(r,tt.firstChild),rt=tt.children.length,nt=tt.children}if(ct){if(!t.navContainer){for(var s="",d=0;d<it;d++)s+='<button data-slide="'+d+'" tabindex="-1" aria-selected="false" aria-controls="'+U+"item"+d+'" type="button"></button>';mt&&(s+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+pt[0]+"</button>"),s='<div class="tiny-nav" aria-label="Carousel Pagination">'+s+"</div>",gn.append(et,s),vt=et.querySelector(".tiny-nav")}if($=vt.querySelectorAll("[data-slide]"),J=$.length,!vt.hasAttribute("aria-label")){vt.setAttribute("aria-label","Carousel Pagination");for(var u=0;u<J;u++){var c=$[u];c.setAttribute("tabindex","-1"),c.setAttribute("aria-selected","false"),c.setAttribute("aria-controls",U+"item"+u)}}}if(st&&(t.controlsContainer||(gn.append(et,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+U+'" type="button">'+dt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+U+'" type="button">'+dt[1]+"</button></div>"),ut=et.querySelector(".tiny-controls")),Y=ut.querySelector('[data-controls="prev"]'),V=ut.querySelector('[data-controls="next"]'),ut.hasAttribute("tabindex")||(ut.setAttribute("aria-label","Carousel Navigation"),Y.setAttribute("aria-controls",U),V.setAttribute("aria-controls",U),Y.setAttribute("tabindex","-1"),V.setAttribute("tabindex","0"))),mt&&(vt||(gn.append(et,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+pt[0]+"</button></div>"),vt=et.querySelector(".tiny-nav")),Pt=vt.querySelector("[data-action]")),h(),wt&&(tt.addEventListener("touchstart",z,!1),tt.addEventListener("touchmove",G,!1),tt.addEventListener("touchend",R,!1),tt.addEventListener("touchcancel",R,!1)),st&&(Et||L(),Y.addEventListener("click",C,!1),V.addEventListener("click",T,!1),Y.addEventListener("keydown",O,!1),V.addEventListener("keydown",O,!1)),ct)for(var v=$.length;v--;)$[v].addEventListener("click",k,!1),$[v].addEventListener("keydown",H,!1);if(mt&&(S(),Pt.addEventListener("click",N,!1),st&&(Y.addEventListener("click",W,!1),V.addEventListener("click",W,!1)),ct))for(var f=0;f<J;f++)$[f].addEventListener("click",W,!1);ft&&document.addEventListener("keydown",D,!1),window.addEventListener("resize",j,!1),window.addEventListener("scroll",F,!1)},destory:function(){if(tt.classList.remove("tiny-content"),tt.style.width="",tt.style[a]="",tt.style.transform="",tt.style.marginLeft="",tt.style.left="",gn.unwrap(et),Et)for(var e=X;e--;)nt[0].remove(),nt[nt.length-1].remove();if(void 0!==U){U=null,tt.removeAttribute("id");for(var n=it;n--;)nt[n].removeAttribute("id"),nt[n].removeAttribute("aria-hidden"),nt[n].style.width=""}if(wt&&(tt.removeEventListener("touchstart",z,!1),tt.removeEventListener("touchmove",G,!1),tt.removeEventListener("touchend",R,!1),tt.removeEventListener("touchcancel",R,!1)),st&&(t.controlsContainer?(ut.removeAttribute("aria-label"),Y.removeAttribute("aria-controls"),Y.removeAttribute("tabindex"),Y.removeEventListener("click",C,!1),Y.removeEventListener("keydown",O,!1),V.removeAttribute("aria-controls"),V.removeAttribute("tabindex"),V.removeEventListener("click",T,!1),V.removeEventListener("keydown",O,!1)):(ut.remove(),ut=null,Y=null,V=null)),ct){if(t.navContainer){vt.removeAttribute("aria-label");for(var i=$.length;i--;)$[i].removeAttribute("aria-selected"),$[i].removeAttribute("aria-controls"),$[i].removeEventListener("click",k,!1),$[i].removeEventListener("keydown",H,!1)}else vt.remove(),vt=null;$=null,J=null}if(mt)if(t.navContainer||null===vt){if(Pt.removeEventListener("click",N,!1),Pt=null,st&&t.controlsContainer&&(Y.removeEventListener("click",W,!1),V.removeEventListener("click",W,!1)),ct&&t.navContainer)for(var r=0;r<J;r++)$[r].removeEventListener("click",W,!1)}else vt.remove(),vt=null;ft&&document.removeEventListener("keydown",ft,!1),window.removeEventListener("resize",j,!1),window.removeEventListener("scroll",F,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function r(t){if("object"==typeof t){for(var e=[],n=Object.keys(t),i=0,r=n.length;i<r;i++){var a=n[i];e.push(t[a])}return e}return!1}var a=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),o=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),l={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
