var tinySlider=function(){"use strict";function t(t){function l(){et.classList.add("tiny-content",tt),0===et.id.length?et.id=X=e():X=et.id,nt.className="tiny-slider",gn.wrap(et,nt),navigator.msMaxTouchPoints&&(nt.classList.add("ms-touch"),nt.addEventListener("scroll",z,!1));for(var n=0;n<rt;n++)it[n].id=X+"item"+n;if(Tt=Kt(),rt<=Tt&&(Lt=At=ft=ut=xt=!1),Y=Yt(),Lt||lt){for(var i=document.createDocumentFragment(),r=document.createDocumentFragment(),a=Y;a--;){var o=it[a].cloneNode(!0),s=it[rt-1-a].cloneNode(!0);o.id="",s.id="",i.insertBefore(o,i.firstChild),r.appendChild(s)}et.appendChild(i),et.insertBefore(r,et.firstChild),at=et.children.length,it=et.children}if(ft){if(!t.navContainer){for(var l="",d=0;d<rt;d++)l+='<button data-slide="'+d+'" tabindex="-1" aria-selected="false" aria-controls="'+X+"item"+d+'" type="button"></button>';yt&&(l+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Et[0]+"</button>"),l='<div class="tiny-nav" aria-label="Carousel Pagination">'+l+"</div>",gn.append(nt,l),mt=nt.querySelector(".tiny-nav")}if(J=mt.querySelectorAll("[data-slide]"),Q=J.length,!mt.hasAttribute("aria-label")){mt.setAttribute("aria-label","Carousel Pagination");for(var u=0;u<Q;u++){var c=J[u];c.setAttribute("tabindex","-1"),c.setAttribute("aria-selected","false"),c.setAttribute("aria-controls",X+"item"+u)}}}ut&&(t.controlsContainer||(gn.append(nt,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+X+'" type="button">'+ct[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+X+'" type="button">'+ct[1]+"</button></div>"),vt=nt.querySelector(".tiny-controls")),V=vt.querySelector('[data-controls="prev"]'),$=vt.querySelector('[data-controls="next"]'),vt.hasAttribute("tabindex")||(vt.setAttribute("aria-label","Carousel Navigation"),V.setAttribute("aria-controls",X),$.setAttribute("aria-controls",X),V.setAttribute("tabindex","-1"),$.setAttribute("tabindex","0"))),yt&&(mt||(gn.append(nt,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Et[0]+"</button></div>"),mt=nt.querySelector(".tiny-nav")),Ot=mt.querySelector("[data-action]")),Nt=!0}function d(){if(Dt&&!Ut||(et.style.width=K*at+"px"),lt){var t=lt;if(dt){var e=nt.clientWidth;t=(e-K*Math.floor(e/K)+ot)/2}Dt&&!dt||(et.style.paddingLeft=t+"px")}var n=Y*K,i="marginLeft"===st?ot:0,r=n+i;0!==r&&(et.style.marginLeft=-r+"px");for(var a=at;a--;)Dt&&dt||(it[a].style.width=K-ot+"px"),Dt||0===ot||(it[a].style[st]=ot+"px");Dt=!0}function u(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function c(t){for(var e=t.length;e--;)u(t[e])&&t.splice(e,1);0===t.length?v():setTimeout(function(){c(t)},16)}function v(){for(var t,e=Jt(),n=[],i=lt?1:0,r=at;r--;)r>=e-i&&r<e+Tt&&n.push(it[r].offsetHeight);t=Math.max.apply(null,n),a&&(et.style[a]=ht/1e3+"s"),et.style.height=t+"px",St=!0,setTimeout(function(){a&&(et.style[a]="0s"),St=!1},ht)}function f(){navigator.msMaxTouchPoints&&(nt.style.msScrollSnapPointsX="snapInterval(0%, "+K+")")}function m(){for(var t=Q;t--;){var e=J[t];t<Z?e.hasAttribute("hidden")&&e.removeAttribute("hidden"):e.hasAttribute("hidden")||e.setAttribute("hidden","")}}function b(){Tt=Kt(),rt<=Tt&&(Lt=At=ft=ut=xt=!1),K=Vt(),Z=$t(),d(),f(),ft&&!t.navContainer&&m(),g(),y()}function h(t){et.setAttribute("aria-busy","true"),p(t),g(),setTimeout(function(){Lt&&E(),y(),St=!1,et.setAttribute("aria-busy","false")},ht*t)}function y(){A(),ft&&L(),ut&&!Lt&&w(),Ct&&x(),wt&&C()}function p(t){a&&(et.style[a]=ht*t/1e3+"s",St=!0)}function g(){Gt=-K*Pt,o?et.style[o]="translate3d("+Gt+"px, 0, 0)":et.style.left=Gt+"px"}function E(){var t,e,n=lt?1:0;xt?(t=Tt-Y+1+n,e=rt+Y-2*Tt-1):(t=-Y+1+n,e=rt+Y-Tt-2),(Pt<t||Pt>e)&&(Pt-rt>=t&&Pt-rt<=e?Pt-=rt:Pt+=rt,a&&(et.style[a]="0s"),g())}function A(){for(var t=at;t--;){var e=Jt(),n=it[t];t>=e&&t<e+Tt?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function L(){var e;if(kt===-1){var n=Pt<0?Pt+rt:Pt>=rt?Pt-rt:Pt;if(e=t.navContainer?n:Math.floor(n/Tt),!Lt&&!t.navContainer){var i=/^-?[0-9]+$/,r=i.test(rt/Tt);r||Pt!==rt-Tt||(e+=1)}}else e=kt,kt=-1;for(var a=Z;a--;){var o=J[a];a===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}function w(){var t=lt?rt+1:rt;t>Tt?(0===Pt?(V.disabled=!0,O(V,$)):V.disabled=!1,At||Pt!==t-Tt?$.disabled=!1:($.disabled=!0,O($,V))):(0!==Pt&&(Pt=0,g()),V.disabled=!0,$.disabled=!0,V.setAttribute("tabindex","-1"),$.setAttribute("tabindex","-1"),V===document.activeElement&&V.blur(),$===document.activeElement&&$.blur())}function x(){if(gn.isInViewport(et)){for(var t=[],e=at;e--;){var n=Pt+Y-1;if(e>=n&&e<=n+Tt+1){for(var i=it[e].querySelectorAll(".tiny-lazy"),r=i.length;r--;t.unshift(i[r]));t.unshift()}}for(var a=t.length;a--;){var o=t[a];o.classList.contains("loaded")||(o.src=o.getAttribute("data-src"),o.classList.add("loaded"))}}}function C(){for(var t=Jt(),e=[],n=at;n--;)if(n>=t-1&&n<=t+Tt)for(var i=it[n].querySelectorAll("img"),r=i.length;r--;)e.push(i[r]);0===e.length?v():c(e)}function M(t){if(!St){t=xt?t*Tt:t;var e=Math.abs(t),n=lt?rt+1:rt;Pt=Lt?Pt+t:Math.max(0,Math.min(Pt+t,n-Tt)),h(e)}}function T(){M(-1)}function k(){var t=lt?rt+1:rt;M(At&&Pt===t-Tt?-t+Tt:1)}function P(e){if(!St){for(var n,i=e.target||e.srcElement;gn.indexOf(J,i)===-1;)i=i.parentNode;kt=n=Number(i.getAttribute("data-slide"));var r,a;r=t.navContainer?n:n*Tt,r=Lt?r:Math.min(r,rt-Tt),a=Math.abs(r-Pt),Pt=r,h(a)}}function S(){It=setInterval(function(){M(gt)},pt),Ot.setAttribute("data-action","stop"),Ot.innerHTML="<span hidden>Stop Animation</span>"+Et[1],Ht=!0}function N(){clearInterval(It),Ot.setAttribute("data-action","start"),Ot.innerHTML="<span hidden>Stop Animation</span>"+Et[0],Ht=!1}function D(){Ht?N():S()}function W(){Ht&&N()}function I(t){t=t||window.event,t.keyCode===s.LEFT?M(-1):t.keyCode===s.RIGHT&&M(1)}function O(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function H(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.UP&&e!==s.HOME&&e!==s.PAGEUP||n!==V&&V.disabled!==!0&&O(n,V),e!==s.RIGHT&&e!==s.DOWN&&e!==s.END&&e!==s.PAGEDOWN||n!==$&&$.disabled!==!0&&O(n,$),e!==s.ENTER&&e!==s.SPACE||(n===$?k():T())}function q(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.PAGEUP||n.getAttribute("data-slide")>0&&O(n,n.previousElementSibling),e!==s.UP&&e!==s.HOME||0!==n.getAttribute("data-slide")&&O(n,J[0]),e!==s.RIGHT&&e!==s.PAGEDOWN||n.getAttribute("data-slide")<Z-1&&O(n,n.nextElementSibling),e!==s.DOWN&&e!==s.END||n.getAttribute("data-slide")<Z-1&&O(n,J[Z-1]),e!==s.ENTER&&e!==s.SPACE||P(t)}function z(){et.style[a]="0s",et.style.transform="translate3d(-"+-et.scrollLeft()+"px,0,0)"}function G(t){var e=t.changedTouches[0];qt=parseInt(e.clientX),zt=parseInt(e.clientY)}function R(t){var e=t.changedTouches[0];Rt=parseInt(e.clientX)-qt,jt=parseInt(e.clientY)-zt;var r=n(Math.atan2(jt,Rt)),s=i(r,15);if("horizontal"===s&&St===!1&&(Ft=!0),Ft){a&&(et.style[a]="0s");var l=Lt?-(rt+Y-Tt)*K:-(rt-Tt)*K,d=Lt?Y*K:0;!Lt&&dt&&(l=-(rt*K-nt.clientWidth)),Gt=-Pt*K+Rt,Gt=Math.max(l,Math.min(Gt,d)),o?et.style[o]="translate3d("+Gt+"px, 0, 0)":et.style.left=Gt+"px",t.preventDefault()}}function j(t){var e=t.changedTouches[0];if(Rt=parseInt(e.clientX)-qt,Ft&&0!==Rt){t.preventDefault(),Ft=!1,Gt=-Pt*K+Rt;var n,i=Lt?-Y:0,r=Lt?rt+Y-Tt:rt-Tt;n=-(Gt/K),n=Rt<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,r)),Pt=n,h(1)}}function F(){clearTimeout(_),_=setTimeout(function(){b()},100)}function U(){Wt||window.requestAnimationFrame(function(){Ct&&x(),Wt=!1}),Wt=!0}function B(){if(Mt&&(et.addEventListener("touchstart",G,!1),et.addEventListener("touchmove",R,!1),et.addEventListener("touchend",j,!1),et.addEventListener("touchcancel",j,!1)),ut&&(Lt||w(),V.addEventListener("click",T,!1),$.addEventListener("click",k,!1),V.addEventListener("keydown",H,!1),$.addEventListener("keydown",H,!1)),ft)for(var t=J.length;t--;)J[t].addEventListener("click",P,!1),J[t].addEventListener("keydown",q,!1);if(yt&&(S(),Ot.addEventListener("click",D,!1),ut&&(V.addEventListener("click",W,!1),$.addEventListener("click",W,!1)),ft))for(var e=0;e<Q;e++)J[e].addEventListener("click",W,!1);bt&&document.addEventListener("keydown",I,!1),window.addEventListener("resize",F,!1),window.addEventListener("scroll",U,!1)}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var X,K,Y,V,$,J,Q,Z,_,tt=t.transform,et=t.container,nt=document.createElement("div"),it=et.children,rt=it.length,at=it.length,ot=t.gutter,st="right"===t.gutterPosition?"marginRight":"marginLeft",lt=t.rewind?0:t.edgePadding,dt=t.fixedWidth,ut=(t.maxContainerWidth,t.controls),ct=t.controlsText,vt=!!t.controlsContainer&&t.controlsContainer,ft=t.nav,mt=!!t.navContainer&&t.navContainer,bt=t.arrowKeys,ht=a?t.speed:0,yt=t.autoplay,pt=t.autoplayTimeout,gt="forward"===t.autoplayDirection?1:-1,Et=t.autoplayText,At=t.rewind,Lt=!At&&t.loop,wt=t.autoHeight,xt=t.slideByPage,Ct=t.lazyload,Mt=t.touch,Tt=t.items,kt=-1,Pt=0,St=!1,Nt=!1,Dt=!1,Wt=!1;if(yt)var It,Ot,Ht=!1;if(Mt)var qt=0,zt=0,Gt=0,Rt=0,jt=0,Ft=!1;var Ut=!dt&&t.responsive,Bt="object"==typeof Ut&&Object.keys(Ut),Xt=r(Ut),Kt=function(){return dt?function(){return Math.max(1,Math.min(rt,Math.floor(nt.clientWidth/dt)))}:function(){var e=t.items,n=document.documentElement.clientWidth;if(Xt)for(var i=0;i<Bt.length;i++)n>=Bt[i]&&(e=Xt[i]);return Math.max(1,Math.min(rt,e))}}(),Yt=function(){return Lt?rt:lt?1:void 0},Vt=function(){return function(){return dt?dt+ot:(nt.clientWidth+ot-2*lt)/Tt}}(),$t=function(){return function(){return t.navContainer?rt:Math.ceil(rt/Tt)}}(),Jt=function(){return function(){return Pt+Y}}();return{init:function(){l(),b(),B()},destory:function(){if(et.classList.remove("tiny-content"),et.style.width="",et.style[a]="",et.style.transform="",et.style.marginLeft="",et.style.left="",gn.unwrap(nt),Lt)for(var e=Y;e--;)it[0].remove(),it[it.length-1].remove();if(void 0!==X){X=null,et.removeAttribute("id");for(var n=rt;n--;)it[n].removeAttribute("id"),it[n].removeAttribute("aria-hidden"),it[n].style.width=""}if(Mt&&(et.removeEventListener("touchstart",G,!1),et.removeEventListener("touchmove",R,!1),et.removeEventListener("touchend",j,!1),et.removeEventListener("touchcancel",j,!1)),ut&&(t.controlsContainer?(vt.removeAttribute("aria-label"),V.removeAttribute("aria-controls"),V.removeAttribute("tabindex"),V.removeEventListener("click",T,!1),V.removeEventListener("keydown",H,!1),$.removeAttribute("aria-controls"),$.removeAttribute("tabindex"),$.removeEventListener("click",k,!1),$.removeEventListener("keydown",H,!1)):(vt.remove(),vt=null,V=null,$=null)),ft){if(t.navContainer){mt.removeAttribute("aria-label");for(var i=J.length;i--;)J[i].removeAttribute("aria-selected"),J[i].removeAttribute("aria-controls"),J[i].removeEventListener("click",P,!1),J[i].removeEventListener("keydown",q,!1)}else mt.remove(),mt=null;J=null,Q=null}if(yt)if(t.navContainer||null===mt){if(Ot.removeEventListener("click",D,!1),Ot=null,ut&&t.controlsContainer&&(V.removeEventListener("click",W,!1),$.removeEventListener("click",W,!1)),ft&&t.navContainer)for(var r=0;r<Q;r++)J[r].removeEventListener("click",W,!1)}else mt.remove(),mt=null;bt&&document.removeEventListener("keydown",bt,!1),window.removeEventListener("resize",F,!1),window.removeEventListener("scroll",U,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function r(t){if("object"==typeof t){for(var e=[],n=Object.keys(t),i=0,r=n.length;i<r;i++){var a=n[i];e.push(t[a])}return e}return!1}var a=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),o=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),s={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
