var tinySlider=function(){"use strict";function t(t){function c(){dt.className="tiny-slider",gn.wrap(st,dt),st.classList.add("tiny-content",rt),Ht&&(st.addEventListener("touchstart",K,!1),st.addEventListener("touchmove",Y,!1),st.addEventListener("touchend",V,!1),st.addEventListener("touchcancel",V,!1))}function u(){navigator.msMaxTouchPoints&&(dt.classList.add("ms-touch"),dt.addEventListener("scroll",X,!1))}function f(){""===st.id?st.id=Q=e():Q=st.id;for(var t=0;t<ct;t++)lt[t].id=Q+"item"+t}function v(){if(Nt||bt){for(var t=document.createDocumentFragment(),e=document.createDocumentFragment(),n=qt;n--;){var i=lt[n].cloneNode(!0),a=lt[ct-1-n].cloneNode(!0);i.id="",a.id="",t.insertBefore(i,t.firstChild),e.appendChild(a)}st.appendChild(t),st.insertBefore(e,st.firstChild),ut=st.children.length,lt=st.children}}function h(){ot=ee(),Z=ne(),it=ie(),Ot=Wt||"page"===t.slideBy?ot:t.slideBy,ct<=ot?(Et=mt=Mt=Nt=St=!1,Bt=0):(Et=t.nav,mt=t.controls,Mt=t.autoplay,Nt=!t.rewind&&t.loop,St=t.rewind)}function b(){if(Et)if(Gt)xt&&xt.hasAttribute("hidden")&&r(xt,"hidden");else{if(!t.navContainer){for(var e="",n=0;n<ct;n++)e+='<button data-slide="'+n+'" tabindex="-1" aria-selected="false" aria-controls="'+Q+"item"+n+'" type="button"></button>';Mt&&(e+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Pt[0]+"</button>"),e='<div class="tiny-nav" aria-label="Carousel Pagination">'+e+"</div>",gn.append(dt,e),xt=dt.querySelector(".tiny-nav")}et=xt.querySelectorAll("[data-slide]"),nt=et.length,xt.hasAttribute("aria-label")||(a(xt,{"aria-label":"Carousel Pagination"}),a(et,{tabindex:"-1","aria-selected":"false","aria-controls":Q+"item"+i}));for(var i=0;i<nt;i++)et[i].addEventListener("click",H,!1),et[i].addEventListener("keydown",U,!1);Gt=!0}else Gt&&xt&&!xt.hasAttribute("hidden")&&a(xt,{hidden:"true"})}function p(){mt?jt?At.hasAttribute("hidden")&&r(At,"hidden"):(t.controlsContainer||(gn.append(dt,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+Q+'" type="button">'+gt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+Q+'" type="button">'+gt[1]+"</button></div>"),At=dt.querySelector(".tiny-controls")),_=At.querySelector('[data-controls="prev"]'),tt=At.querySelector('[data-controls="next"]'),At.hasAttribute("tabindex")||(a(At,{"aria-label":"Carousel Navigation"}),a(At.children,{"aria-controls":Q,tabindex:"-1"}),a(tt,{tabindex:"0"})),Nt||N(),_.addEventListener("click",O,!1),tt.addEventListener("click",I,!1),_.addEventListener("keydown",F,!1),tt.addEventListener("keydown",F,!1),jt=!0):jt&&!At.hasAttribute("hidden")&&a(At,{hidden:"true"})}function y(){if(Mt)if(Rt)Yt.hasAttribute("hidden")&&r(Yt,"hidden");else{if(xt||(gn.append(dt,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Pt[0]+"</button></div>"),xt=dt.querySelector(".tiny-nav")),Yt=xt.querySelector("[data-action]"),q(),Yt.addEventListener("click",B,!1),mt&&(_.addEventListener("click",G,!1),tt.addEventListener("click",G,!1)),Et)for(var t=0;t<nt;t++)et[t].addEventListener("click",G,!1);Rt=!0}else Rt&&!Yt.hasAttribute("hidden")&&a(Yt,{hidden:"true"})}function m(){if(!Ft||!yt){if(st.style.width=(Z+1)*ut+"px",bt){var t=bt;if(yt){var e=dt.clientWidth;t=(e-Z*Math.floor(e/Z)+ft)/2}st.style.paddingLeft=t+"px"}var n=qt*Z+ht;st.style.marginLeft=-n+"px";for(var i=ut;i--;)lt[i].style.width=Z-ft+"px"}if(!Ft&&0!==ft)for(var i=ut;i--;)lt[i].style[vt]=ft+"px";Ft=!0}function g(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function A(t){for(var e=t.length;e--;)g(t[e])&&t.splice(e,1);0===t.length?E():setTimeout(function(){A(t)},16)}function E(){for(var t,e=ae(),n=[],i=e-pt;i<e+ot;i++)n.push(lt[i].offsetHeight);t=Math.max.apply(null,n),s&&(st.style[s]=Lt/1e3+"s"),st.style.height=t+"px",Ut=!0,setTimeout(function(){s&&(st.style[s]="0s"),Ut=!1},Lt)}function x(){navigator.msMaxTouchPoints&&(dt.style.msScrollSnapPointsX="snapInterval(0%, "+Z+")")}function w(){if(Et&&!t.navContainer)for(var e=nt;e--;){var n=et[e];e<it?n.hasAttribute("hidden")&&n.removeAttribute("hidden"):n.hasAttribute("hidden")||n.setAttribute("hidden","")}}function L(){h(),m(),b(),w(),p(),y(),x(),re(0),oe(),T()}function M(t){st.setAttribute("aria-busy","true"),Ut=!0,re(t),oe(),setTimeout(function(){Nt&&C(),T(),Ut=!1,st.setAttribute("aria-busy","false")},Lt*t)}function T(){P(),Et&&S(),mt&&!Nt&&N(),It&&k(),kt&&D()}function C(){var t=Ot-qt+pt,e=ct+qt-ot-Ot-1;(Bt<t||Bt>e)&&(Bt-ct>=t&&Bt-ct<=e?Bt-=ct:Bt+=ct,Ut=!0,re(0),oe(),Ut=!1)}function P(){for(var t=ut;t--;){var e=ae(),n=lt[t];t>=e&&t<e+ot?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function S(){var e;if(zt===-1){var n=Bt<0?Bt+ct:Bt>=ct?Bt-ct:Bt;if(e=t.navContainer?n:Math.floor(n/ot),!Nt&&!t.navContainer){var i=/^-?[0-9]+$/,a=i.test(ct/ot);a||Bt!==ct-ot||(e+=1)}}else e=zt,zt=-1;for(var r=it;r--;){var o=et[r];r===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}function N(){0===Bt?(_.disabled=!0,_.setAttribute("tabindex","-1"),tt.setAttribute("tabindex","0"),R(_,tt)):_.disabled=!1,St||Bt!==ct-ot?tt.disabled=!1:(tt.disabled=!0,tt.setAttribute("tabindex","-1"),_.setAttribute("tabindex","0"),R(tt,_))}function k(){if(gn.isInViewport(st)){for(var t=[],e=Bt+qt,n=e-1;n<e+ot+1;n++){for(var i=lt[n].querySelectorAll(".tiny-lazy"),a=i.length;a--;t.unshift(i[a]));t.unshift()}for(var r=t.length;r--;){var o=t[r];o.classList.contains("loaded")||(o.src=o.getAttribute("data-src"),o.classList.add("loaded"))}}}function D(){for(var t=ae(),e=[],n=ut;n--;)if(n>=t-1&&n<=t+ot)for(var i=lt[n].querySelectorAll("img"),a=i.length;a--;)e.push(i[a]);0===e.length?E():A(e)}function W(t){if(!Ut){var e=Bt+t*Ot,n=Math.abs(t*Ot);Bt=Nt?e:Math.max(0,Math.min(e,ct-ot)),M(n)}}function O(){W(-1)}function I(){W(St&&Bt===ct-ot?(ot-ct)/Ot:1)}function H(e){if(!Ut){for(var n,i=e.target||e.srcElement;gn.indexOf(et,i)===-1;)i=i.parentNode;zt=n=Number(i.getAttribute("data-slide"));var a,r;a=t.navContainer?n:n*ot,a=Nt?a:Math.min(a,ct-ot),r=Math.abs(a-Bt),Bt=a,M(r)}}function q(){Kt=setInterval(function(){W(Ct)},Tt),Yt.setAttribute("data-action","stop"),Yt.innerHTML="<span hidden>Stop Animation</span>"+Pt[1],Vt=!0}function z(){clearInterval(Kt),Yt.setAttribute("data-action","start"),Yt.innerHTML="<span hidden>Stop Animation</span>"+Pt[0],Vt=!1}function B(){Vt?z():q()}function G(){Vt&&z()}function j(t){t=t||window.event,t.keyCode===l.LEFT?W(-1):t.keyCode===l.RIGHT&&W(St&&Bt===ct-ot?(ot-ct)/Ot:1)}function R(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function F(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;switch(e){case l.LEFT:case l.UP:case l.HOME:case l.PAGEUP:n!==_&&_.disabled!==!0&&R(n,_);break;case l.RIGHT:case l.DOWN:case l.END:case l.PAGEDOWN:n!==tt&&tt.disabled!==!0&&R(n,tt);break;case l.ENTER:case l.SPACE:n===tt?I():O()}}function U(t){t=t||window.event;var e=t.keyCode,n=document.activeElement,i=n.getAttribute("data-slide");switch(e){case l.LEFT:case l.PAGEUP:i>0&&R(n,n.previousElementSibling);break;case l.UP:case l.HOME:0!==i&&R(n,et[0]);break;case l.RIGHT:case l.PAGEDOWN:i<it-1&&R(n,n.nextElementSibling);break;case l.DOWN:case l.END:i<it-1&&R(n,et[it-1]);break;case l.ENTER:case l.SPACE:H(t)}}function X(){st.style[s]="0s",st.style.transform="translate3d(-"+-st.scrollLeft()+"px,0,0)"}function K(t){var e=t.changedTouches[0];$t=parseInt(e.clientX),Jt=parseInt(e.clientY)}function Y(t){var e=t.changedTouches[0];Zt=parseInt(e.clientX)-$t,_t=parseInt(e.clientY)-Jt;var a=n(Math.atan2(_t,Zt)),r=i(a,15);if("horizontal"===r&&Ut===!1&&(te=!0),te){s&&(st.style[s]="0s");var o=Nt?-(ct+qt-ot)*Z:-(ct-ot)*Z,l=Nt?qt*Z:0;!Nt&&yt&&(o=-(ct*Z-dt.clientWidth)),Qt=-Bt*Z+Zt,Qt=Math.max(o,Math.min(Qt,l)),d?st.style[d]="translate3d("+Qt+"px, 0, 0)":st.style.left=Qt+"px",t.preventDefault()}}function V(t){var e=t.changedTouches[0];if(Zt=parseInt(e.clientX)-$t,te&&0!==Zt){t.preventDefault(),te=!1,Qt=-Bt*Z+Zt;var n,i=Nt?-qt:0,a=Nt?ct+qt-ot:ct-ot;n=-(Qt/Z),n=Zt<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,a)),Bt=n,M(1)}}function $(){clearTimeout(at),at=setTimeout(function(){L()},100)}function J(){Xt||window.requestAnimationFrame(function(){It&&k(),Xt=!1}),Xt=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var Q,Z,_,tt,et,nt,it,at,rt=t.transform,ot=t.items,st=t.container,dt=document.createElement("div"),lt=st.children,ct=lt.length,ut=lt.length,ft=t.gutter,vt="right"===t.gutterPosition?"marginRight":"marginLeft",ht="marginLeft"===vt?ft:0,bt=t.edgePadding,pt=bt?1:0,yt=t.fixedWidth,mt=t.controls,gt=t.controlsText,At=!!t.controlsContainer&&t.controlsContainer,Et=t.nav,xt=!!t.navContainer&&t.navContainer,wt=t.arrowKeys,Lt=s?t.speed:0,Mt=t.autoplay,Tt=t.autoplayTimeout,Ct="forward"===t.autoplayDirection?1:-1,Pt=t.autoplayText,St=t.rewind,Nt=!t.rewind&&t.loop,kt=t.autoHeight,Dt=!yt&&t.responsive,Wt=t.slideByPage,Ot=Wt||"page"===t.slideBy?ot:t.slideBy,It=t.lazyload,Ht=t.touch,qt=Nt?ct:bt?1:0,zt=-1,Bt=0,Gt=!1,jt=!1,Rt=!1,Ft=!1,Ut=!1,Xt=!1;if(Mt)var Kt,Yt,Vt=!1;if(Ht)var $t=0,Jt=0,Qt=0,Zt=0,_t=0,te=!1;var ee=function(){return yt?function(){return Math.max(1,Math.min(ct,Math.floor(dt.clientWidth/yt)))}:function(){var e=t.items,n=document.documentElement.clientWidth,i="object"==typeof Dt&&Object.keys(Dt);if(i)for(var a=0;a<i.length;a++)n>=i[a]&&(e=Dt[i[a]]);return Math.max(1,Math.min(ct,e))}}(),ne=function(){return yt?function(){return yt+ft}:function(){return(dt.clientWidth+ft-2*bt)/ot}}(),ie=function(){return t.navContainer?function(){return ct}:function(){return Math.ceil(ct/ot)}}(),ae=function(){return Bt+qt},re=function(){return s?function(t){st.style[s]=Lt*t/1e3+"s"}:function(){}}(),oe=function(){return d?function(){st.style[d]="translate3d("+-Z*Bt+"px, 0, 0)"}:function(){st.style.left=-Z*Bt+"px"}}();return{init:function(){c(),u(),f(),v(),L(),wt&&document.addEventListener("keydown",j,!1),window.addEventListener("resize",$,!1),window.addEventListener("scroll",J,!1)},destory:function(){if(gn.unwrap(dt),dt=null,st.classList.remove("tiny-content",rt),r(st,["id","style"]),Nt)for(var e=qt;e--;)lt[0].remove(),lt[lt.length-1].remove();r(lt,["id","style","aria-hidden"]),Q=ct=null,mt&&(t.controlsContainer?(r(At,["aria-label"]),r(At.children,["aria-controls","tabindex"]),o(At)):(At.remove(),At=_=tt=null)),Et&&(t.navContainer?(r(xt,["aria-label"]),r(et,["aria-selected","aria-controls","tabindex"]),o(xt)):(xt.remove(),xt=null),et=nt=null),Mt&&(t.navContainer||null===xt?o(Yt):(xt.remove(),xt=null)),Ht&&o(st),wt&&document.removeEventListener("keydown",wt,!1),window.removeEventListener("resize",$,!1),window.removeEventListener("scroll",J,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function a(t,e){if(t=gn.isNodeList(t)?t:[t],"[object Object]"===Object.prototype.toString.call(e))for(var n=t.length;n--;)for(var i in e)t[n].setAttribute(i,e[i])}function r(t,e){t=gn.isNodeList(t)?t:[t],e=e instanceof Array?e:[e];for(var n=e.length,i=t.length;i--;)for(var a=n;a--;)t[i].removeAttribute(e[a])}function o(t){var e=t.cloneNode(!0),n=t.parentNode;n.insertBefore(e,t),t.remove(),t=null}var s=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),d=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),l={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
