var tinySlider=function(){"use strict";function t(t){function f(){Et.className="tiny-slider",gn.wrap(gt,Et),pt=Et.clientWidth}function y(){bt=vn(),vt=Jt-bt-Pt,ct=hn(),ft=pn(),Xt=Ut||"page"===t.slideBy?bt:t.slideBy}function b(){var t=-Lt;Ct&&(St?t=D():t+=Ct+Mt),gt.classList.add("tiny-content",mt,yt),gt.style.cssText+="width: "+(ct+1)*Jt+"px; margin-left: "+t+"px; "+h+": translate3d("+-tn*ct+"px, 0px, 0px);"}function g(){navigator.msMaxTouchPoints&&(Et.classList.add("ms-touch"),Et.addEventListener("scroll",nt,!1))}function E(){""===gt.id?gt.id=dt=n():dt=gt.id;for(var t=0;t<wt;t++)xt[t].id=dt+"item"+t}function x(){if(jt||Ct){for(var t=document.createDocumentFragment(),n=document.createDocumentFragment(),e=Yt;e--;){var i=e%wt,a=xt[i].cloneNode(!0),r=xt[wt-1-i].cloneNode(!0);d(a,"id"),d(r,"id"),t.insertBefore(a,t.firstChild),n.appendChild(r)}gt.appendChild(t),gt.insertBefore(n,gt.firstChild),xt=gt.children}o(xt,{style:"width: "+(ct-Mt)+"px; "+Tt+": "+Mt+"px","aria-hidden":"true"})}function w(){At&&(t.controlsContainer||(gn.append(Et,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+dt+'" type="button">'+Nt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+dt+'" type="button">'+Nt[1]+"</button></div>"),kt=Et.querySelector(".tiny-controls")),st=kt.querySelector('[data-controls="prev"]'),lt=kt.querySelector('[data-controls="next"]'),a(kt,"tabindex")||(o(kt,{"aria-label":"Carousel Navigation"}),o(kt.children,{"aria-controls":dt,tabindex:"-1"})))}function M(){if(Dt){if(!t.navContainer){for(var n="",e=0;e<wt;e++)n+='<button data-slide="'+e+'" tabindex="-1" aria-selected="false" aria-controls="'+dt+"item"+e+'" type="button"></button>';Bt&&(n+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+qt[0]+"</button>"),n='<div class="tiny-nav" aria-label="Carousel Pagination">'+n+"</div>",gn.append(Et,n),Wt=Et.querySelector(".tiny-nav")}if(ut=Wt.querySelectorAll("[data-slide]"),!a(Wt,"aria-label")){o(Wt,{"aria-label":"Carousel Pagination"});for(var i=0;i<wt;i++)o(ut[i],{tabindex:"-1","aria-selected":"false","aria-controls":dt+"item"+i})}for(var r=ft;r<wt;r++)o(ut[r],{hidden:""});Qt=ft}}function T(){Bt&&(Wt||(gn.append(Et,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+qt[0]+"</button></div>"),Wt=Et.querySelector(".tiny-nav")),rn=Wt.querySelector("[data-action]"),K())}function L(){for(var t=tn;t<tn+bt;t++)o(xt[t],{"aria-hidden":"false"});At&&(o(lt,{tabindex:"0"}),(tn===Pt&&!jt||Gt)&&(st.disabled=!0)),Dt&&o(ut[0],{tabindex:"0","aria-selected":"true"})}function C(){if(p&&gt.addEventListener(p,F,!1),Kt&&(gt.addEventListener("touchstart",et,!1),gt.addEventListener("touchmove",it,!1),gt.addEventListener("touchend",at,!1),gt.addEventListener("touchcancel",at,!1)),Dt)for(var t=0;t<wt;t++)ut[t].addEventListener("click",V,!1),ut[t].addEventListener("keydown",tt,!1);if(At&&(st.addEventListener("click",U,!1),lt.addEventListener("click",X,!1),st.addEventListener("keydown",_,!1),lt.addEventListener("keydown",_,!1)),Bt&&(rn.addEventListener("click",J,!1),At&&(st.addEventListener("click",Q,!1),lt.addEventListener("click",Q,!1)),Dt))for(var n=0;n<wt;n++)ut[n].addEventListener("click",Q,!1);It&&document.addEventListener("keydown",Z,!1),window.addEventListener("resize",rt,!1),window.addEventListener("scroll",ot,!1)}function P(){if(Vt&&gn.isInViewport(gt)){for(var t=[],n=tn-1;n<tn+bt+1;n++){for(var e=xt[n].querySelectorAll(".tiny-lazy"),i=e.length;i--;t.unshift(e[i]));t.unshift()}for(var a=t.length;a--;){var o=t[a];o.classList.contains("loaded")||(o.src=r(o,"data-src"),o.classList.add("loaded"))}}}function S(){if(Ft){for(var t=[],n=tn-1;n<tn+bt;n++)for(var e=xt[n].querySelectorAll("img"),i=e.length;i--;)t.push(e[i]);0===t.length?W():A(t)}}function A(t){for(var n=t.length;n--;)u(t[n])&&t.splice(n,1);0===t.length?W():setTimeout(function(){A(t)},16)}function N(){f(),y(),b(),g(),E(),x(),w(),M(),T(),L(),C(),k(),P(),S()}function k(){wt<=bt?(Dt=At=Bt=jt=Gt=!1,tn=Yt,Wt&&s(Wt),kt&&s(kt),rn&&s(rn)):(Dt=t.nav,At=t.controls,Bt=t.autoplay,jt=!t.rewind&&t.loop,Gt=t.rewind,Dt&&l(Wt),At&&l(kt),Bt&&l(rn))}function D(){return(pt-ct*Math.floor(pt/ct)+Mt)/2}function W(){for(var t,n=[],e=tn-Pt;e<tn+bt;e++)n.push(xt[e].offsetHeight);t=Math.max.apply(null,n),yn(1),gt.style.height=t+"px"}function I(){Et.style.msScrollSnapPointsX="snapInterval(0%, "+ct+")"}function O(){var t,n,e,i;tn!==nn&&(tn>nn?(t=nn,n=Math.min(nn+bt,tn),e=Math.max(nn+bt,tn),i=tn+bt):(t=Math.max(tn+bt,nn),n=nn+bt,e=tn,i=Math.min(tn+bt,nn))),nn=tn,Xt%1!==0&&(t=Math.round(t),n=Math.round(n),e=Math.round(e),i=Math.round(i));for(var a=t;a<n;a++)o(xt[a],{"aria-hidden":"true"});for(var r=e;r<i;r++)o(xt[r],{"aria-hidden":"false"})}function B(){if(ft!==Qt)if(ft>Qt)for(var t=Qt;t<ft;t++)d(ut[t],"hidden");else for(var n=ft;n<Qt;n++)o(ut[n],{hidden:""});Qt=ft}function H(){if(Dt){if(Zt===-1){var n=tn<Yt?tn+wt:(tn-Yt)%wt;t.navContainer?$t=n:($t=Math.floor(n/bt),jt||wt%bt===0||tn!==vt||($t+=1))}else $t=Zt,Zt=-1;$t!==_t&&(o(ut[_t],{tabindex:"-1","aria-selected":"false"}),o(ut[$t],{tabindex:"0","aria-selected":"true"}),_t=$t)}}function z(){if(At&&!jt)if(tn===Pt||!Gt&&tn===vt){var t=tn===Pt?st:lt,n=tn===Pt?lt:st;$(t,n),t.disabled=!0,o(t,{tabindex:"-1"}),n.disabled=!1,o(n,{tabindex:"0"})}else st.disabled=!1,lt.disabled=!1}function q(t,n){v&&yn(t),bn(n)}function G(){var t=Xt+Pt,n=Jt-bt-Xt-1;(tn<t||tn>n)&&(tn-wt>=t&&tn-wt<=n?tn-=wt:tn+=wt,q(0))}function j(t){o(gt,{"aria-busy":"true"}),q(t),p||F()}function F(t){p&&"height"===t.propertyName||(jt&&G(),O(),H(),z(),P(),S(),d(gt,"aria-busy"))}function R(t){if("true"!==r(gt,"aria-busy")){var n=tn+t*Xt,e=Math.abs(t*Xt);tn=jt?n:Math.max(Pt,Math.min(n,vt)),j(e)}}function U(){R(-1)}function X(){R(Gt&&tn===wt-bt?(bt-wt)/Xt:1)}function V(n){if("true"!==r(gt,"aria-busy")){for(var e,i,a=n.target||n.srcElement;gn.indexOf(ut,a)===-1;)a=a.parentNode;e=Zt=Number(r(a,"data-slide")),tn=t.navContainer?e+Yt:e*bt+Yt,tn=jt?tn:Math.min(tn,vt),i=Math.abs(tn-nn),j(i)}}function K(){an=setInterval(function(){R(zt)},Ht),rn.setAttribute("data-action","stop"),rn.innerHTML="<span hidden>Stop Animation</span>"+qt[1],on=!0}function Y(){clearInterval(an),rn.setAttribute("data-action","start"),rn.innerHTML="<span hidden>Stop Animation</span>"+qt[0],on=!1}function J(){on?Y():K()}function Q(){on&&Y()}function Z(t){t=t||window.event,t.keyCode===m.LEFT?R(-1):t.keyCode===m.RIGHT&&R(Gt&&tn===wt-bt?(bt-wt)/Xt:1)}function $(t,n){"object"==typeof t&&"object"==typeof n&&t===document.activeElement&&(t.blur(),n.focus())}function _(t){t=t||window.event;var n=t.keyCode,e=document.activeElement;switch(n){case m.LEFT:case m.UP:case m.HOME:case m.PAGEUP:e!==st&&st.disabled!==!0&&$(e,st);break;case m.RIGHT:case m.DOWN:case m.END:case m.PAGEDOWN:e!==lt&&lt.disabled!==!0&&$(e,lt);break;case m.ENTER:case m.SPACE:e===lt?X():U()}}function tt(t){t=t||window.event;var n=t.keyCode,e=document.activeElement,i=r(e,"data-slide");switch(n){case m.LEFT:case m.PAGEUP:i>0&&$(e,e.previousElementSibling);break;case m.UP:case m.HOME:0!==i&&$(e,ut[0]);break;case m.RIGHT:case m.PAGEDOWN:i<ft-1&&$(e,e.nextElementSibling);break;case m.DOWN:case m.END:i<ft-1&&$(e,ut[ft-1]);break;case m.ENTER:case m.SPACE:V(t)}}function nt(){q(0,gt.scrollLeft())}function et(t){var n=t.changedTouches[0];un=parseInt(n.clientX),fn=parseInt(n.clientY),dn=Number(gt.style[h].slice(12,-13))}function it(t){var n=t.changedTouches[0];cn=parseInt(n.clientX)-un,sn=parseInt(n.clientY)-fn,"horizontal"===i(e(sn,cn),15)&&(ln=!0,t.preventDefault(),q(0,dn+cn))}function at(t){var n=t.changedTouches[0];if(cn=parseInt(n.clientX)-un,ln&&0!==cn){ln=!1,t.preventDefault();var e=-(dn+cn)/ct;e=cn>0?Math.floor(e):Math.ceil(e),tn=Math.max(Pt,Math.min(e,vt));var i=-tn*ct;jt||Ct||!St||(i=Math.max(-(ct*wt-pt),i)),q(1,i),p||F()}}function rt(){clearTimeout(ht),ht=setTimeout(function(){Et.clientWidth!==pt&&(pt=Et.clientWidth,y(),k(),mn(),B(),navigator.msMaxTouchPoints&&I(),q(0),p||F())},100)}function ot(){en||window.requestAnimationFrame(function(){P(),en=!1}),en=!0}if(t=gn.extend({container:document.querySelector(".slider"),mode:"carousel",direction:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var dt,ct,st,lt,ut,ft,vt,ht,pt,mt=t.mode,yt=t.direction,bt=t.items,gt=t.container,Et=document.createElement("div"),xt=gt.children,wt=xt.length,Mt=t.gutter,Tt="right"===t.gutterPosition?"margin-right":"margin-left",Lt="left"===t.gutterPosition?Mt:0,Ct=t.edgePadding,Pt=Ct?1:0,St=t.fixedWidth,At=t.controls,Nt=t.controlsText,kt=!!t.controlsContainer&&t.controlsContainer,Dt=t.nav,Wt=!!t.navContainer&&t.navContainer,It=t.arrowKeys,Ot=v?t.speed:0,Bt=t.autoplay,Ht=t.autoplayTimeout,zt="forward"===t.autoplayDirection?1:-1,qt=t.autoplayText,Gt=t.rewind,jt=!t.rewind&&t.loop,Ft=t.autoHeight,Rt=!St&&t.responsive,Ut=t.slideByPage,Xt=Ut||"page"===t.slideBy?bt:t.slideBy,Vt=t.lazyload,Kt=t.touch,Yt=jt?Math.ceil(1.5*wt):Ct?1:0,Jt=wt+2*Yt,Qt=wt,Zt=-1,$t=0,_t=0,tn=Yt,nn=tn,en=!1;if(Bt)var an,rn,on=!1;if(Kt)var dn,cn,sn,ln,un=0,fn=0;var vn=function(){return St?function(){return Math.max(1,Math.min(wt,Math.floor(pt/St)))}:function(){var n=t.items,e=document.documentElement.clientWidth,i="object"==typeof Rt&&Object.keys(Rt);if(i)for(var a=0;a<i.length;a++)e>=i[a]&&(n=Rt[i[a]]);return Math.max(1,Math.min(wt,n))}}(),hn=function(){return St?function(){return St+Mt}:navigator.appVersion.indexOf("MSIE 8")>0?Ct?function(){return Math.round((pt-Mt-2*Ct)/bt)}:function(){return Math.round((pt+Mt)/bt)}:Ct?function(){return(pt-Mt-2*Ct)/bt}:function(){return(pt+Mt)/bt}}(),pn=function(){return t.navContainer?function(){return wt}:function(){return Math.ceil(wt/bt)}}(),mn=function(){return St?Ct?function(){gt.style.marginLeft=D()+"px"}:void 0:function(){gt.style.width=(ct+1)*Jt+"px";for(var t=Jt;t--;)xt[t].style.width=ct-Mt+"px"}}(),yn=function(){return v?function(t){gt.style[v]=Ot*t/1e3+"s"}:function(){}}(),bn=function(){return h?function(t){var n=t||-ct*tn;gt.style[h]="translate3d("+n+"px, 0, 0)"}:function(t){var n=t||-ct*tn;gt.style.left=n+"px"}}();return{init:N,destory:function(){if(gn.unwrap(Et),Et=null,gt.classList.remove("tiny-content",mt,yt),d(gt,["id","style"]),jt)for(var n=Yt;n--;)xt[0].remove(),xt[xt.length-1].remove();d(xt,["id","style","aria-hidden"]),dt=wt=null,At&&(t.controlsContainer?(d(kt,["aria-label"]),d(kt.children,["aria-controls","tabindex"]),c(kt)):(kt.remove(),kt=st=lt=null)),Dt&&(t.navContainer?(d(Wt,["aria-label"]),d(ut,["aria-selected","aria-controls","tabindex"]),c(Wt)):(Wt.remove(),Wt=null),ut=null),Bt&&(t.navContainer||null===Wt?c(rn):(Wt.remove(),Wt=null)),c(gt),It&&document.removeEventListener("keydown",Z,!1),window.removeEventListener("resize",rt,!1),window.removeEventListener("scroll",ot,!1)},hasAttr:a,getAttr:r,setAttrs:o,removeAttrs:d,removeEvents:c,getSlideId:n,toDegree:e,getPanDirection:i,hideElement:s,showElement:l,mode:mt,direction:yt,gutter:Mt,edgePadding:Ct,fixedWidth:St,controls:At,nav:Dt,rewind:Gt,loop:jt,autoHeight:Ft,slideBy:Xt,lazyload:Vt,touch:Kt,speed:Ot,items:vn(),cloneCount:Yt,navCountVisible:function(){return ft},index:function(){return tn},slideWidth:function(){return ct},slideContainer:gt,slideItems:xt,slideCount:wt,controlsContainer:function(){return kt},prevButton:function(){return st},nextButton:function(){return lt},navContainer:function(){return Wt},allNavs:function(){return ut}}}function n(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function e(t,n){return Math.atan2(t,n)*(180/Math.PI)}function i(t,n){return Math.abs(90-Math.abs(t))>=90-n?"horizontal":Math.abs(90-Math.abs(t))<=n&&"vertical"}function a(t,n){return t.hasAttribute(n)}function r(t,n){return t.getAttribute(n)}function o(t,n){if(t=gn.isNodeList(t)||t instanceof Array?t:[t],"[object Object]"===Object.prototype.toString.call(n))for(var e=t.length;e--;)for(var i in n)t[e].setAttribute(i,n[i])}function d(t,n){t=gn.isNodeList(t)||t instanceof Array?t:[t],n=n instanceof Array?n:[n];for(var e=n.length,i=t.length;i--;)for(var a=e;a--;)t[i].removeAttribute(n[a])}function c(t){var n=t.cloneNode(!0),e=t.parentNode;e.insertBefore(n,t),t.remove(),t=null}function s(t){a(t,"hidden")||o(t,{hidden:""})}function l(t){a(t,"hidden")&&d(t,"hidden")}function u(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function f(){var t,n=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==n.style[t])return e[t];return!1}var v=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),h=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),p=f(),m={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
