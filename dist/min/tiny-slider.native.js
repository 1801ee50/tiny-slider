var tinySlider=function(){"use strict";function t(t){function p(){gt.className="tiny-slider",gn.wrap(bt,gt),ht=gt.clientWidth}function m(){yt=fn(),dt=vn(),lt=hn(),Ut=Rt||"page"===t.slideBy?yt:t.slideBy}function y(){var t=Pt?k():Ct+wt;bt.classList.add("tiny-content",pt,mt),bt.style.cssText+="width: "+(dt+1)*Yt+"px; margin-left: "+-(Kt*dt+Lt)+"px; padding-left: "+t+"px"}function b(){navigator.msMaxTouchPoints&&(gt.classList.add("ms-touch"),gt.addEventListener("scroll",tt,!1))}function g(){""===bt.id?bt.id=ot=n():ot=bt.id;for(var t=0;t<xt;t++)Et[t].id=ot+"item"+t}function E(){if(Gt||Ct){for(var t=document.createDocumentFragment(),n=document.createDocumentFragment(),e=Kt;e--;){var i=e%xt,a=Et[i].cloneNode(!0),r=Et[xt-1-i].cloneNode(!0);d(a,"id"),d(r,"id"),t.insertBefore(a,t.firstChild),n.appendChild(r)}bt.appendChild(t),bt.insertBefore(n,bt.firstChild),Et=bt.children}o(Et,{style:"width: "+(dt-wt)+"px; "+Mt+": "+wt+"px","aria-hidden":"true"})}function x(){At&&(t.controlsContainer||(gn.append(gt,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+ot+'" type="button">'+St[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+ot+'" type="button">'+St[1]+"</button></div>"),Nt=gt.querySelector(".tiny-controls")),ct=Nt.querySelector('[data-controls="prev"]'),ut=Nt.querySelector('[data-controls="next"]'),a(Nt,"tabindex")||(o(Nt,{"aria-label":"Carousel Navigation"}),o(Nt.children,{"aria-controls":ot,tabindex:"-1"})))}function w(){if(kt){if(!t.navContainer){for(var n="",e=0;e<xt;e++)n+='<button data-slide="'+e+'" tabindex="-1" aria-selected="false" aria-controls="'+ot+"item"+e+'" type="button"></button>';Ot&&(n+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+qt[0]+"</button>"),n='<div class="tiny-nav" aria-label="Carousel Pagination">'+n+"</div>",gn.append(gt,n),Dt=gt.querySelector(".tiny-nav")}if(st=Dt.querySelectorAll("[data-slide]"),!a(Dt,"aria-label")){o(Dt,{"aria-label":"Carousel Pagination"});for(var i=0;i<xt;i++)o(st[i],{tabindex:"-1","aria-selected":"false","aria-controls":ot+"item"+i})}for(var r=lt;r<xt;r++)o(st[r],{hidden:""});Jt=lt}}function M(){Ot&&(Dt||(gn.append(gt,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+qt[0]+"</button></div>"),Dt=gt.querySelector(".tiny-nav")),an=Dt.querySelector("[data-action]"),V())}function L(){ft=pn();for(var t=ft;t<ft+yt;t++)o(Et[t],{"aria-hidden":"false"});At&&(o(ut,{tabindex:"0"}),(0===_t&&!Gt||zt)&&(ct.disabled=!0)),kt&&o(st[0],{tabindex:"0","aria-selected":"true"})}function C(){if(Vt&&(bt.addEventListener("touchstart",nt,!1),bt.addEventListener("touchmove",et,!1),bt.addEventListener("touchend",it,!1),bt.addEventListener("touchcancel",it,!1)),kt)for(var t=0;t<xt;t++)st[t].addEventListener("click",X,!1),st[t].addEventListener("keydown",_,!1);if(At&&(ct.addEventListener("click",R,!1),ut.addEventListener("click",U,!1),ct.addEventListener("keydown",$,!1),ut.addEventListener("keydown",$,!1)),Ot&&(an.addEventListener("click",Y,!1),At&&(ct.addEventListener("click",J,!1),ut.addEventListener("click",J,!1)),kt))for(var n=0;n<xt;n++)st[n].addEventListener("click",J,!1);Wt&&document.addEventListener("keydown",Q,!1),window.addEventListener("resize",at,!1),window.addEventListener("scroll",rt,!1)}function T(){if(Xt&&gn.isInViewport(bt)){for(var t=[],n=_t+Kt,e=n-1;e<n+yt+1;e++){for(var i=Et[e].querySelectorAll(".tiny-lazy"),a=i.length;a--;t.unshift(i[a]));t.unshift()}for(var o=t.length;o--;){var d=t[o];d.classList.contains("loaded")||(d.src=r(d,"data-src"),d.classList.add("loaded"))}}}function P(){if(jt){var t=[];ft=pn();for(var n=ft-1;n<ft+yt;n++)for(var e=Et[n].querySelectorAll("img"),i=e.length;i--;)t.push(e[i]);0===t.length?D():A(t)}}function A(t){for(var n=t.length;n--;)l(t[n])&&t.splice(n,1);0===t.length?D():setTimeout(function(){A(t)},16)}function S(){p(),m(),y(),b(),g(),E(),x(),w(),M(),L(),C(),N(),T(),P()}function N(){xt<=yt?(kt=At=Ot=Gt=zt=!1,_t=0,Dt&&u(Dt),Nt&&u(Nt),an&&u(an)):(kt=t.nav,At=t.controls,Ot=t.autoplay,Gt=!t.rewind&&t.loop,zt=t.rewind,kt&&s(Dt),At&&s(Nt),Ot&&s(an))}function k(){return(ht-dt*Math.floor(ht/dt)+wt)/2}function D(){var t,n=[];ft=pn();for(var e=ft-Tt;e<ft+yt;e++)n.push(Et[e].offsetHeight);t=Math.max.apply(null,n),yn(1),bt.style.height=t+"px",tn=!0,setTimeout(function(){tn=!1},It)}function W(){gt.style.msScrollSnapPointsX="snapInterval(0%, "+dt+")"}function I(){var t,n,e,i,a=ft;ft=pn(),ft!==a&&(ft>a?(t=a,n=Math.min(a+yt,ft),e=Math.max(a+yt,ft),i=ft+yt):(t=Math.max(ft+yt,a),n=a+yt,e=ft,i=Math.min(ft+yt,a))),Ut%1!==0&&(t=Math.round(t),n=Math.round(n),e=Math.round(e),i=Math.round(i));for(var r=t;r<n;r++)o(Et[r],{"aria-hidden":"true"});for(var d=e;d<i;d++)o(Et[d],{"aria-hidden":"false"})}function O(){if(lt!==Jt)if(lt>Jt)for(var t=Jt;t<lt;t++)d(st[t],"hidden");else for(var n=lt;n<Jt;n++)o(st[n],{hidden:""});Jt=lt}function B(){var n;if(Qt===-1){var e=_t<0?_t+xt:_t%xt;if(t.navContainer)return e;var n=Math.floor(e/yt);return Gt||xt%yt===0||_t!==xt-yt||(n+=1),n}return n=Qt,Qt=-1,n}function H(){kt&&(Zt=B(),Zt!==$t&&(o(st[$t],{tabindex:"-1","aria-selected":"false"}),o(st[Zt],{tabindex:"0","aria-selected":"true"}),$t=Zt))}function q(){if(At&&!Gt)if(0===_t||!zt&&_t===xt-yt){var t=0===_t?ct:ut,n=0===_t?ut:ct;Z(t,n),t.disabled=!0,o(t,{tabindex:"-1"}),n.disabled=!1,o(n,{tabindex:"0"})}else ct.disabled=!1,ut.disabled=!1}function z(){var t=Ut-Kt+Tt,n=xt+Kt-yt-Ut-1;(_t<t||_t>n)&&(_t-xt>=t&&_t-xt<=n?_t-=xt:_t+=xt,tn=!0,yn(0),bn(),tn=!1)}function G(t){bt.setAttribute("aria-busy","true"),tn=!0,yn(t),bn(),setTimeout(function(){Gt&&z(),j(),tn=!1,bt.setAttribute("aria-busy","false")},It*t)}function j(){I(),H(),q(),T(),P()}function F(t){if(!tn){var n=_t+t*Ut,e=Math.abs(t*Ut);_t=Gt?n:Math.max(0,Math.min(n,xt-yt)),G(e)}}function R(){F(-1)}function U(){F(zt&&_t===xt-yt?(yt-xt)/Ut:1)}function X(n){if(!tn){for(var e,i=n.target||n.srcElement;gn.indexOf(st,i)===-1;)i=i.parentNode;Qt=e=Number(r(i,"data-slide"));var a,o;a=t.navContainer?e:e*yt,a=Gt?a:Math.min(a,xt-yt),o=Math.abs(a-_t),_t=a,G(o)}}function V(){en=setInterval(function(){F(Ht)},Bt),an.setAttribute("data-action","stop"),an.innerHTML="<span hidden>Stop Animation</span>"+qt[1],rn=!0}function K(){clearInterval(en),an.setAttribute("data-action","start"),an.innerHTML="<span hidden>Stop Animation</span>"+qt[0],rn=!1}function Y(){rn?K():V()}function J(){rn&&K()}function Q(t){t=t||window.event,t.keyCode===h.LEFT?F(-1):t.keyCode===h.RIGHT&&F(zt&&_t===xt-yt?(yt-xt)/Ut:1)}function Z(t,n){"object"==typeof t&&"object"==typeof n&&t===document.activeElement&&(t.blur(),n.focus())}function $(t){t=t||window.event;var n=t.keyCode,e=document.activeElement;switch(n){case h.LEFT:case h.UP:case h.HOME:case h.PAGEUP:e!==ct&&ct.disabled!==!0&&Z(e,ct);break;case h.RIGHT:case h.DOWN:case h.END:case h.PAGEDOWN:e!==ut&&ut.disabled!==!0&&Z(e,ut);break;case h.ENTER:case h.SPACE:e===ut?U():R()}}function _(t){t=t||window.event;var n=t.keyCode,e=document.activeElement,i=r(e,"data-slide");switch(n){case h.LEFT:case h.PAGEUP:i>0&&Z(e,e.previousElementSibling);break;case h.UP:case h.HOME:0!==i&&Z(e,st[0]);break;case h.RIGHT:case h.PAGEDOWN:i<lt-1&&Z(e,e.nextElementSibling);break;case h.DOWN:case h.END:i<lt-1&&Z(e,st[lt-1]);break;case h.ENTER:case h.SPACE:X(t)}}function tt(){yn(0),bn(bt.scrollLeft())}function nt(t){var n=t.changedTouches[0];on=parseInt(n.clientX),dn=parseInt(n.clientY)}function et(t){var n=t.changedTouches[0];un=parseInt(n.clientX)-on,sn=parseInt(n.clientY)-dn;var a=i(e(sn,un),15);if("horizontal"===a&&tn===!1&&(ln=!0),ln){var r=Gt?-(xt+Kt-yt)*dt:-(xt-yt)*dt,o=Gt?Kt*dt:0;!Gt&&Pt&&(r=-(xt*dt-ht)),cn=-_t*dt+un,cn=Math.max(r,Math.min(cn,o)),yn(0),bn(cn),t.preventDefault()}}function it(t){var n=t.changedTouches[0];if(un=parseInt(n.clientX)-on,ln&&0!==un){t.preventDefault(),ln=!1,cn=-_t*dt+un;var e,i=Gt?-Kt:0,a=Gt?xt+Kt-yt:xt-yt;e=-(cn/dt),e=un<0?Math.ceil(e):Math.floor(e),e=Math.max(i,Math.min(e,a)),_t=e,G(1)}}function at(){clearTimeout(vt),vt=setTimeout(function(){gt.clientWidth!==ht&&(ht=gt.clientWidth,m(),N(),mn(),O(),navigator.msMaxTouchPoints&&W(),yn(0),bn(),Gt&&z(),j())},100)}function rt(){nn||window.requestAnimationFrame(function(){T(),nn=!1}),nn=!0}if(t=gn.extend({container:document.querySelector(".slider"),mode:"carousel",direction:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,slideByPage:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var ot,dt,ct,ut,st,lt,ft,vt,ht,pt=t.mode,mt=t.direction,yt=t.items,bt=t.container,gt=document.createElement("div"),Et=bt.children,xt=Et.length,wt=t.gutter,Mt="right"===t.gutterPosition?"margin-right":"margin-left",Lt="left"===t.gutterPosition?wt:0,Ct=t.edgePadding,Tt=Ct?1:0,Pt=t.fixedWidth,At=t.controls,St=t.controlsText,Nt=!!t.controlsContainer&&t.controlsContainer,kt=t.nav,Dt=!!t.navContainer&&t.navContainer,Wt=t.arrowKeys,It=f?t.speed:0,Ot=t.autoplay,Bt=t.autoplayTimeout,Ht="forward"===t.autoplayDirection?1:-1,qt=t.autoplayText,zt=t.rewind,Gt=!t.rewind&&t.loop,jt=t.autoHeight,Ft=!Pt&&t.responsive,Rt=t.slideByPage,Ut=Rt||"page"===t.slideBy?yt:t.slideBy,Xt=t.lazyload,Vt=t.touch,Kt=Gt?Math.ceil(1.5*xt):Ct?1:0,Yt=xt+2*Kt,Jt=xt,Qt=-1,Zt=0,$t=0,_t=0,tn=!1,nn=!1;if(Ot)var en,an,rn=!1;if(Vt)var on=0,dn=0,cn=0,un=0,sn=0,ln=!1;var fn=function(){return Pt?function(){return Math.max(1,Math.min(xt,Math.floor(ht/Pt)))}:function(){var n=t.items,e=document.documentElement.clientWidth,i="object"==typeof Ft&&Object.keys(Ft);if(i)for(var a=0;a<i.length;a++)e>=i[a]&&(n=Ft[i[a]]);return Math.max(1,Math.min(xt,n))}}(),vn=function(){return Pt?function(){return Pt+wt}:navigator.appVersion.indexOf("MSIE 8")>0?function(){return Math.round((ht-wt-2*Ct)/yt)}:function(){return(ht-wt-2*Ct)/yt}}(),hn=function(){return t.navContainer?function(){return xt}:function(){return Math.ceil(xt/yt)}}(),pn=function(){return Kt+_t},mn=function(){return Pt?function(){bt.style.paddingLeft=k()+"px"}:function(){bt.style.width=(dt+1)*Yt+"px",bt.style.marginLeft=-(Kt*dt+Lt)+"px";for(var t=Yt;t--;)Et[t].style.width=dt-wt+"px"}}(),yn=function(){return f?function(t){bt.style[f]=It*t/1e3+"s"}:function(){}}(),bn=function(){return v?function(t){var n=t||-dt*_t;bt.style[v]="translate3d("+n+"px, 0, 0)"}:function(t){var n=t||-dt*_t;bt.style.left=n+"px"}}();return{init:S,destory:function(){if(gn.unwrap(gt),gt=null,bt.classList.remove("tiny-content",pt,mt),d(bt,["id","style"]),Gt)for(var n=Kt;n--;)Et[0].remove(),Et[Et.length-1].remove();d(Et,["id","style","aria-hidden"]),ot=xt=null,At&&(t.controlsContainer?(d(Nt,["aria-label"]),d(Nt.children,["aria-controls","tabindex"]),c(Nt)):(Nt.remove(),Nt=ct=ut=null)),kt&&(t.navContainer?(d(Dt,["aria-label"]),d(st,["aria-selected","aria-controls","tabindex"]),c(Dt)):(Dt.remove(),Dt=null),st=null),Ot&&(t.navContainer||null===Dt?c(an):(Dt.remove(),Dt=null)),Vt&&c(bt),Wt&&document.removeEventListener("keydown",Q,!1),window.removeEventListener("resize",at,!1),window.removeEventListener("scroll",rt,!1)},hasAttr:a,getAttr:r,setAttrs:o,removeAttrs:d,removeEvents:c,getSliderId:n,toDegree:e,getPanDirection:i,hideElement:u,showElement:s,mode:pt,direction:mt,gutter:wt,gutterPosition:t.gutterPosition,edgePadding:Ct,fixedWidth:Pt,controls:At,nav:kt,rewind:zt,loop:Gt,autoHeight:jt,slideBy:Ut,lazyload:Xt,touch:Vt,speed:It,items:fn(),cloneCount:Kt,navCountVisible:function(){return lt},index:function(){return _t},slideWidth:function(){return dt},running:function(){return tn},sliderContainer:bt,slideItems:Et,slideCount:xt,controlsContainer:function(){return Nt},prevButton:function(){return ct},nextButton:function(){return ut},navContainer:function(){return Dt},allNavs:function(){return st}}}function n(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function e(t,n){return Math.atan2(t,n)*(180/Math.PI)}function i(t,n){return Math.abs(90-Math.abs(t))>=90-n?"horizontal":Math.abs(90-Math.abs(t))<=n&&"vertical"}function a(t,n){return t.hasAttribute(n)}function r(t,n){return t.getAttribute(n)}function o(t,n){if(t=gn.isNodeList(t)||t instanceof Array?t:[t],"[object Object]"===Object.prototype.toString.call(n))for(var e=t.length;e--;)for(var i in n)t[e].setAttribute(i,n[i])}function d(t,n){t=gn.isNodeList(t)||t instanceof Array?t:[t],n=n instanceof Array?n:[n];for(var e=n.length,i=t.length;i--;)for(var a=e;a--;)t[i].removeAttribute(n[a])}function c(t){var n=t.cloneNode(!0),e=t.parentNode;e.insertBefore(n,t),t.remove(),t=null}function u(t){a(t,"hidden")||o(t,{hidden:""})}function s(t){a(t,"hidden")&&d(t,"hidden")}function l(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}var f=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),v=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),h={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
