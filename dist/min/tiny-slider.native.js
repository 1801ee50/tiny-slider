var tinySlider=function(){"use strict";function t(t){function l(){_.style.width=U*it+"px";var t;t=0!==rt&&"marginLeft"===at?gt?B*U+rt:rt:B*U,_.style.marginLeft=-t+"px";for(var e=it;e--;)et[e].style.width=U-rt+"px",0!==rt&&(et[e].style[at]=rt+"px")}function d(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function u(t){for(var e=t.length;e--;)d(t[e])&&t.splice(e,1);0===t.length?v():setTimeout(function(){u(t)},16)}function c(){for(var t=Bt(),e=[],n=it;n--;)if(n>=t&&n<t+X)for(var i=et[n].querySelectorAll("img"),r=i.length;r--;)e.push(i[r]);0===e.length?v():u(e)}function v(){for(var t,e=Bt(),n=[],i=it;i--;)i>=e&&i<e+X&&n.push(et[i].offsetHeight);t=Math.max.apply(null,n),a&&(_.style[a]=ft/1e3+"s"),_.style.height=t+"px",Ct=!0,setTimeout(function(){a&&(_.style[a]="0s"),Ct=!1},ft)}function f(t){a&&(_.style[a]=ft*t/1e3+"s",Ct=!0)}function h(){navigator.msMaxTouchPoints&&(_.parentNode.style.msScrollSnapPointsX="snapInterval(0%, "+U+")")}function m(){for(var t=it;t--;){var e=Bt(),n=et[t];t>=e&&t<e+X?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function b(){gt||(nt>X?(0===Mt?(K.disabled=!0,W(K,Y)):K.disabled=!1,Mt!==nt-X||yt?Y.disabled=!1:(Y.disabled=!0,W(Y,K))):(0!==Mt&&(Mt=0,g()),K.disabled=!0,Y.disabled=!0,K.setAttribute("tabindex","-1"),Y.setAttribute("tabindex","-1"),K===document.activeElement&&K.blur(),Y===document.activeElement&&Y.blur()))}function p(){if(ut&&!t.navContainer)for(var e=$;e--;){var n=V[e];e<J?n.hasAttribute("hidden")&&n.removeAttribute("hidden"):n.hasAttribute("hidden")||n.setAttribute("hidden","")}}function y(){if(ut){var e;if(wt===-1){var n=Mt<0?Mt+nt:Mt>=nt?Mt-nt:Mt;if(e=t.navContainer?n:Math.floor(n/X),!gt&&!t.navContainer){var i=/^-?[0-9]+$/,r=i.test(nt/X);r||Mt!==nt-X||(e+=1)}}else e=wt,wt=-1;for(var a=J;a--;){var o=V[a];a===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}}function g(){var t=_.parentNode.offsetWidth;Dt=-U*Mt,ot&&!gt&&(Dt=Math.max(Dt,-Math.abs(nt*U-rt-t))),o?_.style[o]="translate3d("+Dt+"px, 0, 0)":_.style.left=Dt+"px"}function E(){l(),h(),g(),p(),y(),m(),b(),Et&&c(),Lt&&O()}function A(){if(gt){var t=At?Mt<X-B:Mt<=-B,e=At?Mt>nt+B-2*X-1:Mt>=nt+B-X;ot&&B&&!At&&(e=Mt>=nt+B-X-1),t&&(Mt+=nt),e&&(Mt-=nt),a&&(_.style[a]="0s"),g()}}function L(t){_.setAttribute("aria-busy","true"),f(t),g(),setTimeout(function(){A(),m(),b(),y(),O(),Et&&c(),Ct=!1,_.setAttribute("aria-busy","false")},ft*t)}function x(t){if(!Ct){t=At?t*X:t;var e=Math.abs(t);Mt=gt?Mt+t:Math.max(0,Math.min(Mt+t,nt-X)),L(e)}}function w(){x(-1)}function M(){x(Mt===nt-X&&yt?-nt+X:1)}function C(e){if(!Ct){for(var n,i=e.target||e.srcElement;gn.indexOf(V,i)===-1;)i=i.parentNode;wt=n=Number(i.getAttribute("data-slide"));var r,a;r=t.navContainer?n:n*X,r=gt?r:Math.min(r,nt-X),a=Math.abs(r-Mt),Mt=r,L(a)}}function T(){kt=setInterval(function(){x(bt)},mt),St.setAttribute("data-action","stop"),St.innerHTML="<span hidden>Stop Animation</span>"+pt[1],Pt=!0}function k(){clearInterval(kt),St.setAttribute("data-action","start"),St.innerHTML="<span hidden>Stop Animation</span>"+pt[0],Pt=!1}function S(){Pt?k():T()}function P(){Pt&&k()}function N(t){t=t||window.event,t.keyCode===s.LEFT?x(-1):t.keyCode===s.RIGHT&&x(1)}function W(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function D(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.UP&&e!==s.HOME&&e!==s.PAGEUP||n!==K&&K.disabled!==!0&&W(n,K),e!==s.RIGHT&&e!==s.DOWN&&e!==s.END&&e!==s.PAGEDOWN||n!==Y&&Y.disabled!==!0&&W(n,Y),e!==s.ENTER&&e!==s.SPACE||(n===Y?M():w())}function I(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==s.LEFT&&e!==s.PAGEUP||n.getAttribute("data-slide")>0&&W(n,n.previousElementSibling),e!==s.UP&&e!==s.HOME||0!==n.getAttribute("data-slide")&&W(n,V[0]),e!==s.RIGHT&&e!==s.PAGEDOWN||n.getAttribute("data-slide")<J-1&&W(n,n.nextElementSibling),e!==s.DOWN&&e!==s.END||n.getAttribute("data-slide")<J-1&&W(n,V[J-1]),e!==s.ENTER&&e!==s.SPACE||C(t)}function O(){if(gn.isInViewport(_)){var t=_.querySelectorAll('[aria-hidden="false"] .tiny-lazy');if(0!==t.length)for(var e=0,n=t.length;e<n;e++)t[e].classList.contains("loaded")||(t[e].src=t[e].getAttribute("data-src"),t[e].classList.add("loaded"))}}function H(){_.style[a]="0s",_.style.transform="translate3d(-"+-_.scrollLeft()+"px,0,0)"}function q(t){var e=t.changedTouches[0];Nt=parseInt(e.clientX),Wt=parseInt(e.clientY)}function z(t){var e=t.changedTouches[0];It=parseInt(e.clientX)-Nt,Ot=parseInt(e.clientY)-Wt;var r=n(Math.atan2(Ot,It)),s=i(r,15);if("horizontal"===s&&Ct===!1&&(Ht=!0),Ht){a&&(_.style[a]="0s");var l=gt?-(nt+B-X)*U:-(nt-X)*U,d=gt?B*U:0;!gt&&ot&&(l=-(nt*U-_.parentNode.offsetWidth)),Dt=-Mt*U+It,Dt=Math.max(l,Math.min(Dt,d)),o?_.style[o]="translate3d("+Dt+"px, 0, 0)":_.style.left=Dt+"px",t.preventDefault()}}function G(t){var e=t.changedTouches[0];if(It=parseInt(e.clientX)-Nt,Ht&&0!==It){t.preventDefault(),Ht=!1,Dt=-Mt*U+It;var n,i=gt?-B:0,r=gt?nt+B-X:nt-X;n=-(Dt/U),n=It<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,r)),Mt=n,L(1)}}function R(){clearTimeout(Q),Q=setTimeout(function(){X=Rt(),U=Ft(),J=Ut(),E()},100)}function j(){Tt||window.requestAnimationFrame(function(){Lt&&O(),Tt=!1}),Tt=!0}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var F,U,B,X,K,Y,V,$,J,Q,Z=t.transform,_=t.container,tt=document.createElement("div"),et=_.children,nt=et.length,it=et.length,rt=t.gutter,at="right"===t.gutterPosition?"marginRight":"marginLeft",ot=t.fixedWidth,st=t.controls,lt=t.controlsText,dt=!!t.controlsContainer&&t.controlsContainer,ut=t.nav,ct=!!t.navContainer&&t.navContainer,vt=t.arrowKeys,ft=a?t.speed:0,ht=t.autoplay,mt=t.autoplayTimeout,bt="forward"===t.autoplayDirection?1:-1,pt=t.autoplayText,yt=t.rewind,gt=!(yt||ot&&!t.maxContainerWidth)&&t.loop,Et=t.autoHeight,At=t.slideByPage,Lt=t.lazyload,xt=t.touch,wt=-1,Mt=0,Ct=!1,Tt=!1;if(ht)var kt,St,Pt=!1;if(xt)var Nt=0,Wt=0,Dt=0,It=0,Ot=0,Ht=!1;var qt=!ot&&t.responsive,zt="object"==typeof qt&&Object.keys(qt),Gt=r(qt),Rt=function(){return ot?function(){return Math.max(Math.min(nt,Math.floor(_.parentNode.offsetWidth/ot)),1)}:function(){var e,n=document.documentElement.clientWidth;if(void 0!==zt.length&&void 0!==Gt&&zt.length===Gt.length)if(n<zt[0])e=t.items;else if(n>=zt[zt.length-1])e=Gt[Gt.length-1];else for(var i=0;i<zt.length-1;i++)n>=zt[i]&&n<=zt[i+1]&&(e=Gt[i]);else e=t.items;return Math.max(Math.min(nt,e),1)}}(),jt=function(){var e;return e=ot?!!t.maxContainerWidth&&Math.ceil(t.maxContainerWidth/ot):void 0!==Gt.length?Math.max.apply(Math,Gt):t.items,e?Math.min(nt,e):e},Ft=function(){return ot?function(){return ot+rt}:function(){return(tt.clientWidth+rt)/X}}(),Ut=function(){return t.navContainer?function(){return nt}:function(){return Math.ceil(nt/X)}}(),Bt=function(){return gt?function(){return Mt+B}:function(){return Mt}}();return X=Rt(),B=jt(),J=Ut(),{init:function(){_.classList.add("tiny-content",Z),0===_.id.length?_.id=F=e():F=_.id,tt.className="tiny-slider",gn.wrap(_,tt),navigator.msMaxTouchPoints&&(tt.classList.add("ms-touch"),tt.addEventListener("scroll",H,!1));for(var n=0;n<nt;n++)et[n].id=F+"item"+n;if(gt){for(var i=document.createDocumentFragment(),r=document.createDocumentFragment(),a=B;a--;){var o=et[a].cloneNode(!0),s=et[nt-1-a].cloneNode(!0);o.id="",s.id="",i.insertBefore(o,i.firstChild),r.appendChild(s)}_.appendChild(i),_.insertBefore(r,_.firstChild),it=_.children.length,et=_.children}if(ut){if(!t.navContainer){for(var l="",d=0;d<nt;d++)l+='<button data-slide="'+d+'" tabindex="-1" aria-selected="false" aria-controls="'+F+"item"+d+'" type="button"></button>';ht&&(l+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+pt[0]+"</button>"),l='<div class="tiny-nav" aria-label="Carousel Pagination">'+l+"</div>",gn.append(tt,l),ct=tt.querySelector(".tiny-nav")}if(V=ct.querySelectorAll("[data-slide]"),$=V.length,!ct.hasAttribute("aria-label")){ct.setAttribute("aria-label","Carousel Pagination");for(var u=0;u<$;u++){var c=V[u];c.setAttribute("tabindex","-1"),c.setAttribute("aria-selected","false"),c.setAttribute("aria-controls",F+"item"+u)}}}if(st&&(t.controlsContainer||(gn.append(tt,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+F+'" type="button">'+lt[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+F+'" type="button">'+lt[1]+"</button></div>"),dt=tt.querySelector(".tiny-controls")),K=dt.querySelector('[data-controls="prev"]'),Y=dt.querySelector('[data-controls="next"]'),dt.hasAttribute("tabindex")||(dt.setAttribute("aria-label","Carousel Navigation"),K.setAttribute("aria-controls",F),Y.setAttribute("aria-controls",F),K.setAttribute("tabindex","-1"),Y.setAttribute("tabindex","0"))),ht&&(ct||(gn.append(tt,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+pt[0]+"</button></div>"),ct=tt.querySelector(".tiny-nav")),St=ct.querySelector("[data-action]")),U=Ft(),E(),xt&&(_.addEventListener("touchstart",q,!1),_.addEventListener("touchmove",z,!1),_.addEventListener("touchend",G,!1),_.addEventListener("touchcancel",G,!1)),st&&(b(),K.addEventListener("click",w,!1),Y.addEventListener("click",M,!1),K.addEventListener("keydown",D,!1),Y.addEventListener("keydown",D,!1)),ut)for(var v=V.length;v--;)V[v].addEventListener("click",C,!1),V[v].addEventListener("keydown",I,!1);if(ht&&(T(),St.addEventListener("click",S,!1),st&&(K.addEventListener("click",P,!1),Y.addEventListener("click",P,!1)),ut))for(var f=0;f<$;f++)V[f].addEventListener("click",P,!1);vt&&document.addEventListener("keydown",N,!1),window.addEventListener("resize",R,!1),window.addEventListener("scroll",j,!1)},destory:function(){if(_.classList.remove("tiny-content"),_.style.width="",_.style[a]="",_.style.transform="",_.style.marginLeft="",_.style.left="",gn.unwrap(tt),gt)for(var e=B;e--;)et[0].remove(),et[et.length-1].remove();if(void 0!==F){F=null,_.removeAttribute("id");for(var n=nt;n--;)et[n].removeAttribute("id"),et[n].removeAttribute("aria-hidden"),et[n].style.width=""}if(xt&&(_.removeEventListener("touchstart",q,!1),_.removeEventListener("touchmove",z,!1),_.removeEventListener("touchend",G,!1),_.removeEventListener("touchcancel",G,!1)),st&&(t.controlsContainer?(dt.removeAttribute("aria-label"),K.removeAttribute("aria-controls"),K.removeAttribute("tabindex"),K.removeEventListener("click",w,!1),K.removeEventListener("keydown",D,!1),Y.removeAttribute("aria-controls"),Y.removeAttribute("tabindex"),Y.removeEventListener("click",M,!1),Y.removeEventListener("keydown",D,!1)):(dt.remove(),dt=null,K=null,Y=null)),ut){if(t.navContainer){ct.removeAttribute("aria-label");for(var i=V.length;i--;)V[i].removeAttribute("aria-selected"),V[i].removeAttribute("aria-controls"),V[i].removeEventListener("click",C,!1),V[i].removeEventListener("keydown",I,!1)}else ct.remove(),ct=null;V=null,$=null}if(ht)if(t.navContainer||null===ct){if(St.removeEventListener("click",S,!1),St=null,st&&t.controlsContainer&&(K.removeEventListener("click",P,!1),Y.removeEventListener("click",P,!1)),ut&&t.navContainer)for(var r=0;r<$;r++)V[r].removeEventListener("click",P,!1)}else ct.remove(),ct=null;vt&&document.removeEventListener("keydown",vt,!1),window.removeEventListener("resize",R,!1),window.removeEventListener("scroll",j,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function r(t){if("object"==typeof t){for(var e=[],n=Object.keys(t),i=0,r=n.length;i<r;i++){var a=n[i];e.push(t[a])}return e}return!1}var a=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),o=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),s={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
