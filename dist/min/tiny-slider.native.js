var tinySlider=function(){"use strict";function t(t){function d(){nt.classList.add("tiny-content",et),0===nt.id.length?nt.id=K=e():K=nt.id,it.className="tiny-slider",gn.wrap(nt,it),navigator.msMaxTouchPoints&&(it.classList.add("ms-touch"),it.addEventListener("scroll",G,!1));for(var n=0;n<at;n++)rt[n].id=K+"item"+n;if(Pt=Yt(),at<=Pt&&(wt=xt=bt=ct=Mt=!1),V=Vt(),wt||dt){for(var i=document.createDocumentFragment(),r=document.createDocumentFragment(),a=V;a--;){var o=rt[a].cloneNode(!0),s=rt[at-1-a].cloneNode(!0);o.id="",s.id="",i.insertBefore(o,i.firstChild),r.appendChild(s)}nt.appendChild(i),nt.insertBefore(r,nt.firstChild),ot=nt.children.length,rt=nt.children}if(bt){if(!t.navContainer){for(var l="",d=0;d<at;d++)l+='<button data-slide="'+d+'" tabindex="-1" aria-selected="false" aria-controls="'+K+"item"+d+'" type="button"></button>';yt&&(l+='<button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Et[0]+"</button>"),l='<div class="tiny-nav" aria-label="Carousel Pagination">'+l+"</div>",gn.append(it,l),ht=it.querySelector(".tiny-nav")}if(Q=ht.querySelectorAll("[data-slide]"),Z=Q.length,!ht.hasAttribute("aria-label")){ht.setAttribute("aria-label","Carousel Pagination");for(var u=0;u<Z;u++){var c=Q[u];c.setAttribute("tabindex","-1"),c.setAttribute("aria-selected","false"),c.setAttribute("aria-controls",K+"item"+u)}}}ct&&(t.controlsContainer||(gn.append(it,'<div class="tiny-controls" aria-label="Carousel Navigation"><button data-controls="prev" tabindex="-1" aria-controls="'+K+'" type="button">'+ft[0]+'</button><button data-controls="next" tabindex="0" aria-controls="'+K+'" type="button">'+ft[1]+"</button></div>"),vt=it.querySelector(".tiny-controls")),$=vt.querySelector('[data-controls="prev"]'),J=vt.querySelector('[data-controls="next"]'),vt.hasAttribute("tabindex")||(vt.setAttribute("aria-label","Carousel Navigation"),$.setAttribute("aria-controls",K),J.setAttribute("aria-controls",K),$.setAttribute("tabindex","-1"),J.setAttribute("tabindex","0"))),yt&&(ht||(gn.append(it,'<div class="tiny-nav" aria-label="Carousel Pagination"><button data-action="stop" type="button"><span hidden>Stop Animation</span>'+Et[0]+"</button></div>"),ht=it.querySelector(".tiny-nav")),Ht=ht.querySelector("[data-action]")),Dt=!0}function u(){if(Wt&&!Bt||(nt.style.width=Y*ot+"px"),dt){var t=dt;if(ut){var e=it.clientWidth;t=(e-Y*Math.floor(e/Y)+st)/2}Wt&&!ut||(nt.style.paddingLeft=t+"px")}var n=V*Y,i="marginLeft"===lt?st:0,r=n+i;0!==r&&(nt.style.marginLeft=-r+"px");for(var a=ot;a--;)Wt&&ut||(rt[a].style.width=Y-st+"px"),Wt||0===st||(rt[a].style[lt]=st+"px");Wt=!0}function c(t){return"boolean"==typeof t.complete?t.complete:"number"==typeof t.naturalWidth?0!==t.naturalWidth:void 0}function f(t){for(var e=t.length;e--;)c(t[e])&&t.splice(e,1);0===t.length?v():setTimeout(function(){f(t)},16)}function v(){for(var t,e=Qt(),n=[],i=dt?1:0,r=ot;r--;)r>=e-i&&r<e+Pt&&n.push(rt[r].offsetHeight);t=Math.max.apply(null,n),o&&(nt.style[o]=pt/1e3+"s"),nt.style.height=t+"px",kt=!0,setTimeout(function(){o&&(nt.style[o]="0s"),kt=!1},pt)}function b(){navigator.msMaxTouchPoints&&(it.style.msScrollSnapPointsX="snapInterval(0%, "+Y+")")}function h(){for(var t=Z;t--;){var e=Q[t];t<_?e.hasAttribute("hidden")&&e.removeAttribute("hidden"):e.hasAttribute("hidden")||e.setAttribute("hidden","")}}function m(){Pt=Yt(),at<=Pt&&(wt=xt=bt=ct=Mt=!1),Y=$t(),_=Jt(),u(),b(),bt&&!t.navContainer&&h(),A(),y()}function p(t){nt.setAttribute("aria-busy","true"),g(t),A(),setTimeout(function(){wt&&E(),y(),kt=!1,nt.setAttribute("aria-busy","false")},pt*t)}function y(){x(),bt&&w(),ct&&!wt&&L(),Tt&&M(),Lt&&T()}function g(t){o&&(nt.style[o]=pt*t/1e3+"s",kt=!0)}function A(){Rt=-Y*Nt,s?nt.style[s]="translate3d("+Rt+"px, 0, 0)":nt.style.left=Rt+"px"}function E(){var t,e,n=dt?1:0;Mt?(t=Pt-V+1+n,e=at+V-2*Pt-1):(t=-V+1+n,e=at+V-Pt-2),(Nt<t||Nt>e)&&(Nt-at>=t&&Nt-at<=e?Nt-=at:Nt+=at,o&&(nt.style[o]="0s"),A())}function x(){for(var t=ot;t--;){var e=Qt(),n=rt[t];t>=e&&t<e+Pt?n.hasAttribute("aria-hidden")&&"true"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","false"):n.hasAttribute("aria-hidden")&&"false"!==n.getAttribute("aria-hidden")||n.setAttribute("aria-hidden","true")}}function w(){var e;if(St===-1){var n=Nt<0?Nt+at:Nt>=at?Nt-at:Nt;if(e=t.navContainer?n:Math.floor(n/Pt),!wt&&!t.navContainer){var i=/^-?[0-9]+$/,r=i.test(at/Pt);r||Nt!==at-Pt||(e+=1)}}else e=St,St=-1;for(var a=_;a--;){var o=Q[a];a===e?"false"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","0"),o.setAttribute("aria-selected","true")):"true"===o.getAttribute("aria-selected")&&(o.setAttribute("tabindex","-1"),o.setAttribute("aria-selected","false"))}}function L(){var t=dt?at+1:at;t>Pt?(0===Nt?($.disabled=!0,H($,J)):$.disabled=!1,xt||Nt!==t-Pt?J.disabled=!1:(J.disabled=!0,H(J,$))):(0!==Nt&&(Nt=0,A()),$.disabled=!0,J.disabled=!0,$.setAttribute("tabindex","-1"),J.setAttribute("tabindex","-1"),$===document.activeElement&&$.blur(),J===document.activeElement&&J.blur())}function M(){if(gn.isInViewport(nt)){for(var t=[],e=ot;e--;){var n=Nt+V-1;if(e>=n&&e<=n+Pt+1){for(var i=rt[e].querySelectorAll(".tiny-lazy"),r=i.length;r--;t.unshift(i[r]));t.unshift()}}for(var a=t.length;a--;){var o=t[a];o.classList.contains("loaded")||(o.src=o.getAttribute("data-src"),o.classList.add("loaded"))}}}function T(){for(var t=Qt(),e=[],n=ot;n--;)if(n>=t-1&&n<=t+Pt)for(var i=rt[n].querySelectorAll("img"),r=i.length;r--;)e.push(i[r]);0===e.length?v():f(e)}function C(t){if(!kt){t=Mt?t*Pt:t;var e=Math.abs(t),n=dt?at+1:at;Nt=wt?Nt+t:Math.max(0,Math.min(Nt+t,n-Pt)),p(e)}}function P(){C(-1)}function S(){var t=dt?at+1:at;C(xt&&Nt===t-Pt?-t+Pt:1)}function N(e){if(!kt){for(var n,i=e.target||e.srcElement;gn.indexOf(Q,i)===-1;)i=i.parentNode;St=n=Number(i.getAttribute("data-slide"));var r,a;r=t.navContainer?n:n*Pt,r=wt?r:Math.min(r,at-Pt),a=Math.abs(r-Nt),Nt=r,p(a)}}function k(){Ot=setInterval(function(){C(At)},gt),Ht.setAttribute("data-action","stop"),Ht.innerHTML="<span hidden>Stop Animation</span>"+Et[1],qt=!0}function D(){clearInterval(Ot),Ht.setAttribute("data-action","start"),Ht.innerHTML="<span hidden>Stop Animation</span>"+Et[0],qt=!1}function W(){qt?D():k()}function I(){qt&&D()}function O(t){t=t||window.event,t.keyCode===l.LEFT?C(-1):t.keyCode===l.RIGHT&&C(1)}function H(t,e){"object"==typeof t&&"object"==typeof e&&t===document.activeElement&&(t.blur(),e.focus())}function q(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==l.LEFT&&e!==l.UP&&e!==l.HOME&&e!==l.PAGEUP||n!==$&&$.disabled!==!0&&H(n,$),e!==l.RIGHT&&e!==l.DOWN&&e!==l.END&&e!==l.PAGEDOWN||n!==J&&J.disabled!==!0&&H(n,J),e!==l.ENTER&&e!==l.SPACE||(n===J?S():P())}function z(t){t=t||window.event;var e=t.keyCode,n=document.activeElement;e!==l.LEFT&&e!==l.PAGEUP||n.getAttribute("data-slide")>0&&H(n,n.previousElementSibling),e!==l.UP&&e!==l.HOME||0!==n.getAttribute("data-slide")&&H(n,Q[0]),e!==l.RIGHT&&e!==l.PAGEDOWN||n.getAttribute("data-slide")<_-1&&H(n,n.nextElementSibling),e!==l.DOWN&&e!==l.END||n.getAttribute("data-slide")<_-1&&H(n,Q[_-1]),e!==l.ENTER&&e!==l.SPACE||N(t)}function G(){nt.style[o]="0s",nt.style.transform="translate3d(-"+-nt.scrollLeft()+"px,0,0)"}function R(t){var e=t.changedTouches[0];zt=parseInt(e.clientX),Gt=parseInt(e.clientY)}function j(t){var e=t.changedTouches[0];jt=parseInt(e.clientX)-zt,Ft=parseInt(e.clientY)-Gt;var r=n(Math.atan2(Ft,jt)),a=i(r,15);if("horizontal"===a&&kt===!1&&(Ut=!0),Ut){o&&(nt.style[o]="0s");var l=wt?-(at+V-Pt)*Y:-(at-Pt)*Y,d=wt?V*Y:0;!wt&&ut&&(l=-(at*Y-it.clientWidth)),Rt=-Nt*Y+jt,Rt=Math.max(l,Math.min(Rt,d)),s?nt.style[s]="translate3d("+Rt+"px, 0, 0)":nt.style.left=Rt+"px",t.preventDefault()}}function F(t){var e=t.changedTouches[0];if(jt=parseInt(e.clientX)-zt,Ut&&0!==jt){t.preventDefault(),Ut=!1,Rt=-Nt*Y+jt;var n,i=wt?-V:0,r=wt?at+V-Pt:at-Pt;n=-(Rt/Y),n=jt<0?Math.ceil(n):Math.floor(n),n=Math.max(i,Math.min(n,r)),Nt=n,p(1)}}function U(){clearTimeout(tt),tt=setTimeout(function(){m()},100)}function B(){It||window.requestAnimationFrame(function(){Tt&&M(),It=!1}),It=!0}function X(){if(Ct&&(nt.addEventListener("touchstart",R,!1),nt.addEventListener("touchmove",j,!1),nt.addEventListener("touchend",F,!1),nt.addEventListener("touchcancel",F,!1)),ct&&(wt||L(),$.addEventListener("click",P,!1),J.addEventListener("click",S,!1),$.addEventListener("keydown",q,!1),J.addEventListener("keydown",q,!1)),bt)for(var t=Q.length;t--;)Q[t].addEventListener("click",N,!1),Q[t].addEventListener("keydown",z,!1);if(yt&&(k(),Ht.addEventListener("click",W,!1),ct&&($.addEventListener("click",I,!1),J.addEventListener("click",I,!1)),bt))for(var e=0;e<Z;e++)Q[e].addEventListener("click",I,!1);mt&&document.addEventListener("keydown",O,!1),window.addEventListener("resize",U,!1),window.addEventListener("scroll",B,!1)}if(t=gn.extend({container:document.querySelector(".slider"),transform:"horizontal",items:1,gutter:0,gutterPosition:"right",edgePadding:0,fixedWidth:!1,maxContainerWidth:!1,slideByPage:!1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:250,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],loop:!0,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,rewind:!1},t||{}),"object"!=typeof t.container||null===t.container)return{init:function(){},destory:function(){}};var K,Y,V,$,J,Q,Z,_,tt,et=t.transform,nt=t.container,it=document.createElement("div"),rt=nt.children,at=rt.length,ot=rt.length,st=t.gutter,lt="right"===t.gutterPosition?"marginRight":"marginLeft",dt=t.rewind?0:t.edgePadding,ut=t.fixedWidth,ct=(t.maxContainerWidth,t.controls),ft=t.controlsText,vt=!!t.controlsContainer&&t.controlsContainer,bt=t.nav,ht=!!t.navContainer&&t.navContainer,mt=t.arrowKeys,pt=o?t.speed:0,yt=t.autoplay,gt=t.autoplayTimeout,At="forward"===t.autoplayDirection?1:-1,Et=t.autoplayText,xt=t.rewind,wt=!xt&&t.loop,Lt=t.autoHeight,Mt=t.slideByPage,Tt=t.lazyload,Ct=t.touch,Pt=t.items,St=-1,Nt=0,kt=!1,Dt=!1,Wt=!1,It=!1;if(yt)var Ot,Ht,qt=!1;if(Ct)var zt=0,Gt=0,Rt=0,jt=0,Ft=0,Ut=!1;var Bt=!ut&&t.responsive,Xt="object"==typeof Bt&&Object.keys(Bt),Kt=r(Bt),Yt=function(){return ut?function(){return Math.max(1,Math.min(at,Math.floor(it.clientWidth/ut)))}:function(){var e=t.items,n=document.documentElement.clientWidth;if(Kt)for(var i=0;i<Xt.length;i++)n>=Xt[i]&&(e=Kt[i]);return Math.max(1,Math.min(at,e))}}(),Vt=function(){return wt?at:dt?1:void 0},$t=function(){return function(){return ut?ut+st:(it.clientWidth+st-2*dt)/Pt}}(),Jt=function(){return function(){return t.navContainer?at:Math.ceil(at/Pt)}}(),Qt=function(){return function(){return Nt+V}}();return{init:function(){d(),m(),X()},destory:function(){if(gn.unwrap(it),it=null,nt.removeAttribute("id"),nt.classList.remove("tiny-content",et),nt.style="",Ct&&a(nt),wt)for(var e=V;e--;)rt[0].remove(),rt[rt.length-1].remove();for(var n=at;n--;)rt[n].removeAttribute("id"),rt[n].removeAttribute("aria-hidden"),rt[n].style="";if(K=at=null,ct&&(t.controlsContainer?(vt.removeAttribute("aria-label"),$.removeAttribute("aria-controls"),$.removeAttribute("tabindex"),J.removeAttribute("aria-controls"),J.removeAttribute("tabindex"),a(vt)):(vt.remove(),vt=$=J=null)),bt){if(t.navContainer){ht.removeAttribute("aria-label");for(var i=Q.length;i--;)Q[i].removeAttribute("aria-selected"),Q[i].removeAttribute("aria-controls"),Q[i].removeAttribute("tabindex");a(ht)}else ht.remove(),ht=null;Q=Z=null}yt&&(t.navContainer||null===ht?a(Ht):(ht.remove(),ht=null)),mt&&document.removeEventListener("keydown",mt,!1),window.removeEventListener("resize",U,!1),window.removeEventListener("scroll",B,!1)}}}function e(){return void 0===window.tinySliderNumber?window.tinySliderNumber=1:window.tinySliderNumber++,"tinySlider"+window.tinySliderNumber}function n(t){return t*(180/Math.PI)}function i(t,e){return Math.abs(90-Math.abs(t))>=90-e?"horizontal":Math.abs(90-Math.abs(t))<=e&&"vertical"}function r(t){if("object"==typeof t){for(var e=[],n=Object.keys(t),i=0,r=n.length;i<r;i++){var a=n[i];e.push(t[a])}return e}return!1}function a(t){for(var t=gn.isNodeList(t)?t:[t],e=t.length;e--;){var n=t[e],i=n.cloneNode(!0),r=n.parentNode;r.insertBefore(i,n),n.remove(),n=null}}var o=gn.getSupportedProp(["transitionDuration","WebkitTransitionDuration","MozTransitionDuration","OTransitionDuration"]),s=gn.getSupportedProp(["transform","WebkitTransform","MozTransform","OTransform"]),l={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};return t}();
//# sourceMappingURL=../sourcemaps/tiny-slider.native.js.map
